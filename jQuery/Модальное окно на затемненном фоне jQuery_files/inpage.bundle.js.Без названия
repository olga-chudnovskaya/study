!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(r,n,function(t){return e[t]}.bind(null,n));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=167)}([function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return o}));var n=i(44);const a={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class o extends n.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var n,o,s;super(e,r({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),s=void 0,(o="id")in(n=this)?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s,this.id=function(e){return a[e]||0}(this.code)}}},function(e,t,i){"use strict";function r(){if(v.a&&v.a.document&&"function"===typeof v.a.document.hasFocus)try{return v.a.document.hasFocus()}catch(e){}}function n(e){var t;return(void 0===t&&(t=window),void 0===Y&&(Y=t.JSON),Y).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(U.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(w.a)(r))return Object(W.a)(r.name)?r.name:"[Function]";if(Object(H.a)(r))return Object(G.c)(r);if(!Object(z.a)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var s=i(24),d=i(10);var l=i(15),c=i(19),u=i(34),h=i(92);var p=i(29),A=i(0),m=i(59),f=i(7),v=i(42),g=i(44),y=i(137);const b=Object(y.a)(window);var _=i(73),O=i(145),S=i(95),T=i(68),E=i(36),w=i(13),C=i(64),P=i(123),I=i(49),D=i(35),N=i(43),R=i(124);const k=64;var V=i(41);Object(V.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var j=i(55),M=i(96),L=i(97),B=i(126),x=i(26),F=i(135),U=i(47),H=i(66),z=i(2),W=i(17),G=i(81);let Y;var q=i(54),X=i(136),K=i(56),Q=i(128),J=i(91);const Z=e=>{let{eventType:t,eventName:i,value:r,values:n}=e;const a={};return Object(D.a)(n,(e,r)=>{a[t+"_"+i+"_"+r]=e}),o({[t+"_"+i]:r},a)},$=o({},Q.a,{[B.a]:String(X.a.serialize()),bannerTypeFromNanpu:F.a,bundleName:x.c,abFlags:j.a,iCookie:M.a,testIds:L.a,ecmaVer:"ES2017"});class ee{constructor(e){a(this,"rootFields",{}),a(this,"labels",{}),a(this,"params",void 0),a(this,"event",e=>{let{name:t,data:i,labels:r,probability:n,extraRootFields:a,queryParams:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:n,extraRootFields:a,queryParams:o})}),a(this,"error",e=>{let{error:t,labels:i,probability:r,extraRootFields:n}=e;const a=new g.a(t);this.push({eventName:String(a.code),eventType:"fatal",data:a,additionalStatsLabels:i,probability:r,extraRootFields:n})}),a(this,"values",e=>{let{name:t,values:i,data:r,labels:n,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:"values",data:r,additionalStatsLabels:n,probability:a,values:i,extraRootFields:o})}),a(this,"warning",e=>{let{name:t,message:i,probability:r,extraRootFields:n}=e;Object(q.a)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:n})}),a(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(this.params,["onLogError"])}),a(this,"setRootFields",e=>{const t=Object(N.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),a(this,"setLabels",e=>{const t=Object(N.a)(e);Object(f.a)(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),a(this,"errorToStats",(e,t,i)=>{const r=new g.a(e);this.push({eventName:String(r.code),eventType:"fatal",data:r,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=o({},e,{sid:e.sid||Object(E.a)(k),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){Object(s.a)(e)}}:s.a})}push(e){let{eventName:t,eventType:i,data:r={},additionalStatsLabels:a,value:s=1,probability:d=1,values:l={},extraRootFields:u={},queryParams:h={}}=e;if(!Object(J.a)(d))return;const{service:p,version:A}=this.params,m={service:p,version:A,data:r,eventName:t,eventType:i,additionalStatsLabels:a,value:s,values:l};if(void 0!==ee.sendingEventName)throw new g.a({message:"RecursiveStatsRequests",details:{service:p,version:A,eventType:i,eventName:t,sendingEventName:ee.sendingEventName}});ee.sendingEventName=t;try{const e=Object(c.b)(te,o({[p]:A,[i]:t},a,h)),r=this.createFullStatsObject(m,u);this.sendData(e,n(r))}catch(f){ee.sendingEventName=void 0,this.params.onLogError(new g.a(f,{details:{service:p,version:A,eventType:i,eventName:t}}))}ee.sendingEventName=void 0}sendData(e,t){Object(R.a)(e,t)||Object(P.a)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:n,eventName:a,eventType:s,data:d,additionalStatsLabels:l,value:c}=e,u=Z(e),h=o({},this.labels,l,{version:this.params.version}),p=Object(N.a)(u),A=Object(I.a)(p),f=Object(N.a)(h),v={service:i,tags:A,labels:Object(I.a)(f)},{location:g,referrer:y}=Object(S.a)(document);return o({},t,$,this.rootFields,v,{timestamp:Date.now(),eventType:s,eventName:a,data:d,sid:this.params.sid,version:n,location:Object(T.a)(window),topLocation:g,topAncestor:_.b,isTopAncestorUndetermined:!_.a||void 0,ancestorOrigins:b,documentIsVisible:Object(K.a)(document),referrer:window.document.referrer,topReferrer:y,currentScriptSrc:O.a,secureIFrame:C.a,isVideoADB:Object(w.a)(m.a),value:c,rnd:this.params.rnd,topDocumentFocus:r()})}}a(ee,"sendingEventName",void 0),i.d(t,"a",(function(){return te})),i.d(t,"b",(function(){return ie})),i.d(t,"c",(function(){return re}));const te="https://jstracer.yandex.ru/jstracer",ie=Object(c.e)(te).hostname,re=new ee({service:"AdSDKJS",version:String(p.a),sid:u.a,rnd:h.a,onLogError:Object(d.a)(e=>{Object(s.a)(e),re.error({error:new A.a(e,{code:"STATS_LOG_ERROR",details:void 0})})})});l.a.addErrorHandler(e=>{re.error({error:new A.a(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})})},function(e,t,i){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){var t,i;if(!o.a||void 0===console)return;const r="AdSDKJS["+l.c+"]:";null===(t=(i=console).log)||void 0===t||t.call(i,r,e)}var n=i(94);Object(n.a)(window);var a=i(53);a.a&&a.a.src;var o=i(79),s=i(48);const d=Object(s.b)(window,"adsdktracelogs");Boolean(d);var l=i(26),c=i(41);Object(c.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return Math.random()<s}i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return c}));var n=i(91),a=i(79);const o=1,s=.001,d=a.a?o:.05,l=a.a?o:s,c=Object(n.a)(d)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)}},function(e,t,i){"use strict";function r(e){return Object(n.a)(e)&&e.length>0}i.d(t,"a",(function(){return r}));var n=i(17)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(12),n=i(112);class a extends r.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&Object(n.a)(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),Object(n.a)(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)Object(n.a)(e,i)&&t.push(i);return t}}i.d(t,"a",(function(){return r}));var n=i(67)},function(e,t,i){"use strict";function r(e,t){e.forEach(e=>{Object(n.a)(e,t)})}var n=i(112);i.d(t,"a",(function(){return a}));class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,i){"use strict";function r(e){return"function"===typeof e||"Function"===Object(n.a)(e)}i.d(t,"a",(function(){return r}));var n=i(50)},function(e,t,i){"use strict";function r(e){let{element:t,eventName:i,listener:r,options:o,ignoreBubbling:s=!1}=e;const d=s?function(e){e.target===t&&r.call(this,e)}:r,l=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(o),c=a.a?l:l.capture,u=l.once&&!a.b?function(e){h(),d.call(this,e)}:d,h=()=>{Object(n.b)(t,i,u,c)};return Object(n.a)(t,i,u,c),h}i.d(t,"a",(function(){return r}));var n=i(72),a=i(102)},function(e,t,i){"use strict";i(44);var r=i(31),n=(i(145),i(36),i(4)),a=i(41);Object(a.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return o}));class o{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){o.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=n;try{Object(r.a)(this.destroyHandlers,...t)}catch(a){Object(r.a)(o.errorHandlers,a)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=n.a);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];i.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}o.errorHandlers=[]},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const a=e[n];t.call(i,a,n,e)&&r.push(a)}return r}},function(e,t,i){"use strict";function r(e){return"string"===typeof e}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){A.a.href=e;let t=A.a.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.a.search||"")+(A.a.hash||""),a=e.lastIndexOf(i),o=-1===a?e:e.slice(0,a);if(m.test(e)){const t=n(e.replace(m,"https:"));return A.a.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:A.a.href})}const s=A.a.protocol&&/^[a-z\-]+:/i.test(A.a.protocol)?A.a.protocol:"";return{originalPath:o,href:A.a.href,protocol:s,host:A.a.host,hostname:A.a.hostname,port:A.a.port,pathname:t,search:A.a.search,hash:A.a.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function o(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let n,a;if(-1===e?(n=f(i[r]),a=""):(n=f(i[r].slice(0,e)),a=i[r].slice(e+1)),n){const e=Boolean(/(\[\])$/.exec(n));n=n.replace(/\[\]$/,""),e?void 0===t[n]?t[n]=[f(a)]:t[n]=[].concat(t[n],f(a)):t[n]=f(a)}}return t}function s(e){return o(n(e).search)}function d(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Object(u.a)(r)?t.push(v(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function l(e,t,i){if(void 0===i)return e;const s=n(e),l=o(s.search);return l[t]=i,a(r({},s,{search:d(l)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:l=!1}=void 0===i?{}:i;const c=n(e),u=o(c.search);return Object(p.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}),a(r({},c,{search:d(u)}),l)}i.d(t,"e",(function(){return n})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var u=i(33),h=i(121),p=i(35),A=i(32);Object(h.a)(e=>{return r({},n(e))});const m=/^(android-app:|chrome-extension:)/,f=e=>{try{return decodeURIComponent(e)}catch(t){return e}},v=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,i){"use strict";function r(e,t){var i,r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"===typeof btoa){var a=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];null!=a&&(r[a]=!0)}for(n=0;n<e.length;n++){var o=e[n];null!=o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){"use strict";function r(e,t){return-1!==Object(n.a)(e,t)}i.d(t,"a",(function(){return r}));var n=i(129)},function(e,t,i){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){setTimeout(()=>{throw e},0)}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));const r="",n="InPage",a=1623844886582},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return d})),i.d(t,"g",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return u})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return p}));var r=i(53),n=i(78);const a=r.a?Object(n.b)(r.a):void 0;r.a&&Object(n.a)(r.a);const o=null===a||void 0===a?void 0:a.SID,s=null===a||void 0===a?void 0:a.VSID,d=null===a||void 0===a?void 0:a.ICOOKIE,l=null===a||void 0===a?void 0:a.TEST_IDS,c=null===a||void 0===a?void 0:a.AB_FLAGS,u=null===a||void 0===a?void 0:a.AdditionalStatsRootFields,h=null===a||void 0===a?void 0:a.VAS_USER_SESSION_RANDOM,p=null===a||void 0===a?void 0:a.RUM_WRAPPER},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return d}));var r=i(48);let n;try{n={build:5191,code:[{id:5191,percent:100}]}}catch(l){n={}}const{build:a,code:o}=n,s=a,d=Object(r.a)(window,"adsdkver",o)},function(e,t,i){"use strict";function r(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Object(n.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}i.d(t,"a",(function(){return r}));var n=i(33)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=document.createElement("a")},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(50),n=i(83);const a=Object(n.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(r.a)(e)},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(36),n=i(3),a=i(28);const o=a.e||Object(r.a)(64);Object(n.a)((a.e?"Use existing SID":"Generate new SID")+" ["+o+"]")},function(e,t,i){"use strict";function r(e,t,i){for(const r in e)Object(n.a)(e,r)&&t.call(i,e[r],r,e)}i.d(t,"a",(function(){return r}));var n=i(67)},function(e,t,i){"use strict";function r(e){let t="";for(let i=0;i<e;i++)t+=(16*Object(n.a)()|0).toString(16);return t}i.d(t,"a",(function(){return r}));var n=i(52)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a}));const r="an.yandex.ru",n="yastatic.net",a=[r,n]},function(e,t,i){"use strict";function r(e,t,i){var r,n,a,o,s,d,l;const c=null===(r=i.ya)||void 0===r?void 0:null===(n=r.videoAd)||void 0===n?void 0:null===(a=n.loadedModules)||void 0===a?void 0:a[e];return c||(void 0!==t?null===(o=i.ya)||void 0===o?void 0:null===(s=o.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(l=d[t])||void 0===l?void 0:l[e]:void 0)}function n(e){let{moduleName:t,version:i=l.b,onSuccess:n,onError:m,win:f,timeout:v}=e,g="loading";const y=Date.now(),_=Object(a.a)(Object(A.a)(e=>{g="success";const r=Date.now()-y;h.c.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:l.a,bundleVersion:i},values:{timeSpent:r}}),n(e)},"LOAD_MODULE_CALLBACK_ERROR")),S=Object(a.a)(Object(A.a)(e=>{g="error",h.c.error({error:e}),m(e)},"LOAD_MODULE_CALLBACK_ERROR")),T=r(t,i,f);if(T)return _(T),o.a;const E=C({version:i,bundleName:t,win:f,ecmaVersion:b}),{promise:w,teardown:P}=N({src:E,win:f}),{promise:I,clear:D}=Object(s.a)(v),R=Object(p.a)({element:f,eventName:"unload",listener:()=>{S(new c.a({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:v}}))}}),k=()=>{R(),D()};return I.then(()=>{S(new c.a({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:v}}))}),w.then(()=>{k();const e=r(t,i,f),n=O(t);e?(u.a&&d.a.logTimingAndLoadRum(n,E),_(e)):S(new c.a({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{k(),S(new c.a(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{k(),P(),"loading"===g&&h.c.event({name:"LoadModuleTeardownCalled",data:void 0})}}var a=i(10),o=i(4),s=i(27),d=i(98),l=i(29),c=i(0),u=i(131),h=i(1),p=i(14),A=i(108),m=i(125);const f=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(m.a)(e))(window);var v=i(48);const g=(""+Object(v.b)(window,"adsdkecmaver")).toUpperCase(),y="ES2017"===g||"ES5"===g?g:void 0,b=(()=>"ES2017"===y?"ES2017":"ES5"===y?"ES5":f?"ES2017":"ES5")();var _=i(132);const O=e=>_.b[e]+".bundle.js";var S=i(39),T=i(13),E=i(133),w=i(99);const C=e=>{let{bundleName:t,win:i,ecmaVersion:r,version:n}=e;const a=E.a[r],o=Object(S.a)(i),s=O(t),d=""+Object(w.a)(n)+a+"/"+s;return Object(T.a)(o)?o(d):d};var P=i(100),I=i(109);const D=e=>{var t;(e=>{e.crossOrigin="anonymous"})(e),null===(t=I.a.onBeforeLoad)||void 0===t||t.call(I.a,e)},N=e=>{let{src:t,win:i}=e;return Object(P.a)({src:t,onBeforeLoad:D,win:i})};i.d(t,"a",(function(){return R})),i.d(t,"b",(function(){return n}));const R=3e4},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(77),n=i(13),a=i(70),o=i(111);const s=function(e){if(void 0===e&&(e=window),o.a)return o.a;const t=Object(r.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Object(a.a)(e,"ya.videoAd.encodeUrl");if(Object(n.a)(i))return i}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var n=i(117),a=i(4);const o=a.a,s=a.a;i.d(t,"a",(function(){return d}));const d=e=>{let{win:t,propertyName:i}=e;return{call:e=>Object(n.a)(r({win:t,propertyName:i},e)),subscribe:e=>s(r({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})})})(r({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise(e=>{s({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})})})(r({win:t,propertyName:i},e)),clear:e=>o(r({win:t,propertyName:i},e))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(71);const{length:n}=r.a,a=n>0?r.a[n-1].ownerDocument.defaultView:window},function(e,t,i){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):Object(n.a)(e).map(t=>[t,e[t]])}i.d(t,"a",(function(){return r}));var n=i(11)},function(e,t,i){"use strict";function r(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&Object(c.a)(e.JSON.stringify)&&Object(c.a)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function n(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Object(o.a)(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(Object(s.a)(r))return Object(m.a)(r.name)?r.name:"[Function]";if(!Object(A.a)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}var a=i(16),o=i(47),s=i(13),d=i(122),l=i(23),c=i(22);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Object(d.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",Object(l.a)(e)})(t)}},p=e=>t=>{const{JSON:i,clean:r}=h();try{return i[e](t)}finally{r()}};var A=i(2),m=i(17);const f={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0};i.d(t,"a",(function(){return g}));const v=i(159);class g extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||f.message)};super(),v(this,g.prototype),this.message=t.message||i.message||f.message,this.code=t.code||i.code||i.id||f.code,this.isFatal=Boolean(function(e){const[t]=Object(a.a)(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,f.isFatal])),this.details=t.details||i.details||f.details;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:a,lineNumber:o}=e;return(t||n||"?")+":"+(i||o||"?")+":"+(r||a||"?")}(i);let o=r===f.stack?this.stack:r;if(o&&o!==f.stack)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=o=s.stack||f.stack}this.toString=()=>n(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var n=i(10),a=(i(157),i(7)),o=i(33),s=i(66),d=i(11),l=i(2),c=i(17);const u=(e,t)=>{if(!Object(l.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(!function(e){if(void 0!==e){if(!Object(c.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,n]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===n.trim().length)throw new Error("testId bucket length error ["+e+"]")}return e}}(t.testIds))throw new Error("Parsed replaced macro has no testIds field: "+e);if(!("flags"in t)||!Object(l.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},h=e=>{const t=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["expFlags"]),i={};return Object(a.a)(e.expFlags,e=>{Object(a.a)(e,e=>{let{CONTEXT:{FLAGS:t}}=e;Object(l.a)(t)&&Object(a.a)(Object(d.a)(t),e=>{const r=t[e];i[e]=r})})}),r({flags:i},t)},p={testIds:"",flags:{}};const A=Object(n.a)(()=>{try{return __UAAS_CFG__}catch(e){return e}}),m=e=>{if(Object(s.a)(e))return{error:e,config:p};try{const t=Object(l.a)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!Object(l.a)(e)&&(!!("expFlags"in e&&Object(o.a)(e.expFlags))&&!!("testIds"in e&&Object(c.a)(e.testIds))))(t)?h(t):t;if(!u(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:p}}},f=Object(n.a)(()=>m(A()));i.d(t,"a",(function(){return y})),i.d(t,"b",(function(){return b}));let v,g=p;try{const e=f();if(e.error)throw e.error;g=e.config}catch(_){v=_}const y=g,b=v},function(e,t,i){"use strict";var r=i(11),n=i(2),a=i(8),o=i(30);i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));const{rootFields:s,extractionError:d}=(e=>{let t,i;return{rootFields:t=Object(o.a)(()=>(e=>{var t,i;const o=null===e||void 0===e?void 0:null===(t=e.ya)||void 0===t?void 0:null===(i=t.videoAd)||void 0===i?void 0:i.statsRootParams;if(Object(n.a)(o)){const e={},{vsid:t,contentPlayerVersion:i,pcodeVersion:n,widgetVersion:s}=o;if(Object(a.a)(t)&&(e.vsid=t),Object(a.a)(i)&&(e.contentPlayerVersion=i),Object(a.a)(n)&&(e.pcodeVersion=n),Object(a.a)(s)&&(e.widgetVersion=s),Object(r.a)(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),l=s,c=d},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(22);const n=[].find,a=Object(r.a)(n)?(e,t)=>n.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}}},function(e,t,i){"use strict";function r(e,t){const i={UrlParams:()=>f[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const n of Object(o.a)(e)){var i,r;const e=null===(i=n.Ya)||void 0===i?void 0:null===(r=i.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[r,n]of Object(d.a)(i)){const e=Object(A.a)(n);if(Object(l.a)(e))return Object(m.a)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function n(e,t,i){const n=r(e,t);return n?Number(n):function(e){const t=100*Object(u.a)();let i=0;for(let r=0;r<e.length;r++)if(t<(i+=e[r].percent))return e[r].id;return e[0].id}(i)}var a=i(62),o=i(77),s=i(119),d=i(43),l=i(8),c=i(19),u=i(52),h=i(11);const p={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0};Object(h.a)(p);var A=i(30),m=i(54);i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));const f={},v=Object(s.a)(document);for(const{location:g}of v){const e=Object(c.c)(g);Object(a.a)(e,(e,t)=>{0===p[t]&&(f[t]=e)})}},function(e,t,i){"use strict";function r(e){const t={};return e.forEach(e=>{let[i,r]=e;t[i]=r}),t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const r={}.toString,n=/\[object (\w+)\]/,a=e=>{const t=r.call(e);if(!t)return null;const i=t.match(n);if(!i)return null;const a=i[1];return a||null}},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(22);const n=!Object(r.a)(Math.random)||Math.random()===Math.random();var a=i(107),o=i(13);const s="undefined"===typeof window?void 0:window.performance,d=s&&Object(o.a)(s.now),l=s&&s.timing&&s.timing.navigationStart?s.timing.navigationStart:Object(a.a)();let c=0;const u=d?()=>s.now():()=>(()=>{const e=Object(a.a)()-l;return c=Math.max(e,c)})(),h=2147483647,p=16807;let A=Date.now()*u()%h;const m=h-1;i.d(t,"a",(function(){return f}));const f=n?function(){return((A=A*p%h)-1)/m}:function(){return Math.random()}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(47),n=i(58),a=i(78);let o=document.currentScript;if(!o){const e=Object(n.a)(document.getElementsByTagName("script"));(o=Object(r.a)(e,a.c))||(o=e[e.length-1])}const s=o},function(e,t,i){"use strict";function r(e){Object(a.a)(console)&&Object(n.a)(console.warn)&&console.warn(e)}i.d(t,"a",(function(){return r}));var n=i(13),a=i(2)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return h}));var n=i(40),a=(i(42),i(2),i(17)),o=i(19),s=i(45),d=i(28);const l=s.a.flags;const c=Object(o.d)(location.search).adsdkabflags,u=Object(a.a)(c)?Object(n.a)(c.split(","),(e,t)=>{const[i,n]=t.split("=");return r({},e,{[i]:n})},{}):{},h=r({},{},l,d.a,u)},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=!0);const i=Object(n.a)(e);return i?!e[i]:t}i.d(t,"a",(function(){return r}));var n=i(127)},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".EX3fD2g0T{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:#fff;font-weight:300;font-family:"+i(25).locals.AD_FONT+";background-color:rgba(0,0,0,.8);pointer-events:auto}.rq0{position:absolute;top:45px;bottom:0;left:60px}.HSO1Co9x{position:relative;top:0;left:0;display:flex;flex-direction:column;justify-content:center}.es9q{text-align:center}.ttsq{width:calc(100% + 8px);margin-left:-4px}.PaUj9k{margin:1px 0}.isoT9rB{width:100%;height:100%}.LT1ACdxvhb{position:absolute;top:0;right:0;width:14px;height:14px;padding:8px;cursor:pointer}.tyO{width:17px;height:17px;padding:9px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AbuseScreen:"EX3fD2g0T",AbuseScreen__content:"rq0",AbuseScreen__content_centered:"HSO1Co9x",AbuseScreen__title_centered:"es9q",AbuseScreen__buttons:"ttsq",AbuseScreen__button:"PaUj9k",AbuseScreen__cross:"isoT9rB",AbuseScreen__crossContainer:"LT1ACdxvhb",AbuseScreen__crossContainer_medium:"tyO"}},function(e,t,i){"use strict";function r(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(39);const n=Object(r.a)(window)},function(e,t,i){"use strict";function r(e){const{src:t,win:i,onBeforeLoad:r=a.a}=e,d=new n.a({});let l=a.a;return{promise:new Promise((e,a)=>{const c=i.document.createElement("script");let u=!1;l=()=>{u=!0,Object(o.a)(c)};c.type="text/javascript",c.async=!0,c.onload=()=>{u||e()},c.onerror=e=>{u||(a(new n.a(d,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),l())},c.src=t,c.charset=s,r(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)}),teardown:l}}var n=i(44),a=i(4),o=i(23);const s="utf-8";i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".MwZ{position:static}.dzptN1H{display:flex;align-items:center;justify-content:center}.AkUIyeMsL{position:relative;bottom:1px;margin-right:"+i(18).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.AkUIyeMsL.R9Y1u7I0{margin-right:0}.UbW{margin-right:"+i(18).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}.UbW.R9Y1u7I0{margin-right:0}.YdgTPy{display:flex;align-items:center;justify-content:center;width:"+i(18).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(18).locals.NORMAL_BUTTON_HEIGHT+"}.DUCt2k{width:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}.xUBtunfTEj{width:29px;height:24px}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(18).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(18).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(18).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,UnmuteButton:"MwZ",UnmuteButton__content:"dzptN1H",UnmuteButton__text:"AkUIyeMsL",UnmuteButton__without_text:"R9Y1u7I0",UnmuteButton__text_middle:"UbW",UnmuteButton__iconContainer:"YdgTPy",UnmuteButton__iconContainer_middle:"DUCt2k",UnmuteButton__icon:"xUBtunfTEj"}},function(e,t,i){"use strict";var r=i(35);i.d(t,"a",(function(){return r.a}))},function(e,t,i){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!d(e)}function n(e,t){if(!Object(c.a)(e.matchMedia))return!1;const i=e.matchMedia(t);return Object(u.a)(i)&&Boolean(i.matches)}function a(e){return void 0===e&&(e=window),r(e)||function(e){return n(e,p)}(e)||function(e){return n(e,A)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||Object(o.a)(e)}var o=i(120),s=i(69);const d=function(e){return void 0===e&&(e=window),Object(s.a)(e)>11};var l=i(6),c=i(13),u=i(2),h=i(80);const p=Object(l.a)(h.a,e=>"("+e+"any-pointer:coarse)").join(","),A=Object(l.a)(h.a,e=>"("+e+"touch-enabled)").join(",");var m=i(101),f=i(51);const v=function(e){void 0===e&&(e=window);const t=Object(f.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]};i.d(t,"a",(function(){return g}));const g=(void 0===y&&(y=window),v(y)||Object(m.a)(y)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&a(e)}(y));var y},function(e,t,i){"use strict";var r=i(6),n=i(71);i.d(t,"a",(function(){return a}));const a=function(){const e=Object(r.a)(n.a,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".r4Zxl6{position:absolute;bottom:60px;left:0;display:flex;flex-direction:row;box-sizing:border-box;width:100%}.QBgzsM .r4Zxl6{top:50%;bottom:auto;transform:translateY(-50%)}.mqJQ .r4Zxl6{top:50%;bottom:auto;flex-direction:row-reverse;transform:translateY(-50%)}.FJE5y .r4Zxl6{flex-direction:row-reverse}.GxkQk{position:relative;display:flex;flex:1 1;align-items:center;padding:0 5%}.QZQDlk9ui{position:relative;flex:0 0 auto;padding:0 .5em;pointer-events:auto}.Sf9{position:absolute;top:50%;left:50%;z-index:0;overflow:hidden;transform:translateY(-50%) translateX(-50%)}",""]),t.locals={OldActionButton__body:"r4Zxl6",OldActionButton__bannerPosition_right_center:"QBgzsM",OldActionButton__bannerPosition_left_center:"mqJQ",OldActionButton__bannerPosition_left_bottom:"FJE5y",OldActionButton__context:"GxkQk",OldActionButton__buttonContainer:"QZQDlk9ui",OldActionButton__wrapper:"Sf9"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(50);const n=e=>e instanceof Error||"Error"===Object(r.a)(e)},function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const r=i(158),n=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(2);const n=(e,t)=>{for(const i of t.split(".")){if(!Object(r.a)(e)){e=void 0;break}e=e[i]}return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(93);const n=Object(r.a)(document.documentElement)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var r=i(83);let n=function(e,t,i){e.attachEvent("on"+t,i)},a=function(e,t,i){e.detachEvent("on"+t,i)};Object(r.a)(document,"addEventListener")&&Object(r.a)(document,"removeEventListener")&&(n=function(e,t,i,n){const a=e&&Object(r.a)(e,"addEventListener");a&&a.call(e,t,i,n)},a=function(e,t,i,n){const a=e&&Object(r.a)(e,"removeEventListener");a&&a.call(e,t,i,n)})},function(e,t,i){"use strict";var r=i(42),n=i(94),a=i(95),o=i(64),s=i(19),d=i(137);i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return h}));const{topAncestor:l,isTrusted:c}=function(e){void 0===e&&(e=window);const t=Object(d.a)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:l}=Object(a.a)(e.document),c=o.a?l:i,u=!o.a||Object(n.a)(r.a).length<2,{protocol:h,hostname:p,host:A,port:m}=Object(s.e)(c);return{topAncestor:Object(s.f)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=l,h=c},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".LcgEqX{font-family:"+i(25).locals.AD_FONT+"}.dZ3OU7Sw6X{position:relative;min-width:42px;height:100%}.ouSRWtm{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;overflow:hidden;background-color:rgba(38,38,38,.65);border-radius:4px;cursor:pointer;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:auto}.XYy{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.roEz{display:flex;flex-wrap:nowrap;align-items:center;margin-left:40px;overflow:hidden}.VGO{margin-left:10px}.XYy img{border-radius:2px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,YoutubeLikeActionButton:"LcgEqX",YoutubeLikeActionButton__content:"dZ3OU7Sw6X",YoutubeLikeActionButton__mask:"ouSRWtm",YoutubeLikeActionButton__favicon:"XYy",YoutubeLikeActionButton__wrapper:"roEz",YoutubeLikeActionButton__wrapper_wide:"VGO"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".cBheq4HD{width:100%}.w6euOmYz{font-size:18px}.w6euOmYz .wcV{height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}.cBheq4HD:hover .Bnq{border-color:#fff}.Bnq{display:flex;align-items:center;justify-content:space-between;width:calc(100% - 20px);height:32px;padding:0 10px;color:#fff;font-weight:400;font-size:11px;white-space:nowrap;background-color:hsla(0,0%,100%,.2);border-radius:4px}.KSWfGh3kd{width:calc(100% - 27px);height:40px;padding:0 12px 0 15px;font-size:13px}.OmTe2{width:15px;height:15px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,AbuseVariantButton:"cBheq4HD",AbuseVariantButton_middle:"w6euOmYz",AbuseVariantButton__basecontent:"wcV",AbuseVariantButton__content:"Bnq",AbuseVariantButton__content_middle:"KSWfGh3kd",AbuseVariantButton__icon_middle:"OmTe2"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".zfObzGRSp{position:static;margin-left:auto}.Yo25l{position:relative;margin-left:4px}.EgT1s{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.BBL1IJiVLy{position:relative;justify-content:center;width:35px;text-align:center}.fVfd1{display:flex}.fVfd1>span:first-child{width:16px;text-align:right}.fzPMA{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"zfObzGRSp",SkipButtonWithText__text:"Yo25l",SkipButtonWithText__content:"EgT1s",SkipButtonWithText__timeToSkipString:"BBL1IJiVLy",SkipButtonWithText__digitsContainer:"fVfd1",SkipButtonWithText__icon:"fzPMA"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(68);const n=e=>{const t=[];for(;e;)try{if(Object(r.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var r=i(2);const n=e=>Object(r.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),a=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},o=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(45),n=i(118);const a=r.a.isInternalNetwork||!1,o=Boolean(n.a)||a},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));const r=["","webkit","moz","o","ms"],n=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s}));var r=i(2),n=i(17);const a=e=>!!Object(r.a)(e)&&(!!Object(n.a)(e.name)&&!!Object(n.a)(e.message)),o=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},function(e,t,i){"use strict";function r(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){let i=e[t];if(!Object(n.a)(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(r){}}return i}i.d(t,"a",(function(){return r}));var n=i(22)},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".V7V{width:100%;transform-origin:0;will-change:transform}.V7V,.rOcdpK4H9{position:absolute;height:2px}.U2Dk{background-color:#ff1a2d;transform:scaleX(0)}.Duu{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TimelineBar:"V7V",TimelineBar__container:"rOcdpK4H9",TimelineBar__progress:"U2Dk",TimelineBar__background:"Duu"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".cUXNoPA52{position:relative}.ZZzWk{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.VjEmfaMiI{position:absolute;top:0;left:0}.T2iykD{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(25).locals.AD_FONT+"}.rhCXAw{position:absolute;bottom:0;width:100%;height:2px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,PackshotScreen:"cUXNoPA52",PackshotScreen__buttonWrapper:"ZZzWk",PackshotScreen__packshotOverlayWrapper:"VjEmfaMiI",PackshotScreen__textBlock:"T2iykD",PackshotScreen__timelineBarWrapper:"rhCXAw"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".dVClwjCOs{flex:1 1 0;margin-right:8px;color:#fff;font-weight:700;font-size:1em;font-family:"+i(25).locals.AD_FONT+";line-height:1.3}.WGv2EfaLb0{line-height:1.3;-webkit-line-clamp:2}.ynm9Q7fB .WGv2EfaLb0{font-size:.9em}.p3WJX{position:fixed;white-space:nowrap;visibility:hidden}.CRwzGSkQw{font-weight:400;font-size:.8em;white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.CRwzGSkQw,.WGv2EfaLb0{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,InfoBlock:"dVClwjCOs",InfoBlock__title:"WGv2EfaLb0",InfoBlock_multiline:"ynm9Q7fB",InfoBlock__titleSpy:"p3WJX",InfoBlock__domain:"CRwzGSkQw"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".JlLyVZJF{font-size:18px}.JlLyVZJF .LFv362R6{height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}.SMtj{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.SMtj .G5vKZ{position:relative;background-color:rgba(38,38,38,.3);border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.SMtj.X9f9zl:hover .G5vKZ{background-color:rgba(0,0,0,.65)}.X9f9zl .r9b2{opacity:1}.X9f9zl .G5vKZ{background-color:rgba(38,38,38,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"JlLyVZJF",SquareButton__basecontent:"LFv362R6",SquareButton:"SMtj",SquareButton__basebutton:"G5vKZ",SquareButton_active:"X9f9zl",Button__content:"r9b2"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".P11U1ixTT{position:static}.DLZVGw{width:29px;height:24px}.hG0ivG7,.v6cdp4iG4{display:flex;align-items:center;justify-content:center}.v6cdp4iG4{width:"+i(18).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(18).locals.NORMAL_BUTTON_HEIGHT+"}.C1x{width:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(18).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,MuteButton:"P11U1ixTT",MuteButton__icon:"DLZVGw",MuteButton__content:"hG0ivG7",MuteButton__iconContainer:"v6cdp4iG4",MuteButton__iconContainer_middle:"C1x"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".hK3FWI{cursor:pointer}.bbLBe{font-size:18px}.bbLBe .glj{height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}.p1nppuYfZ{width:60px;height:60px}.l5Lh1HCoBS{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"hK3FWI",CirclePlayButton_middle:"bbLBe",CirclePlayButton__basecontent:"glj",CirclePlayButton__icon:"p1nppuYfZ",CirclePlayButton__icon_middle:"l5Lh1HCoBS"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){"use strict";function r(e){return n.a<e}i.d(t,"a",(function(){return r}));var n=i(92)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(52),n=i(28);const a=null!==n.c&&void 0!==n.c?n.c:Object(r.a)()},function(e,t,i){"use strict";function r(e,t){if(void 0===t&&(t=!0),n.a&&t)return[];{const t=[];let r=e;for(;;)try{if(!(r=r.ownerDocument.defaultView.frameElement))return t;t.push(r)}catch(i){return t}}}i.d(t,"a",(function(){return r}));var n=i(63)},function(e,t,i){"use strict";function r(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e){let t="",i="";if(e){Object(n.a)(e).reverse().forEach(e=>{let{location:r,referrer:n}=e;t=t||r,i=i||n})}return{location:t,referrer:i}}i.d(t,"a",(function(){return r}));var n=i(119)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(28),n=i(45);const a=r.b||n.a.iCookie},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(28),n=i(45);const a=r.g||(null===n.a||void 0===n.a?void 0:n.a.testIds)||void 0},function(e,t,i){"use strict";var r=i(21),n=i(120);const a=(void 0===o&&(o=window),Object(n.a)(o));var o,s=i(52),d=i(4),l=i(9);const c="production";var u=i(29),h=i(3);const p={idle:["initializing"],initializing:["initialized"]};var A=i(28);i.d(t,"a",(function(){return m}));const m=null!==A.d&&void 0!==A.d?A.d:new class{constructor(){var e,t,i;e=this,t="state",i=new l.a({name:"idle"},(e,t)=>{const i=p[e.name];return!i||!Object(r.a)(i,t.name)||(Object(h.a)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)}),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.state.subscribeValueCondition(e=>"initializing"===e.name,()=>this.loadRum())}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition(e=>"initialized"===e.name,i=>{this.sendResTiming({name:e,src:t,state:i})})}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){(0,i(161).loadRumModule)().then(e=>{this.initLoadedRum(e),this.state.dispatch({name:"initialized",rum:e})}).catch(d.a)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Object(s.a)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=a?"touch":"desktop",r={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":u.a,"-platform":i,"-env":c,"-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,r)}sendResTiming(e){let{state:t,name:i,src:r}=e;t.rum.sendResTiming(i,r)}}},function(e,t,i){"use strict";function r(e){return void 0===e&&(e=n.b),a.b||function(e){return o.a+"1.0-"+e+"/"}(e)}var n=i(29),a=i(26),o=i(134);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=window);const{hostname:i}=Object(s.e)(e),r=Object(o.a)(t);return r?-1===d.c.indexOf(i)?e:r(e):e}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function a(e){const{src:t,win:i}=e;return Object(l.a)(n({},c.a,e,{src:r(t,i)}))}i(42),i(13);var o=i(39),s=i(19),d=i(37),l=i(60),c=i(109);i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!n(e)}const n=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1};i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(4),n=i(72);i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(n.a)(e,"click",r.a,t)}}catch(d){}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.i(i(90),""),t.i(i(18),""),t.push([e.i,".myiXhv{display:inline-block;color:#000;font-weight:"+i(90).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(25).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.B8npiYzSsD{cursor:pointer}.B8npiYzSsD .r9b2{opacity:.915}.B8npiYzSsD:hover .r9b2{opacity:1}.RJp{padding:4px;pointer-events:auto}.r9b2{display:flex;align-items:center;height:"+i(18).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(90).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(18).locals.NORMAL_BUTTON_HEIGHT,Button:"myiXhv",Button_active:"B8npiYzSsD",Button__content:"r9b2",Button__clickable:"RJp"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".QUwXD6rH{position:static;margin-left:auto}.xjiT7g{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.l0T7j{opacity:.5;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.kQyQ{width:17px}",""]),t.locals={SkipButtonSmall:"QUwXD6rH",SkipButtonSmall__content:"xjiT7g",SkipButtonSmall__disabled:"l0T7j",SkipButtonSmall__timeToSkipString__icon:"kQyQ"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".J0DvANl2q{position:absolute;bottom:76px;left:0;padding-left:10px;overflow:hidden}.HLs .J0DvANl2q{right:0;bottom:50%;left:auto;transform:translateY(50%)}.lmxHjXfOP .J0DvANl2q{bottom:50%;transform:translateY(50%)}.jVi .J0DvANl2q{right:0;left:auto}",""]),t.locals={SkinActionButton:"J0DvANl2q",SkinActionButton__position_right_center:"HLs",SkinActionButton__position_left_center:"lmxHjXfOP",SkinActionButton__position_right_bottom:"jVi"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.i(i(90),""),t.i(i(143),""),t.i(i(144),""),t.push([e.i,".nVSGySNgP{position:absolute;top:2px;left:6px;display:inline-block;padding:4px;color:#fff;font-weight:"+i(90).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(25).locals.AD_FONT+";line-height:"+i(143).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 0 20px rgba(0,0,0,.2),1px 0 1px rgba(0,0,0,.1),0 1px 1px rgba(0,0,0,.1);transform-origin:bottom left;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.BFOoCQES5{top:4px}.FNONS3732c{top:4px;font-size:12px;line-height:"+i(144).locals.AD_LABEL_MIDDLE_HEIGHT+"}.BFOoCQES5.FNONS3732c{top:6px}.aytDjoT{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(90).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(143).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(144).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"nVSGySNgP",AdLabel_withIcon:"BFOoCQES5",AdLabel_middle:"FNONS3732c",AdLabel_icon:"aytDjoT"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(13);const n=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,i){"use strict";function r(e,t){return function(){try{e(...arguments)}catch(i){o.c.error({error:new a.a(i,{code:t})}),Object(n.a)(i)}}}i.d(t,"a",(function(){return r}));var n=i(24),a=i(0),o=i(1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(130),n=i(78);const a={onBeforeLoad:e=>{Object(n.d)(e,r.a)}}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".PLXnWE9DjK{display:flex;flex-grow:1;flex-shrink:1;align-items:center;justify-content:center;box-shadow:none}.f7cm4zpus{z-index:10000}.Vufp9{box-sizing:content-box;border-radius:4px;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)}.Vufp9 .UWTm9ek{position:absolute;top:0;left:0;width:100%;height:32px}.WCUM{box-shadow:0 0 20px 20px rgba(96,109,128,.15)}.mJR0LK2{background-color:#fff}.W3Z{background-color:#283459}.EQkds968yq{position:relative;z-index:2;flex-shrink:0;width:100%;height:100%;overflow:hidden;font-size:0}.HkxTma{position:relative;display:flex;flex-grow:1;flex-shrink:1;align-items:stretch;visibility:hidden}.LGUZHPUlT{position:absolute;top:0;left:0;display:block;width:100%;height:100%;margin:0;padding:0}.x2ntUE1,.AbX3XzlOrM{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.x2ntUE1{display:none;background-position:50%;background-size:cover}.PdCp0eQzr8{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;padding:0;overflow:hidden}.UWTm9ek{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0}.m2LE5vxY{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.m2LE5vxY svg{width:12px;height:12px;vertical-align:top}.pAHm6iqsro .gcWIq0edY{min-width:0;max-width:44vh;margin:0 3.5vh 0 3vh}.gcWIq0edY{font-size:18px}.fbw7k{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.kfE2GJgAK,.HGY9nDY{cursor:pointer}.HGY9nDY{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.kfE2GJgAK{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.kfE2GJgAK:hover{background-color:#d9e9ff}.t4e{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.xzvQeIJYRe .HGY9nDY{color:#fff}.xzvQeIJYRe .kfE2GJgAK{color:#fff;background-color:#535c7a}.xzvQeIJYRe .kfE2GJgAK:hover{background-color:#5d6682}.pAHm6iqsro{transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease;will-change:width,height,left,top,bottom,right}.MaTTnT3kei{transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease}.pAHm6iqsro .EQkds968yq{transition:width .4s,height .4s;will-change:width,height}.KMBqpXCMz{transition:none}.UWTm9ek{transition:opacity .2s}.xpbLulenT .UWTm9ek{display:block;opacity:0}.PLXnWE9DjK:not(.Zq2P2Tf9Jn) .UWTm9ek,.ZRmMMJQFt .UWTm9ek{opacity:0}.PLXnWE9DjK:not(.Zq2P2Tf9Jn) .m2LE5vxY,.ZRmMMJQFt .m2LE5vxY{display:none}.ExBduLyUF.Zq2P2Tf9Jn.MaTTnT3kei{margin-top:32px}.f7cm4zpus .UWTm9ek{opacity:1}.f7cm4zpus .m2LE5vxY{display:block}.WCUM .EQkds968yq{width:auto}.Vufp9{padding-top:32px;background-color:#ecf4f9}",""]),t.locals={yaInPageStickyWrapper:"PLXnWE9DjK",yaInPageStickyWrapper__sticky:"f7cm4zpus",yaInPageStickyWrapper__sticky__flyroll:"Vufp9",yaInpageAdditionalContentContainer:"UWTm9ek",yaInPageStickyWrapper__sticky__covering:"WCUM",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"mJR0LK2",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"W3Z",yaInPageWrapper:"EQkds968yq",yaInPagePlaceholderElement:"HkxTma",InPageLayout__videoSlot:"LGUZHPUlT",InPageLayout__packshotContainer:"x2ntUE1",InPageLayout__slot:"AbX3XzlOrM",InPageLayout__videoSlotContainer:"PdCp0eQzr8",yaInpageCross:"m2LE5vxY",yaInPageStickyWrapper__variant__covering:"pAHm6iqsro",yaInpageAdditionalContent:"gcWIq0edY",yaInpageAdditionalContent__adTitle:"fbw7k",yaInpageAdditionalContent__button:"kfE2GJgAK",yaInpageAdditionalContent__description:"HGY9nDY",yaInpageAdditionalContent__buttonClickableArea:"t4e",yaInpageAdditionalContent_dark:"xzvQeIJYRe",yaInPageStickyWrapper__variant__flyroll:"MaTTnT3kei",yaInPageStickyWrapper__unAnimated:"KMBqpXCMz",yaInPageStickyWrapper__additionalContent_enabled:"xpbLulenT",yaInPageStickyWrapper__detached:"Zq2P2Tf9Jn",yaInPageStickyWrapper__inline:"ZRmMMJQFt",yaInPageStickyWrapper__isAnimating:"ExBduLyUF"}},function(e,t,i){"use strict";var r=i(13),n=i(2);const a="__ADB_CONFIG__";i.d(t,"a",(function(){return s}));const o=Object(n.a)(a)&&a.fn&&Object(r.a)(a.fn.encodeUrl)?a.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},function(e,t,i){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,"a",(function(){return r}))},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".VVF2cd{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:400;font-size:inherit;font-family:Helvetica,Arial,sans-serif;line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.IYm6V{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.O4sN{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),t.locals={ArrowButton:"VVF2cd",ArrowButton__content:"IYm6V",ArrowButton__textContent:"O4sN"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".yPheazOa{position:static}.CUBjKYnaHx{width:"+i(18).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(18).locals.NORMAL_BUTTON_HEIGHT+"}.GUNb{width:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(18).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,PauseButton:"yPheazOa",PauseButton__icon:"CUBjKYnaHx",PauseButton__icon_middle:"GUNb"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(18),""),t.push([e.i,".g372d{position:static}.z1HvHpd3vu{width:"+i(18).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(18).locals.NORMAL_BUTTON_HEIGHT+"}.Ye8k0{width:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(18).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(18).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(18).locals.MIDDLE_BUTTON_HEIGHT,SquarePlayButton:"g372d",SquarePlayButton__icon:"z1HvHpd3vu",SquarePlayButton__icon_middle:"Ye8k0"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".KczqcjBLgA{position:absolute;top:0;right:0;width:30px;height:30px;cursor:pointer;pointer-events:auto}.KczqcjBLgA.h6HZ{width:35px;height:35px}.KczqcjBLgA .trcb{width:30px;height:30px}.KczqcjBLgA.h6HZ .trcb{width:35px;height:35px}",""]),t.locals={AbuseButton:"KczqcjBLgA",AbuseButton_middle:"h6HZ",AbuseButton__icon:"trcb"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(77),i(31);const r=i(4).a},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(48);const n=Object(r.b)(window,"adsdkdebug")},function(e,t,i){"use strict";function r(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(n.a)(e.defaultView),referrer:e.referrer}))}i.d(t,"a",(function(){return r}));var n=i(68),a=i(93)},function(e,t,i){"use strict";function r(e){return"ontouchstart"in e}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const n=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new r({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const n=e.apply(this,arguments);return i.set(r,n),n}}},function(e,t,i){"use strict";function r(e,t){let{content:i,size:r}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",r&&(n.height=r.height,n.width=r.width),e.appendChild(n);const a=n.contentDocument;return a.open(),i&&a.write(i),a.close(),a.body.style.margin="0",n.style.borderWidth="0",n}i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function n(e){const{method:t,url:i,async:c=!0,data:u,responseType:h="text",onBeforeSend:p=o.a,onRetry:A=o.a,checkStatus:m=(e=>d===e),headers:f={},xhrConstructor:v=XMLHttpRequest,retries:g=0,timeout:y=0,withCredentials:b,onAbort:_,onSetup:O}=e;if(!v)return;const S=e.onSuccess?Object(a.a)(e.onSuccess):o.a,T=e.onError?Object(a.a)(e.onError):o.a;let E,w=!1,C=0,P=e=>{w=!0,P=o.a,E=e,I(new Error("Abort request")),"function"===typeof _&&_(e)};const I=t=>{if(D.onerror=null,D.onreadystatechange=null,C&&clearTimeout(C),C&&D.readyState!==l||w)try{D.abort()}catch(t){}if(!w)if(g>0){const i=A(t,D);if("boolean"!==typeof i||Boolean(i)||P(),w)return;n(r({},e,{onSetup:e=>{let{abort:t}=e;P=e=>t(e),w&&t(E)},retries:g-1}))}else P=o.a,T(t,D)},D=new v;try{D.open(t,i,c)}catch(N){return void I(N)}if(D.responseType=h,D.withCredentials=Boolean(b),Object(s.a)(f,(e,t)=>{try{D.setRequestHeader(t,e)}catch(N){}}),y>0&&isFinite(y)&&(C=window.setTimeout(()=>{I(new Error("Request timeout, "+i))},y)),D.onerror=I,D.onreadystatechange=()=>{if(D.readyState===l){const{status:e}=D;m(e)?(P=o.a,clearTimeout(C),S(D)):I(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof O||(O({abort:e=>P(e)}),!w))&&(p(D,e),!w))try{D.send(u)}catch(N){I(N)}}i.d(t,"a",(function(){return n}));var a=i(10),o=i(4),s=i(35);const d=200,l=4},function(e,t,i){"use strict";function r(e,t){return!!a&&window.navigator.sendBeacon(e,t)}i.d(t,"a",(function(){return r}));var n=i(125);const a=Object(n.a)(window)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(22);const n=e=>Object(r.a)(e.navigator.sendBeacon)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="adsdk-test-tag"},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(28),n=i(46);const a=r.f||n.b||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=n);for(let n=i;n<e.length;n++)if(r(e[n],t))return n;return-1},n=(e,t)=>e===t},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r=i(55),n=i(128),a=i(96),o=i(97),s=i(98),d=i(34),l=i(92),c=i(138);const u={SID:d.a,VSID:c.a,VAS_USER_SESSION_RANDOM:l.a,AB_FLAGS:r.a,ICOOKIE:a.a,TEST_IDS:o.a,AdditionalStatsRootFields:n.a,RUM_WRAPPER:s.a}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(5),n=i(91);const a=Object(n.a)(r.a)},function(e,t,i){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));const n={OverlayTGO:"overlay_tgo",MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty"},a=r({},{InPage:"inpage",BannerAd:"banner_ad",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},n,{OldThemeEmpty:"video-banner_theme_empty"})},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r={ES5:"bundles",ES2017:"bundles-es2017"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r="https://"+i(37).b+"/awaps-ad-sdk-js-bundles/"},function(e,t,i){"use strict";const r=i(77).a;i.d(t,"a",(function(){return n}));const n=function(e){const t=r(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},function(e,t,i){"use strict";function r(e){const t=[];for(const[i,r]of e){const e=n(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function n(e,t){return a(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function a(e,t){return Object(h.a)(e,t,"0")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var s=i(59),d=i(13),l=i(7),c=i(6),u=i(2),h=i(82);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(o({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,n=a(e.toString(2),r).substr(-r,i);return parseInt(n,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return Object(u.a)(e)&&Object(l.a)(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return o({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return r((e=this.getTemplate(),t=this.props,Object(c.a)(e,e=>{let[i,r]=e;return[i,r&&t[r]||null]})))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(29),m=i(26);i.d(t,"a",(function(){return v}));const f={AdSDKLoader:0,VpaidPlayerLoader:1,OldVpaidCreative:3,OldPythiaSurvey:4,AdLoader:11,BannerAd:12,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,OverlayTGO:18,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,OldThemeEmpty:25,ThemeEmpty:26,Rum:27,Examples:30,Test:31,TestVpaid:31};const v=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.a,BUNDLE:f[m.c],UNUSED:0,ADBLOCK:Object(d.a)(s.a)}}}},function(e,t,i){"use strict";function r(e){return n?Object(a.a)(e.location.ancestorOrigins):[]}const n=Boolean(window.location.ancestorOrigins);var a=i(58);i.d(t,"a",(function(){return r}))},function(e,t,i){"use strict";var r=i(36),n=i(82),a=i(29);const o="VAS",s=e=>Object(n.a)(String(e%Math.pow(10,4)),4,"0"),d=()=>Object(n.a)(Date.now().toString().slice(0,10),10,"0");var l=i(3),c=i(28);i.d(t,"a",(function(){return u}));const u=(null===c.f||void 0===c.f?void 0:c.f.vsid)||c.h||(void 0===h&&(h=a.a),[Object(r.a)(44),o,s(h),d()].join("x"));var h;Object(l.a)(((null===c.f||void 0===c.f?void 0:c.f.vsid)?"Use VSID from player":c.h?"Use VSID from session":"Generate new VSID")+" ["+u+"]")},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".ypX6a2tZh{display:inline-block;color:#000;font-size:16px;font-family:"+i(25).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.ZzFaU{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,PackshotButton:"ypX6a2tZh",PackshotButton__content:"ZzFaU"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".EnhXq4B{box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.JsGFRUNaoP{display:flex;align-items:center;height:100%;padding:0 10px;color:#000;font-weight:700;font-size:1em;font-family:"+i(25).locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:2px;cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,ActionButton:"EnhXq4B",ActionButton__content:"JsGFRUNaoP"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".yDZtE{display:flex;flex-flow:column nowrap;max-height:calc(100% - 56px);padding:4px;overflow:hidden;font-size:16px;font-family:"+i(25).locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.X6bWv{margin:0 auto 2px;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:rgba(38,38,38,.65);border-radius:4px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,Subtitles__container:"yDZtE",Subtitles__subtitle:"X6bWv"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".lfa{position:absolute;right:6px;bottom:16px;left:6px;display:flex;flex-flow:column nowrap}.zdJBj{display:flex}",""]),t.locals={BottomControls__container:"lfa",ButtonControls:"zdJBj"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const r=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),r=[];for(let e=0;e<i.length;e++)r.push(i[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}(),n=r?r.src:""},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".G3zNo5DzN{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"G3zNo5DzN"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".VTRtd{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"VTRtd"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".CnkLBniC{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"CnkLBniC"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".qcmET0Rne{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),t.locals={Timeline:"qcmET0Rne"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,"@keyframes F20{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.Kwcpi9Irc{animation-name:F20;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"Kwcpi9Irc",spin:"F20"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".FBh{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"FBh"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".Kg59{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"Kg59"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".J5HauEVO5c{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),t.locals={VideoAvatar:"J5HauEVO5c"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".SLsRYp{position:absolute;top:8px;left:8px;display:flex;justify-content:space-between}",""]),t.locals={TgoButtonControls:"SLsRYp"}},function(e,t,i){(t=e.exports=i(20)(!1)).i(i(25),""),t.push([e.i,".KRNJL0SCZ{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(25).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,SocialAdvertisingAdLabel:"KRNJL0SCZ"}},function(e,t,i){(t=e.exports=i(20)(!1)).push([e.i,".BX8H6EC{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"BX8H6EC"}},function(e,t){},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e){e.exports={be:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"Read more",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"Read more on the website",THEME_EMPTY_ACTION_BUTTON_LABEL:"Go",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_DOMAIN:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_DISTANCE_SALES:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",THEME_EMPTY_ACTION_BUTTON_LABEL:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t,i){"use strict";i.r(t),i.d(t,"loadRumModule",(function(){return n}));var r=i(38);const n=()=>new Promise((e,t)=>{Object(r.b)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:r.a})})},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),r=i.length>>>0,n=arguments[1],a=0;a<r;a++)if(t=i[a],e.call(n,t,a,i))return t})},function(e,t){e.exports={initMoatTracking:function(e,t,i,r){var n=document.createElement("script"),a={events:[],addEvent:function(e){s.sendEvent?(a.events&&(s.sendEvent(a.events),a.events=!1),s.sendEvent(e)):a.events.push(e)}},o=function(t){return function(){var r,n=-1;if(e&&e.getAdVolume&&(r=e.getAdVolume()),"number"==typeof r&&!isNaN(r)&&0<=r&&(n=r),a.addEvent({type:t,adVolume:n}),-1!==h.indexOf(t)&&e&&e.unsubscribe&&!u)for(var o in u=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(o))try{e.unsubscribe(c[o],o)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:a.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,l,c={AdStarted:o("AdStarted"),AdStopped:o("AdStopped"),AdSkipped:o("AdSkipped"),AdLoaded:o("AdLoaded"),AdLinearChange:o("AdLinearChange"),AdSizeChange:o("AdSizeChange"),AdExpandedChange:o("AdExpandedChange"),AdSkippableStateChange:o("AdSkippableStateChange"),AdDurationChange:o("AdDurationChange"),AdRemainingTimeChange:o("AdRemainingTimeChange"),AdVolumeChange:o("AdVolumeChange"),AdImpression:o("AdImpression"),AdClickThru:o("AdClickThru"),AdInteraction:o("AdInteraction"),AdVideoStart:o("AdVideoStart"),AdVideoFirstQuartile:o("AdVideoFirstQuartile"),AdVideoMidpoint:o("AdVideoMidpoint"),AdVideoThirdQuartile:o("AdVideoThirdQuartile"),AdVideoComplete:o("AdVideoComplete"),AdUserAcceptInvitation:o("AdUserAcceptInvitation"),AdUserMinimize:o("AdUserMinimize"),AdUserClose:o("AdUserClose"),AdPaused:o("AdPaused"),AdPlaying:o("AdPlaying"),AdError:o("AdError")},u=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();try{l=(d=t.ownerDocument).defaultView||d.parentWindow}catch(p){d=document,l=window}return l[i]=s,n.type="text/javascript",t&&t.insertBefore(n,t.childNodes[0]||null),n.src="https://z.moatads.com/"+r+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||a?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(a=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function n(e){(new Image).src=e}var a=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(r){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,a,o){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(a),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=o,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(a=0;a<s.length;a++)if(s[a]){var d=s[a].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(c){}for(var l in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),n(r(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(l)&&o.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return n(r(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),n(r(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var a=t.playerSizeParams,o=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in a)if(a.hasOwnProperty(s)){var d=a[s];(!d[0]||o>=d[0])&&(!d[1]||o<d[1])&&n(r(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(l=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&n(r(i("AdVideoClick"+parseInt(l,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);n(r(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&l.state&&n(r(i(e+l.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;n(r(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters)),n(r(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&n(r(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var a=this;setTimeout((function(){a.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)n(r(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,n(r(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,r){if(this.intersectionSupport)return t.match(this.hasFocus(),r,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var n=this.realWindow,a=this.rootElement.getBoundingClientRect(),o=t.calculateArea(a,n);try{for(;n!==e.top;){var s=n.name||(n.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=(n=n.parent).frames[s].frameElement.getBoundingClientRect(),o=Math.min(t.calculateArea(a,n),o)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),r,o,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var a=[],o=0;o<this.observerData.length;o++){var s=this.observerData[o];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?n(r(i(s.name+t.VIEWABLE),this.adParameters)):a.push(s)}this.observerData=a},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,n(r(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,r,n){var a=t.NOT_VIEWABLE;return(e||!i)&&r>=n&&(a=t.VIEWABLE),{state:a,focus:e,percent:r}},t.calculateArea=function(e,t){var i=e.width*e.height,r=e.width,n=e.height;return 0>e.top&&(n+=e.top),e.bottom>t.innerHeight&&(n-=e.bottom-t.innerHeight),0>e.left&&(r+=e.left),e.right>t.innerWidth&&(r-=e.right-t.innerWidth),r*n/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function r(e,t,i,r,a,o){var s,d,l=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:a},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,d=window}return d[t]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://yastatic.net/pcode-static/measurers/"+n+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,"initMoatTracking",(function(){return r}));const n=64},function(e,t){e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},function(e,t,i){"use strict";function r(e){return"number"===typeof e&&isFinite(e)}function n(e){return"number"===typeof e&&isFinite(e)&&e>0}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function o(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(Object(zo.a)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?a({},Go,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):Go}(e),{droppedVideoFrames:i,totalVideoFrames:o}=t;let s=Yo.droppedVideoFramesRatio;return n(o)&&r(i)&&(s=i/o),a({},t,{droppedVideoFramesRatio:s})}function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function l(e,t){return t===e.substring(e.length-t.length)}function c(e){const{hostname:t}=Object($o.e)(e);return t===Us||l(t,"."+Us)}function u(e){if(!e)return!1;const{hostname:t}=Object($o.e)(e);return!(!t||0===t.length)&&Hs(Ws,e=>e===t||l(t,"."+e))}function h(e){let{url:t,options:i,ignoreAbd:r=!1}=e;if(Object(Zo.a)(Qo.a)&&!r)return t;if(!u(t)&&!c(t))return t;const n=Math.round(100*i.visibility),a=Math.round(i.size.width),o=Math.round(i.size.height),s=Math.round(100*i.videoVolume),d=Math.round(i.videoAvatarSize.width),l=Math.round(i.videoAvatarSize.height);return Object($o.b)(t,{[ns]:String(gs.a),[as]:ys.c,[os]:String(n),[ss]:String(a),[ds]:String(o),[ls]:String(d),[cs]:String(l),[ts.a]:String(Gs.a.serialize()),[us]:Fs(),[hs]:es.a,[As]:Jo.b,[ms]:Jo.a?"0":"1",[is]:String(Date.now()),[rs]:String((new Date).getTimezoneOffset()),[ps]:Ks?"0":"1",[fs]:String(s),[vs]:i.videoMuted?"1":"0"},{override:!1})}function p(e){(new Image).src=e}function A(e){if(u(e)||c(e)){if(Object(Js.a)(e,""))return}else u(e)&&Bo.c.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:Mo.c});p(e)}function m(e){let{error:t,trackingUrls:i}=e;Object(xo.a)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Object(Ho.a)(e,e=>h({url:e,options:Ko}));Object(Uo.a)(t,A)}(i)}function f(e,t){void 0===t&&(t=[]),Bo.c.errorToStats(e),m({error:e,trackingUrls:t})}function v(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[od(r)]=t[r]}}function g(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function y(e){const t={};for(const i in e)Object(cd.a)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function b(e,t){const i={};return Object(ud.a)(e).forEach(r=>{i[r]=t(e[r],r)}),i}function _(e,t,i){const r=()=>e.map(e=>e.getValue());let n=t(...r());i(n);const a=()=>{const e=t(...r());n!==e&&(n=e,i(e))},o=e.map(e=>e.add(a));return()=>{Object(Ad.a)(o)}}function O(e,t){return void 0===t&&(t=1e6),function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),n=e.charCodeAt(i++),a=e.charCodeAt(i++),o=r>>2,s=(3&r)<<4|n>>4;let d=(15&n)<<2|a>>6,l=63&a;isNaN(n)?d=l=64:isNaN(a)&&(l=64),t=t+Cd.charAt(o)+Cd.charAt(s)+Cd.charAt(d)+Cd.charAt(l)}return t}(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);let a;if(n<128?a=String.fromCharCode(n):n>127&&n<2048?(a=String.fromCharCode(n>>6|192),a+=String.fromCharCode(63&n|128)):(a=String.fromCharCode(n>>12|224),a+=String.fromCharCode(n>>6&63|128),a+=String.fromCharCode(63&n|128)),i.length+a.length>t)break;i+=a}return i}(e,3*t/4|0))}function S(e){return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const n=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&n)),i+=2}else{const n=e.charCodeAt(i+1),a=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&n)<<6|63&a)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=Cd.indexOf(e.charAt(i++)),n=Cd.indexOf(e.charAt(i++)),a=Cd.indexOf(e.charAt(i++)),o=Cd.indexOf(e.charAt(i++)),s=r<<2|n>>4,d=(15&n)<<4|a>>2,l=(3&a)<<6|o;t.push(String.fromCharCode(s)),64!==a&&t.push(String.fromCharCode(d)),64!==o&&t.push(String.fromCharCode(l))}return t.join("")}(e))}function T(e){return Object(Vd.a)(e)&&Boolean(e.code)}function E(e,t){Object(ud.a)(t).forEach(i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)})}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e){return[].concat.apply([],e)}function V(e,t){const i=[],r=[];return Object(Uo.a)(e,(n,a)=>{t(n,a,e)?i.push(n):r.push(n)}),[i,r]}function j(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function M(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function L(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!==(r=null===i||void 0===i?void 0:i.trim())&&void 0!==r?r:""}return i}function B(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function x(e){return Boolean(e&&B(e).length)}function F(e){try{return Object($s.a)(e)?JSON.parse(e):void 0}catch(t){return}}function U(e){const t=parseInt(L(e,"width",0),10),i=parseInt(L(e,"height",0),10),r=parseInt(L(e,"bitrate",0),10),a=L(e,"minBitrate",""),o=a?parseInt(a,10):void 0,s=L(e,"maxBitrate",""),d=s?parseInt(s,10):void 0,l=L(e,"codec",""),c={width:t,height:i,bitrate:r,type:L(e,"type"),url:B(e)};return Object($d.a)(l)&&(c.codec=l),n(o)&&(c.minBitrate=o),n(d)&&(c.maxBitrate=d),n(o)&&n(d)&&o>d&&Bo.c.error({error:new Lo.a({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:c}})}),c.url?c.type?c:(Bo.c.error({error:new Lo.a({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:c}})}),null):(Bo.c.error({error:new Lo.a({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:c}})}),null)}function H(e){const t=e.querySelector("StaticResource");return{width:parseInt(L(e,"width",0),10),height:parseInt(L(e,"height",0),10),type:t?L(t,"creativeType"):null,url:t?B(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function z(e){const t={};return Object(zo.a)(e)&&Object(Uo.a)(Object(ud.a)(e),i=>{const r=e[i];Array.isArray(r)&&(t[i]=Object(Od.a)(r,e=>"string"===typeof e))}),t}function W(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return Object(Uo.a)(i,t=>{Object(Uo.a)(Object(ud.a)(t),i=>{const r=e[i]||[],n=t[i]||[];e[i]=[...r,...n]})}),e}function G(e){if(void 0===e)return;const t=Number(e);return n(t)?t:void 0}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function q(e){const t=Tl(Ml);if(!Object(zo.a)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),Object(zo.a)(e.controlsSettings))if(Object(zo.a)(e.controlsSettings.controlsVisibility)&&Object(Rl.a)(e.controlsSettings.controlsVisibility,(e,i)=>{Vl.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),Object(zo.a)(!1===e.controlsSettings.visibility)&&(t.controlsVisibility=Y({},jl)),Object($d.a)(e.controlsSettings.controlsVariant)){const{controlsVariant:i}=e.controlsSettings;"regular"===i?t.controlsVariant="regular":"banner"===i?t.controlsVariant="banner":Bo.c.error({error:new Lo.a({code:"INCORRECT_CONTROLS_VARIANT",details:{variant:i}})})}else t.controlsVariant="regular";return delete t.visibility,t}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function K(e){const{packshotSettings:t}=e;if(!Object(zo.a)(t))return Ll;const{isEnabled:i}=t;return X({},Ll,{isEnabled:!1!==i&&void 0})}function Q(e){const t=Object(zo.a)(e)?e:{},i=[],a="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,Dl):void 0;let o;return void 0!==t.skipDelay&&(r(t.skipDelay)&&t.skipDelay>=0?o=t.skipDelay:i.push(new Lo.a({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"boolean"===typeof t.showGuiForVpaid?t.showGuiForVpaid:void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:o,videoTimeout:n(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:n(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:a,bufferEmptyLimit:n(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?z(t.trackingEvents):{},controlsSettings:q(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:G(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:vd,packshotSettings:K(t)},errors:i}}function J(e){return"string"!==typeof e?NaN:Object(Td.a)(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function Z(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return r(t)?{unit:"portion",value:t/100}:void 0}const t=J(e);if(r(t))return{unit:"seconds",value:t}}function $(e){return"number"===typeof e&&isFinite(e)&&e>=0}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function re(e){let{url:t,data:i,timeout:r,doRequest:n=Yl,withCredentials:a}=e;return new Promise(async(e,o)=>{"https:"===window.location.protocol&&(t=function(e){return Gl.a.href=e,Gl.a.protocol="https:",Gl.a.href}(t));const s=Wl(r),d=n({url:t,data:i,withCredentials:a});try{const t=await Promise.race([d,s]);if(t){return e(ie({},t,{xml:j(t.responseText)}))}return o({reason:"timeout",error:new Error("XHR Timeout")})}catch(l){return o(l)}})}function ne(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function ae(e){Object(Uo.a)(e,e=>Bo.c.error({error:e}))}function oe(e){let{win:t,methodName:i,data:r,id:n}=e;t.postMessage({methodName:i,data:r,id:n},"*")}function se(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)Object(cd.a)(e,i)&&t.push(e[i]);return t}}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ue(e,t){const i=window,r=i.document;if(t&&(n=function(e){return e.location.host}(i))&&n&&0!==n.length&&Hs(sc,e=>e===n||function(e,t){return t===e.substring(e.length-t.length)}(n,"."+e)))return t;var n;let a=he(e,r);if("t\n"===a&&i.top!==i.self)try{a=he(e,i.parent.document)}catch(o){}return O(a,e)}function he(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let n=1;n<4&&r<e;n++){const e=t.getElementsByTagName("h"+n),a=e.length;for(let t=0;t<a;t++){const a=pe(e[t]);r+=a.length,i.push(""+n+a)}}return i.join("\n")+"\n"}function pe(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function Ae(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function me(e){return Boolean(e.YA_TURBO_PAGES)}function fe(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function ve(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return fe(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function ge(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case hc.BLUETOOTH:return 3;case uc.CELL_2G:return.384;case uc.CELL_3G:case hc.CELLULAR:return 2;case hc.WIMAX:return 37;case hc.NONE:return 0;case uc.ETHERNET:case hc.ETHERNET:case uc.WIFI:case hc.WIFI:case hc.MIXED:return 10;case uc.UNKNOWN:case hc.UNKNOWN:case hc.OTHER:}return-1}function ye(){const e={width:window.innerWidth,height:window.innerHeight},t=cc(),i={win_width:pc(e.width),win_height:pc(e.height),pixel_ratio:dc(),bandwidth:ge()};return t&&(i.quirks=t),i}function be(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return fc()+e}function _e(e){return void 0===e&&(e=window),String(e.location)}function Oe(e){return void 0===e&&(e=window),O(bc(e.document,"_ym_uid")||"")}function Se(e){return void 0===e&&(e=window),e.location.hostname}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function we(e,t){void 0===t&&(t="");const{params:i,bids:r,matchIdDirect:n=!1,reloadCounter:a}=e,o=Ee({},function(e){const t=e.win||window,i=void 0===e.isTurbo?me(t):e.isTurbo,r=Hs(Tc,e=>e.test(t.location.hostname));return Oc(Ee({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},n?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Object(Uo.a)(Ec,e=>{o[e]=void 0}),o.pk)try{o.pk=decodeURIComponent(o.pk)}catch(s){}if(r){const e=r.map(e=>Ee({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),o.bids=O(Ae(e)||"")}return o.grab=ue(Sc-t.length),o.utf8="\u2713",a&&(o.adf_refresh=a),o}function Ce(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:n,domain:a=wc}=e;return"https://"+a+("/"+n+"/"+(t=r?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:we(e,t)}}function Pe(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function De(e,t){const i=Object(oc.a)(window);let r;try{r=function(e){const{base:t,queryParams:i}=Ce(e);return Object($o.b)(t,i)}(Ie({},e,{layoutConfig:new Ac,useXhr:!0,domain:Cc}))}catch(a){throw new Lo.a(a,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!Pe(r))throw new Lo.a({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const n=h({url:r,options:t,ignoreAbd:!0});return i?i(n):n}async function Ne(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const n=De(t,i),a=ac({secureMode:r,url:n})?bl:Yl;try{const e=await a({url:n,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=F(e),i=[];if(!Object(zo.a)(t))throw new Lo.a({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:r,data:n}=t;if(Array.isArray(r)&&r.length>0)throw new Lo.a({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(n))throw new Lo.a({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=Object(Od.a)(n,(e,r)=>{if(!Object(zo.a)(e)||!Object(zo.a)(e.attributes))return i.push(new Lo.a({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||("string"===typeof n&&n.length>0||(i.push(new Lo.a({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1))});if(0===a.length)throw new Lo.a({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new Lo.a({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return ae(i),t}catch(o){if(T(o))throw o;throw new Lo.a(o,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:n}})}}function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ke(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ve(e){return e.split("?")[0].split("#")[0]===Rc}function je(e){return!!Object(zo.a)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function Me(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!Object(zo.a)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!Object(zo.a)(i))return!1;const{data_params:r}=i;if(!Object(zo.a)(r))return!1;const{misc:n}=r;if(!Object(zo.a)(n))return!1;const{layout_type:a}=n;return"clickable_video"===a}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xe(e){let t;try{t=JSON.parse(e)}catch(c){throw new Lo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!Object(zo.a)(t))throw new Lo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Object(Sd.a)(i)||0===i.length)return{url:zc,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[r]=i;if(!je(r))throw new Lo.a({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const n=function(e){const{type:t}=e;return t===Lc.Overlay?"OverlayTGO":t===Lc.Motion?"MotionTGO":t===Lc.VpaidCreative?"ThemeEmpty":void 0}(r);if(n)return{url:Mc[n],isNonLinear:"OverlayTGO"===n,adFormatType:Hc[n],isOldVastFormat:!1};const{theme:a}=t,o=Object($d.a)(a),s="video-banner_theme_empty"===a,d="video-banner_interactive-viewer"===a,l={url:Rc,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:$l(i,e=>e.url!==Uc.url)};return d?l:Me(a,t)?{url:qc,isNonLinear:!1,adFormatType:"clickableVideo",isOldVastFormat:!0}:o?{url:s?qc:Yc,isNonLinear:!1,adFormatType:s?"themeEmpty":"vpaidCreative",isOldVastFormat:!0}:(Bo.c.event({name:"DetectInteractiveViewerAsDefault",probability:Mo.a,data:{adParametersObject:t}}),l)}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Ye(e){const{adParametersObject:t,description:i}=e;if(!Object(zo.a)(t))throw new Lo.a({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:n,mediaFiles:a}=t,o=We({},Ge(t,["tickerData","interactiveElements","mediaFiles"]),{adParameters:{description:i,tickerData:r,interactiveElements:n},mediaFiles:[...a,Uc]});return We({},e,{mediaFiles:[Jc],adParametersObject:o,adParameters:JSON.stringify(o)})}function qe(e){const{adParametersObject:t}=e;if(!Object(zo.a)(t))throw new Lo.a({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:n,HAS_AGE:a,HAS_LEGAL:o,LEGAL_TEXT:s}=t,d=We({},Ge(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"]),{adParameters:We({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:n}:{},"HAS_AGE"in t?{HAS_AGE:a}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[Zc]});return We({},e,{mediaFiles:[Jc],adParametersObject:d,adParameters:JSON.stringify(d)})}function Xe(e){var t;const{adParametersObject:i}=e;if(!Object(zo.a)(i))throw new Lo.a({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const r=We({},i,{mediaFiles:[$c,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:We({},i)}),{duration:a}=i,o=n(a)?a:eu;return We({},e,{mediaFiles:[Jc],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:o})}function Ke(e){const{adParametersObject:t}=e;if(!Object(zo.a)(t))throw new Lo.a({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!Object(zo.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(zo.a)(t))return;const{data_params:i}=t;if(!Object(zo.a)(i))return;const{misc:r}=i;if(!Object(zo.a)(r))return;const{object_id:n}=r;if(!Object($s.a)(n))return;const a=i[n];if(!Object(zo.a)(a))return;const{click_url:o}=a;if(!Object(zo.a)(o))return;const{action_button:s}=o;return Object($s.a)(s)?s:void 0}(e.adParametersObject),r=We({},e.adParametersObject,{adParameters:e.adParametersObject});return We({},e,{mediaFiles:[Jc],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:We({clickThroughUrl:i},t.playbackParameters)})}function Qe(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=xe(e.adParameters)}catch(o){return Bo.c.event({name:"PrepareYandexVastDetectionError",data:o}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,r="themeEmpty"===t.adFormatType,n="interactiveViewer"===t.adFormatType,a="clickableVideo"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:r}=e.adParametersObject;n&&t&&Bo.c.error({error:new Lo.a({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(r)&&r.length>0&&Bo.c.error({error:new Lo.a({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!kc){if(a)return{vastAd:Ke(e),reason:"ConvertClickableOnlyVideo"};if(r)return{vastAd:Xe(e),reason:"ConvertVideoBannerThemeEmpty"};if(n)return{vastAd:Ye(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:qe(e),reason:"ConvertMotionVpaidIntoAdCreative"}}return{vastAd:e,reason:void 0}}function Je(e){const{adParametersObject:t}=e;return!!t&&Me(t.theme,t)}function Ze(e){const t=e.split("?")[0].split("#")[0];return Object(jd.a)(Gc,t)}function $e(e){const{adParametersObject:t}=e;return(null===t||void 0===t?void 0:t.theme)===iu&&tu(e)}function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function it(e){return new Promise((t,i)=>{Object(_u.a)(tt({},e,{onSuccess:t,onError:i}))})}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function nt(e,t){Du.ya||(Du.ya={}),Du.ya.isDeploying=!0,function e(t,i){const r=i.split(".");let n=window;for(let o=0;o<r.length-1;o++)n=n[r[o]];const a=r[r.length-1];if(void 0===n[a])n[a]=t;else if("object"===typeof n[a])for(const o in t)t.hasOwnProperty(o)&&e(t[o],i+"."+o)}(e,t),delete Du.ya.isDeploying}function at(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function ot(e){if(!Object(zo.a)(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function dt(e){return"number"===typeof e.repeatNumber}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ct(e){const{adBreak:t}=e;return Object(Zo.a)(Qo.a)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return u(r)?h({url:Object($o.b)(r,Mu(e)),options:i}):r}(e)}function ut(e){return function(e,t){let i=e;return Object(Uo.a)(Object(xu.a)(t),r=>{let[n,a]=r;if(void 0===a)return;const o="["+n+"]";if(a!==o)for(;i.indexOf(o)>-1;)Object(Mo.e)()&&Bo.c.event({name:"ReplaceVastMacro",data:{macroName:n,macroValue:a,stringToReplace:e,macros:t}}),i=i.replace(o,a)}),i}(e,zu)}function ht(e){let{trackingUrls:t,options:i}=e;if(!Array.isArray(t))return;const r=Object(Od.a)(t,Pe),n=Object(Ho.a)(r,ut),a=Object(Ho.a)(n,e=>h({url:e,options:i}));Object(Uo.a)(a,A)}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function At(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:n,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:f,videoCurrentSrc:v,videoMuted:g,videoVolume:y,bufferingTime:b,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:S,adBreakType:T,adFormatType:E}}=e;const w=Yu[t],C=void 0===w?1:w+1;Yu[t]=C;const P={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:f,bufferingTime:b,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:S},I=pt({trackingUrls:r,trackingEventDetails:i,isVisibilityReliable:Ks,counterInBundle:C},P,{devicePixelRatio:n,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoCurrentSrc:v,videoMuted:g,videoVolume:y,adBreakType:T,adFormatType:E});C===qu&&Bo.c.error({error:new Lo.a({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:pt({eventName:t,eventTrackingsCounts:Yu},I)})}),Bo.c.event({name:Gu(t),probability:Object(jd.a)(Wu,t)?Mo.b:Mo.a,data:I,labels:{},queryParams:{"pcode-version":null===fu.b||void 0===fu.b?void 0:fu.b.pcodeVersion,"widget-version":null===fu.b||void 0===fu.b?void 0:fu.b.widgetVersion}})}function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ft(e){try{At(e=mt({},e,{options:vt(e.options)})),ht(e)}catch(t){Bo.c.error({error:new Lo.a({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function vt(e){const{size:t,screenSize:i,videoContentSize:r}=e;return mt({},e,{size:b(t,Math.round),screenSize:b(i,Math.round),videoContentSize:r&&b(r,Math.round)})}function gt(e){const{text:t,textColor:i,isVisible:r}=e||Qu;return{text:Object($d.a)(t)?t:Qu.text,textColor:i||Qu.textColor,isVisible:"boolean"===typeof r?r:Qu.isVisible}}function yt(e){const t=[];if(!Array.isArray(e))throw new Lo.a({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Lo.a({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Object(Od.a)(e,je);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Lo.a({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const r=[],n=[],a=[];let o;if(Object(Uo.a)(i,e=>{const{type:t}=e;switch(t){case Lc.Overlay:r.push(e);break;case Lc.Motion:case Lc.VpaidCreative:n.push(e);break;default:a.push(e)}}),r.length>0){if(i.length>1)throw new Lo.a({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=r[0]}else{if(n.length>1)throw new Lo.a({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=n[0]}return{errorCodes:t,videoMediaFiles:a,animationMediaFile:o}}function bt(e){const t=[];let i={};if("string"!==typeof e)throw new Lo.a({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new Lo.a(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!Object(zo.a)(i))throw new Lo.a({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:n,interactiveElements:a=[],mediaFiles:o}=i;i.videoStates&&t.push(new Lo.a({code:"USING_VIDEO_STATES_IN_IV_AD_PARAMETERS",details:{adParametersString:e}}));const{errorCodes:s,animationMediaFile:d,videoMediaFiles:l}=yt(o),c=Object(Ho.a)(s,t=>new Lo.a({code:t,details:{adParametersString:e}}));return t.push(...c),{raw:i,parsed:{tickerData:gt(r),animationMediaFile:d,videoMediaFiles:l,adParameters:(u=n,"string"===typeof u?u:Object(zo.a)(u)?Ae(u):void 0),interactiveElements:a},errors:t};var u}function _t(e){for(const{width:t,height:i}of e){const e=Number(t),r=Number(i);if(n(e)&&n(r))return{width:e,height:r}}}function Ot(e){let{type:t}=e;return Kc.indexOf(t)>-1?"js":"video"}function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Tt(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Object(Od.a)(i,e=>"video"===Ot(e)||u(e.url))),i=Object(Ho.a)(i,e=>"video"!==Ot(e)?e:$u(e))}function Et(e,t){return Object(eh.a)(Tt(e,t),e=>"js"===Ot(e))}function wt(e){let{url:t}=e;return t===Vc}function Ct(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&wt(r)}function Pt(e){return nh.indexOf(e.toLowerCase())>-1}function It(e){void 0===e&&(e=window);const t=Object(lh.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}function Dt(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,n=Fc[r];if(void 0!==n){0;let e=Vo.a;const t=new Promise((t,r)=>{e=Object(Cu.b)({moduleName:n,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:Cu.a})});return{teardown:e,promise:t}}const{promise:a,teardown:o}=Object(gh.a)({src:r,win:i});return{promise:a.then(()=>i.initAdCreative),teardown:o}}function Nt(e){let t;try{t=e.devicePixelRatio}catch(i){}return n(t)?t:1}function Rt(e){let{videoContentSize:t,slotSize:i}=e;if(!t)return{reason:"unknownVideoContentSize",value:Ko.videoPixelRatio};let{width:n,height:a}=t;if(Object($s.a)(n)&&(n=Number(n),Oh()),Object($s.a)(a)&&(a=Number(a),Oh()),!r(n)||!r(a))return{reason:"hasIncorrectWidthAndOrHeight",value:_h};if(n<0||a<0)return{reason:"incorrect",value:Ko.videoPixelRatio};if(0===a||0===i.height)return{reason:"incorrect",value:Ko.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:Ko.videoPixelRatio};const o=n/a;return i.width/i.height>o?{reason:"normal",value:a/i.height}:{reason:"normal",value:n/i.width}}function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Vt(e,t){const i=Th(e);return Object(jd.a)(t,i)?i:void 0}function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Mt(e){const t=function(e){const t=Nt(window);let i=e-Ih;if("DIVISION"===Eh)i=e/t-Ih;else if("SUBTRACTION"===Eh){i=e-((t-1)*("undefined"===typeof Ch?1:Ch)+1)}return 0===i?0:i<0?-i:i*Dh}(e.videoPixelRatio),i=function(e){if(!Boolean(e))return Vh;if(!Object($s.a)(e))return Vh;const t=e.toLowerCase();return t===Nh?1:t===kh?2:3}(e.type),r=jt({},e,{prioritySolution:t+jh*i});return r.videoPixelRatioDistance=t,r}function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Bt(e,t,i){return e>i?i:e<t?t:e}function xt(e){return"number"===typeof e&&e>0}function Ft(e){const{minBitrate:t,maxBitrate:i}=e;return xt(t)&&xt(i)}function Ut(e,t){let{desiredBitrate:i}=t;if(function(e){return Pt(e.type)&&$l(Mh,t=>!xt(e[t]))}(e))return 0;if(Ft(e)){const{minBitrate:t,maxBitrate:r}=e;return i<t?t-i:i>r?i-r:0}const{bitrate:r}=e;return n(r)?Math.abs(r-i):Lh}function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function zt(e,t){let{desiredBitrate:i}=t;const r=Object(Ho.a)(e,e=>{let{bitrate:t}=e;return Ht({},function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["bitrate"]),{bitrate:n(t)?t:Lh})}),a=Object(Ho.a)(r,e=>Ht({},e,{prioritySolution:Ut(e,{desiredBitrate:i})}));let o=[...a].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});{const e=Ft(o[0])?Bt(i,o[0].minBitrate,o[0].maxBitrate):o[0].bitrate;o=[...a].sort((t,i)=>t.bitrate<=e&&i.bitrate<=e?i.height-t.height:t.prioritySolution-i.prioritySolution)}return Object(Ho.a)(a,e=>Ht({},e,{rating:bh(o,t=>{let{url:i}=t;return e.url===i})}))}function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Gt(e){if(Object($d.a)(e))return Bh[e]?(Bo.c.event({name:"CorrectCodec",data:{vastCodec:e,correctCodec:Bh[e]}}),Bh[e]):e}function Yt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(Zo.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(Zo.a)(t.prototype.appendBuffer)&&Object(Zo.a)(t.prototype.remove))}(e)?t:void 0}function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Xt(e){return zh||Gh?!zh&&Gh?qt({},e,{mseAvailability:"noMse"}):zh&&!Gh?qt({},e,{mseAvailability:"noFetch"}):Object($s.a)(e.type)?-1===e.type.toLowerCase().indexOf(Nh)?qt({},e,{mseAvailability:"isNotWebm"}):qt({},e,Hh?Wh?{mseAvailability:"canPlayMseForAbd"}:{mseAvailability:"isNotAbd"}:{mseAvailability:"cannotPlayWebmWithMse"}):qt({},e,{mseAvailability:"noType"}):qt({},e,{mseAvailability:"noMseAndFetch"})}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Qt(e){if(!Array.isArray(e))return[];return Object(Ho.a)(e,e=>{return function(e){return Object($s.a)(e.type)?rh(qh(e.type,e.codec))?Kt({},e,{playability:"canPlay"}):Kt({},e,{playability:"cannotPlay"}):Kt({},e,{playability:"noType"})}(Xt(function(e){if(!Object(zo.a)(e))return{validationType:"invalidObject"};const{type:t,codec:i,url:r,width:a,height:o,bitrate:s,maxBitrate:d,minBitrate:l}=e,c={type:t,codec:Gt(i),url:r,width:a,height:o,bitrate:s,maxBitrate:d,minBitrate:l};return(!n(l)||!n(d)||l>=d)&&(c.minBitrate=void 0,c.maxBitrate=void 0),"string"!==typeof r?Wt({},c,{validationType:"invalidUrl"}):r.trim()?"string"!==typeof t?Wt({},c,{validationType:"invalidType"}):t.trim()?Wt({},c,{validationType:"correct"}):Wt({},c,{validationType:"emptyType"}):Wt({},c,{validationType:"emptyUrl"})}(e)))})}function Jt(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $t(e,t){const i=Date.now(),r=Qt(e);let a,o;const{desiredBitrate:s}=t;if(n(s)){a=zt(r,{desiredBitrate:s}),o="desiredBitrate"}else{a=function(e,t){if(0===e.length)return[];const i=Object(Ho.a)(e,i=>{if(!Boolean(i))throw new Lo.a({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:r,reason:n}=Rt({videoContentSize:i,slotSize:t.container});return Mt(Lt({},i,{videoPixelRatio:r,videoPixelRatioReason:n}))}),r=[...i].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});return Object(Ho.a)(i,e=>Lt({},e,{rating:bh(r,t=>e===t)}))}(r,t),o="videoPixelRatio"}const d=Object(Od.a)(a,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===r});let l;if(d.length>0)l=d;else{l=Object(Od.a)(a,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i})}const c=function(e,t,i){if(e.length<1)return;let[r]=e,n=t(r);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);i(s,n)<0&&(r=o,n=s)}return r}(l,e=>{let{rating:t}=e;return t},(e,t)=>e-t);return Bo.c.values({name:"PrioritiseMediaFiles",data:{input:Zt({mediaFiles:Object(Ho.a)(e,e=>Object(zo.a)(e)?Zt({},e):e)},t,{dpr:Nt(window)}),output:{mediaFiles:a,mediaFile:c?Zt({},c):void 0,methodType:o}},probability:Mo.a,labels:{},values:{timeSpent:Date.now()-i}}),{validatedMediaFiles:Object(Ho.a)(l,e=>{if("videoPixelRatio"===o){return Jt(e,["rating","prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return Jt(e,["rating","prioritySolution"])}),prioritisedMediaFiles:a,prioritisedMediaFile:c}}function ei(e){let{scope:t,errorType:i,error:r,details:n}=e;return new Lo.a(r,{code:Xh(t,i),details:n})}function ti(e,t){const i=[];i.push(Object(Fd.a)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})}})),i.push(Object(Fd.a)({element:e,eventName:"error",listener:(e,i,r,n,a)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:n,error:a,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})}})),i.push(Object(Fd.a)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new Kh({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,a=new Error;0===r.length&&0===n.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Object(Uo.a)(Object(xu.a)({reports:r,records:n}),e=>{let[r,n]=e;return Object(Uo.a)(n,e=>{t(a,function(e){if(!Object(zo.a)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!Object($d.a)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(Object(zo.a)(i)&&Object($d.a)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})})})}});return i.push(()=>{r.destroy()}),()=>Object(Ad.a)(i)}function ii(e,t){return ti(e,(e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(Bo.b)>-1)return}}t(e,i,r)})}function ri(e){return 0===Zh.length&&(Jh=window.setInterval(()=>{Zh.forEach(e=>e())},Qh)),Zh.push(e),()=>{const t=Zh.indexOf(e);t>-1&&Zh.splice(t,1),0===Zh.length&&clearInterval(Jh)}}function ni(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&E(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Object(jo.a)(i)}function ai(){return(ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function oi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function si(e){if(ip.a&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function di(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&(!!i||wt(r))}function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ci(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ui(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pi(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mi(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n},isAdFox:a,url:o,adPlacementOptions:s,adConfig:d}=e;return{adPlacementOptions:s,vastSourceType:t=a||o&&c(o)?"AD_FOX":o&&u(o)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n,requestMethod:ac({secureMode:d.secureMode,url:o})?"VASFrame":"XMLHttpRequest"}}function fi(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:n}=e;const a=i.adFoxParameters||t.adFoxParameters;if(a)return async function(e){return new Pc(e).loadVastPromise}({adConfig:Ai({},t,{adFoxParameters:a}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:o}=t,s=t.hasOwnProperty("vast")?t.vast:void 0;if(s)return zl(s,mi({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r})).then(e=>(o&&0===e.children.length&&o({adPods:Object(Ho.a)(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const d=t.vastUrl?t.vastUrl:ct({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:n});return Kl({url:d,loadParameters:mi({adConfig:t,adBreak:i,isAdFox:!1,url:d,adPlacementOptions:r})})}async function vi(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await fi(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,f(l),l}const n=[];for(const c of r.ads)try{var a;const e=c.mediaFiles[0],t=null!==(a=null===e||void 0===e?void 0:e.url)&&void 0!==a?a:"",i=Ve(t)||Ze(t)||$e(c)||Je(c);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Qe(c);t&&Bo.c.event({name:t,data:{previous:c,next:e},probability:Mo.a}),n.push(e)}else n.push(c)}catch(l){Bo.c.error({error:l})}const o=Object(Ho.a)(n,e=>(e.vast=r,new ap(i,e,t))),s=function(e,t,i){const r=pi(i);return Object(Od.a)(e,e=>{const{isNonLinear:n}=e.vastAd;return n===r||(e.trackError(new Lo.a({code:n?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(o,t,i),d=new op(s);if(0===d.mediaAds.length)throw new Lo.a({code:"NO_AD_SECTION",details:void 0});if(Object(Od.a)(d.mediaAds,e=>e.hasMediaFiles()).length>0)return{mediaAds:d,vast:r};if(d.hasFilteredOutMediaFiles()){const e=Ed(Object(Ho.a)(o,e=>e.vastAd.mediaFiles));throw new Lo.a({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Lo.a({code:"NO_AD_TO_DISPLAY",details:void 0})}function gi(e,t){return Object(Od.a)(e,e=>e.adType===t)}function yi(e,t){const i=b(t,(t,i)=>e.style[i]);return v(e,t),Object(bs.a)(()=>{v(e,i)})}function bi(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function _i(e){const t=e.getRootNode;if(Object(Zo.a)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Oi(e){return!!e&&"ShadowRoot"===Object(dd.a)(e)}function Si(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=_i(i);if(!Oi(e)||!sp(e.host))return!1;i=e.host}return!1}function Ti(e,t){const i={};return Object(ud.a)(t).forEach(t=>{i[t]=e.getAttribute(t)}),E(e,t),Object(bs.a)(()=>{E(e,i)})}function Ei(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function wi(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&Object(Ys.a)(i)?i:void 0}function Ci(e){if(!ih)return Promise.reject();const t=(i=e.play)[pp]||i;var i;if(Object(Ys.a)(t))return t.call(e);const r=wi("HTMLVideoElement")||wi("HTMLMediaElement");if(r)return r.call(e);const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const a=wi("HTMLMediaElement",Object(hp.a)(n).contentWindow);if(a){const t=a.call(e);return Object(jo.a)(n),t}return e.play()}function Pi(e,t,i,r){const n=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),a=Sp.a?n:n.capture,o=n.once&&!Sp.b?function(e){s(),i.call(this,e)}:i,s=()=>{Object(Op.b)(e,t,o,a)};return Object(Op.a)(e,t,o,a),s}function Ii(e,t){void 0===t&&(t={});let i=0;const r=[],n=(t,n)=>{r.push(Pi(e,t,n,Tp)),clearTimeout(i)},a=()=>Object(Ad.a)(r),o=new Promise((r,a)=>{const o=t=>{e.paused&&a(t)},s=Ci(e);if(o(_p.VideoTagPaused),n("durationchange",()=>o(_p.VideoTagPausedAfterDurationChange)),n("error",()=>o(_p.VideoTagPausedAfterError)),n("pause",()=>a(_p.PauseEvent)),n("playing",()=>{r(_p.PlayingEvent)}),s)t.useProgressEvent&&n("progress",()=>{r(_p.ProgressEvent)}),s.then(()=>r(_p.PromiseResolve)).catch(e=>a(function(e){return e?_p.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":_p.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{a(_p.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function Di(e,t){const{paused:i}=e,r=t();return i||Ei(Ci(e)),r}function Ni(){return(Ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ri(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function ki(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Ap(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),Ri({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),Ri({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:gp.YaBroAllowedToPlay})):(t(),Ri({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:gp.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),bp(e))return Ri({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),vp(e))return Ri({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const r=function(e){if(void 0===e&&(e=window),yp(e))return Ri({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.PlayStationSmartTV})}();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(Ni({},Pp,{detectionMethod:gp.TizenAVPlay}));const n=function(e){if(void 0===e&&(e=window),ch(e))return uh(e)?Ri({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:gp.Tizen23SmartTV}):Ri({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.TizenSmartTVModern})}();return void 0!==n?Promise.resolve(n):cp&&lp<=9||Ep?Promise.resolve(Ni({},Cp,{detectionMethod:gp.IOS9OrLess})):ih?wp?Promise.resolve(Ni({},Pp,{detectionMethod:gp.OldIE})):void 0:Promise.resolve(Ni({},Cp,{detectionMethod:gp.HTML5VideoIsNotSupported}))}function Vi(){return(Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ji(e){return void 0===e&&(e=""),e.replace(Mp,e=>e in Lp?Lp[e]:e)}function Mi(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!Object(zo.a)(i)||!Object(zo.a)(i.data_params))return;const r=xp(i.data_params);if(!Object(zo.a)(r))return;const n=null===(t=r.click_url)||void 0===t?void 0:t.action_button;return Object($d.a)(n)?n:void 0}function Li(e){return n(e)&&function(e){return r(e)&&Math.floor(e)===e}(e)}function Bi(e){return!Object(ud.a)(e).length}function xi(e){if(!Object(zo.a)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!Object(zo.a)(t)||!Object(zo.a)(t.data_params))return[];const i=xp(t.data_params);if(!Object(zo.a)(i)||!Object(zo.a)(i.text))return[];const r=i.text,n=i.unmoderated||r.unmoderated||{};return Up(n.images)}function Fi(e){const{AUCTION_DC_PARAMS:t}=e;if(!Object(zo.a)(t)||!Object(zo.a)(t.data_params))return;const i=xp(t.data_params);if(!Object(zo.a)(i))return;const r=i.target_url;return Object($d.a)(r)?r:void 0}function Ui(){const e=Tl(Ml);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const n=Object(Od.a)(i,e=>Boolean(e));return Object(Td.a)(n,(e,t)=>(function(e,t){const i=Tl(Ml);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility,void 0!==t.controlsVariant?i.controlsVariant=t.controlsVariant:i.controlsVariant=e.controlsVariant;for(const r of $p)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i})(e,t),e)}function Hi(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return Object(zo.a)(t)&&Object($d.a)(t[vd])?t[vd]:Object($d.a)(i)?i:void 0}function zi(e){const t=e.packshot_duration;if(!n(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!Object($d.a)(i))return;const r=Mi(e);return void 0!==r?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:r,packshotButtonText:Hi(e)}:void 0}function Wi(e){let{vastAd:t,secureMode:i}=e;const{skipTime:n,skipOffset:a,playbackAdParameters:o,mediaFiles:s}=t;return o&&r(o.skipDelay)?{skipDelay:o.skipDelay,eventName:void 0}:function(e,t){const i=Et(e,t);return!!i&&Ve(i.url)}(s,i)?{skipDelay:tA,eventName:"UsingDefaultInteractiveViewerSkipDelay"}:r(a)?r(n)?{skipDelay:n,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:a,eventName:void 0}:{skipDelay:eA,eventName:void 0}}function Gi(e){let{mediaFiles:t,adParametersObject:i}=e;if((null===i||void 0===i?void 0:i.theme)===aA)return!0;const[r]=t;return void 0!==r&&function(e){const t=e.split("?")[0].split("#")[0];return Object(jd.a)(nA,t)}(r.url)}function Yi(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Ze(i.url)}(e))return!1;if(Gi(e))return!1;if(di(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=Object(xs.a)(()=>yt(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:rA}function qi(e){if(Gi(e))return!1}function Xi(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:Yi(e),skip:iA,play:qi(e)}};let n;return i&&(n=i.controlsSettings),Ui(r,n)}function Ki(e){if("error"===e.reason)return e.details}function Qi(e){const t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||(t=>e.setTimeout(t,oA)),i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||(t=>e.clearTimeout(t));return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:i.bind(e)}}function Ji(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function er(e){return!!Object(zo.a)(e)&&sp(e)}function tr(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:r}=e;if(!n(i))return Vo.a;let a=0;const o=t.onBufferingAfterPlay.add(()=>{a++,Object(xo.a)("bufferEmptyCount=["+a+"] limit=["+i+"]"),a<=i||(o(),r())});return o}function ir(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,n=Vo.a;const a=t.isBuffering.add(async e=>{if(n(),!e)return;const{promise:t,clear:o}=Object(wd.a)(i);n=o,await t,n(),a(),r()});return()=>{n(),a()}}function rr(e,t){const i=Object(Fd.a)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(n(),t())}}),r=Object(Fd.a)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(n(),t())}}),n=()=>{i(),r()};return n}function nr(e){function t(){let e=i.getDuration();return n(e)||(e=r()),n(a)?Math.min(e,a):e}let{videoNodeController:i,durationFallback:r,durationLimit:a,callbacks:{AdStarted:o,AdVideoFirstQuartile:s,AdVideoMidpoint:d,AdVideoThirdQuartile:l,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=Object(bs.a)(s),p=Object(bs.a)(d),A=Object(bs.a)(l),m=Object(bs.a)(c);let f=0;const v=()=>{const e=t();if(!n(e))return;const r=(i.getCurrentTime()-f)/e;r>=.25&&h(),r>=.5&&p(),r>=.75&&A()},g=Object(bs.a)((function(e){void 0===e&&(e={completeOnDurationLimit:!1}),v(),u(e)})),y=[rr(i.videoNode,()=>{f=i.getCurrentTime(),o()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:r,isEnd:o}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+mA>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});r&&m(),o&&n(a)&&g({completeOnDurationLimit:!0,durationLimit:a})}),i.currentPosition.add(v),i.onEnd.add(g)];return()=>Object(Ad.a)(y)}function ar(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function or(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function sr(e){var t;if(!u(e)&&!c(e)||!Xs.a)return e;const i=wA.a[wA.a.length-1],r=null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document;return Object($o.a)(e,"target_ref",r.referrer)}function dr(e,t){if(e===t)return!0;if(!Object(zo.a)(e)||!Object(zo.a)(t))return!1;if(Object(Sd.a)(e)!==Object(Sd.a)(t))return!1;const i=Object(ud.a)(e),r=Object(ud.a)(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!dr(e[n],t[n]))return!1}return!0}function lr(e,t){const i=function(e){const t=Object(DA.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Object(Fd.a)({element:e,eventName:i,listener:()=>{t(Object(IA.a)(e))}}):Vo.a}function cr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ur(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hr(e,t){const i={};return Object(ud.a)(e).forEach(r=>{t(e[r],r)&&(i[r]=e[r])}),i}function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ar(){return(Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mr(e,t){let{width:i,height:r}=e;const n=Object(Ho.a)([i,r],e=>Math.round(e)),a=Math.min(...n),o=Math.max(...n);return t?a>=em&&o*a>=tm:a>=ZA&&o*a>=$A}function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function yr(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const n=void 0===r?t.width/t.height:r.width/r.height,a=i.width/i.height>n,o=a?i.height*n:i.width/n,s=a?i.height:i.width,d={width:a?o:s,height:a?s:o},l=Math.min(t.width,d.width)/Math.min(t.height,d.height),c=t.width/t.height>l;return{adjacentSize:c?t.height*l:t.width/l,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function br(e){const{videoWidth:t,videoHeight:i}=e;if(n(t)&&n(i))return{width:t,height:i}}function _r(e){let{win:t,slotSize:i,slotVisibilityRatio:a,videoSlotSize:s,videoNode:d,bufferingTime:l,adBreakType:c,adFormatType:u}=e;const h=om(t),p=h.width*h.height,A=i.width*i.height,m=0===p?0:A/p,f=Nt(t),v=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const r=i.type;if("string"===typeof r||"number"===typeof r)switch(r){case"BLUETOOTH":return 3;case sm.CELL_2G:return.384;case sm.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case sm.ETHERNET:case"ETHERNET":case sm.WIFI:case"WIFI":case"MIXED":return 10;case sm.UNKNOWN:}return-1}(t),g=d?br(d):Ko.videoContentSize;let y=Ko.videoAvatarSize,b=Ko.videoFramesInfo,_=Ko.videoSrc,O=Ko.videoCurrentSrc,S=Ko.videoMuted,T=Ko.videoVolume,E=Ko.currentTime,w=Ko.bufferingTimeRatio,C=Ko.remainingBufferedTime;if(d){const{innerSize:e,adjacentSize:t,extraHorizontalSpace:n}=yr({slotSize:i,videoContentSize:g,videoSlotSize:s});y={width:n?t:e,height:n?e:t},b=o(d),_=d.src,O=d.currentSrc,S=d.muted,T=d.volume;const a=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!r(e.buffered.length)||!Object(Zo.a)(e.buffered.start)||!Object(Zo.a)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],n=i[i.length-1];n.end<e.start?i.push(e):n.end<e.end&&(n.end=e.end)}return i}(t)}(d);E=d.currentTime;const c=(P=a,I=E,Object(eh.a)(P,e=>{let{start:t,end:i}=e;return t<=I&&I<=i}));c&&(C=c.end-E),r(E)&&r(l)&&l+E>0&&(w=l/(l+E))}var P,I;const{value:D}=Rt({videoContentSize:g,slotSize:i});let N=Ko.videoToDevicePixelRatio;return n(D)&&(N=D/f),{visibility:a,size:i,relativeSizeRatio:m,screenSize:h,devicePixelRatio:f,downlink:v,videoContentSize:g,videoSlotSize:s,videoAvatarSize:y,videoPixelRatio:D,videoToDevicePixelRatio:N,videoFramesInfo:b,videoSrc:_,videoCurrentSrc:O===_?void 0:O,videoMuted:S,videoVolume:T,bufferingTime:l,currentTime:E,bufferingTimeRatio:w,remainingBufferedTime:C,adBreakType:c,adFormatType:u}}function Or(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:lm?Math.max(r.clientWidth,(null===i||void 0===i?void 0:i.innerWidth)||0):(null===i||void 0===i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:lm?Math.max(r.clientHeight,(null===i||void 0===i?void 0:i.innerHeight)||0):(null===i||void 0===i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function Sr(e){let{width:t,height:i,top:r,left:n,winWidth:a,winHeight:o}=e;const s=n+t,d=r+i,l=Bt(n,0,a),c=Bt(r,0,o);return{winWidth:a,winHeight:o,left:l,top:c,width:Bt(s,l,a)-l,height:Bt(d,c,o)-c}}function Tr(e,t){return e.width*e.height/(t.width*t.height)}function Er(e){const t=function(e){return[Or(e),...Object(Ho.a)(Object(dm.a)(e),Or)]}(e);let i=Sr(t[0]),r=Tr(i,t[0]);for(let o=1;o<t.length;o++){const e=t[o];r=Tr(i=Sr((n=i,{winWidth:(a=e).winWidth,winHeight:a.winHeight,left:n.left+a.left,top:n.top+a.top,width:n.width,height:n.height})),t[0])}var n,a;return r}function wr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Cr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Rr(e){return Array.isArray(e)?Object(Od.a)(e,e=>"string"===typeof e&&e.length>0):[]}function kr(e){const t=[];return Object(zo.a)(e)?{measurers:hr(e,(i,r)=>Object(zo.a)(i)?-1!==Nm.indexOf(r)||(t.push(new Lo.a({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new Lo.a({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new Lo.a({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function jr(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:r}=e;let n={},a={};const{bannerParameters:o,errors:s}=function(e){const t=[];if(!Object(zo.a)(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!Object(zo.a)(i))return{bannerParameters:void 0,errors:t};const{misc:r}=i;if(!Object(zo.a)(r))return{bannerParameters:void 0,errors:t};const{object_id:n}=r,a=i[n];return Object(zo.a)(a)?{bannerParameters:a,errors:t}:{bannerParameters:void 0,errors:t}}(r);if(t.push(...s),Object(zo.a)(o)){const{measurers:i,unmoderated:r}=o,{measurers:s,errors:d}=kr(i);if(t.push(...d),n=s,Object(zo.a)(r)){const{measurers:i}=r;i&&t.push(new Lo.a({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:n,errors:o}=kr(i);t.push(...o),a=n}}const{measurers:d,errors:l}=kr(i);t.push(...l);const c=Object(ud.a)(a).length>0,u=Object(ud.a)(n).length>0,h=Object(ud.a)(d).length>0;return Number(c)+Number(u)+Number(h)>1&&t.push(new Lo.a({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Vr({},a,n,d),errors:t}}function Mr(e){return Object(zo.a)(e)?b(Rm,(t,i)=>Rr(e[i])):Tl(Rm)}function Lr(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!Object(zo.a)(i)&&"sad"===i.sad}function Br(e){if(!Object(zo.a)(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?Object(zo.a)(t)?{partnerCode:i,ids:hr(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function xr(e){return e<2?1e3:2===e?3e3:5e3}function Fr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ur(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),()=>{const r=e(),{onStop:n=Vo.a,onInitMeasurer:a=Vo.a,onTrackEvent:o=Vo.a,onExecutionError:s=Vo.a,onAdError:d=Vo.a,onPlayingStateChange:l=Vo.a,onSlotHoverStateChange:c=Vo.a,onSlotVisibilityStateChange:u=Vo.a,onSlotSizeChange:h=Vo.a}=i;return function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r,measurableVpaidDidCreate:n}=t;const a=Ar({},b(UA,(e,t)=>{return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(t,r)}}),b(hr(GA,(t,i)=>"function"===typeof e[i]),(t,i)=>()=>e[i]()));return Object(Uo.a)(Object(ud.a)(HA),t=>{Object.defineProperty(a,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})}),n(a),a}(r,new km(r,t,{onStop:n,onInitMeasurer:a,onTrackEvent:o,onExecutionError:s,onAdError:d,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h}))}}function Hr(e){return Object(Uo.a)(Object(ud.a)(zA),t=>{const i=zA[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){Bo.c.error({error:new Lo.a({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Bo.c.error({error:new Lo.a({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),Object(Uo.a)(Object(ud.a)(WA),t=>{const i=WA[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(n){Bo.c.error({error:new Lo.a({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else Bo.c.error({error:new Lo.a({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})}),e}function zr(e,t){for(var i in t)e[i]=t[i];return e}function Wr(e){var t=e.parentNode;t&&t.removeChild(e)}function Gr(e,t,i){var r,n=arguments,a={};for(r in t)"key"!==r&&"ref"!==r&&(a[r]=t[r]);if(arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(n[r]);if(null!=i&&(a.children=i),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return Yr(e,a,t&&t.key,t&&t.ref)}function Yr(e,t,i,r){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return Bm.vnode&&Bm.vnode(n),n}function qr(e){return e.children}function Xr(e,t){this.props=e,this.context=t}function Kr(e,t){if(null==t)return e.__?Kr(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?Kr(e):null}function Qr(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Qr(e)}}function Jr(e){(!e.__d&&(e.__d=!0)&&1===xm.push(e)||Um!==Bm.debounceRendering)&&((Um=Bm.debounceRendering)||Fm)(Zr)}function Zr(){var e,t,i,r,n,a,o;for(xm.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=xm.pop();)e.__d&&(i=void 0,r=void 0,a=(n=(t=e).__v).__e,(o=t.__P)&&(i=[],r=nn(o,n,zr({},n),t.__n,void 0!==o.ownerSVGElement,null,i,null==a?Kr(n):a),an(i,n),r!=a&&Qr(n)))}function $r(e,t,i,r,n,a,o,s,d){var l,c,u,h,p,A,m,f=i&&i.__k||Gm,v=f.length;if(s==Wm&&(s=null!=a?a[0]:v?Kr(i,0):null),l=0,t.__k=function e(t,i,r){if(null==r&&(r=[]),null==t||"boolean"==typeof t)i&&r.push(i(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n],i,r);else r.push(i?i("string"==typeof t||"number"==typeof t?Yr(null,t,null,null):null!=t.__e||null!=t.__c?Yr(t.type,t.props,t.key,null):t):t);return r}(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(u=f[l])||u&&i.key==u.key&&i.type===u.type)f[l]=void 0;else for(c=0;c<v;c++){if((u=f[c])&&i.key==u.key&&i.type===u.type){f[c]=void 0;break}u=null}if(h=nn(e,i,u=u||Wm,r,n,a,o,s,d),(c=i.ref)&&u.ref!=c&&(m||(m=[]),u.ref&&m.push(u.ref,null,i),m.push(c,i.__c||h,i)),null!=h){var g;if(null==A&&(A=h),void 0!==i.__d)g=i.__d,i.__d=void 0;else if(a==u||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),g=null;else{for(p=s,c=0;(p=p.nextSibling)&&c<v;c+=2)if(p==h)break e;e.insertBefore(h,s),g=s}"option"==t.type&&(e.value="")}s=void 0!==g?g:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return l++,i})),t.__e=A,null!=a&&"function"!=typeof t.type)for(l=a.length;l--;)null!=a[l]&&Wr(a[l]);for(l=v;l--;)null!=f[l]&&dn(f[l],f[l]);if(m)for(l=0;l<m.length;l++)sn(m[l],m[++l],m[++l])}function en(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===Ym.test(t)?i+"px":null==i?"":i}function tn(e,t,i,r,n){var a,o,s,d,l;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof i)a.cssText=i;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(o in r)i&&o in i||en(a,o,"");if(i)for(s in i)r&&i[s]===r[s]||en(a,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),i?(r||e.addEventListener(t,rn,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,rn,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function rn(e){this.l[e.type](Bm.event?Bm.event(e):e)}function nn(e,t,i,r,n,a,o,s,d){var l,c,u,h,p,A,m,f,v,g,y=t.type;if(void 0!==t.constructor)return null;(l=Bm.__b)&&l(t);try{e:if("function"==typeof y){if(f=t.props,v=(l=y.contextType)&&r[l.__c],g=l?v?v.props.value:l.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in y&&y.prototype.render?t.__c=c=new y(f,g):(t.__c=c=new Xr(f,g),c.constructor=y,c.render=ln),v&&v.sub(c),c.props=f,c.state||(c.state={}),c.context=g,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=zr({},c.__s)),zr(c.__s,y.getDerivedStateFromProps(f,c.__s))),h=c.props,p=c.state,u)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&f!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(f,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(f,c.__s,g)){for(c.props=f,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=i.__e,t.__k=i.__k,c.__h.length&&o.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(f,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=g,c.props=f,c.state=c.__s,(l=Bm.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==qr&&null==l.key?l.props.children:l,null!=c.getChildContext&&(r=zr(zr({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),$r(e,t,i,r,n,a,o,s,d),c.base=t.__e,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else t.__e=on(i.__e,t,i,r,n,a,o,d);(l=Bm.diffed)&&l(t)}catch(e){Bm.__e(e,t,i)}return t.__e}function an(e,t){Bm.__c&&Bm.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Bm.__e(e,t.__v)}}))}function on(e,t,i,r,n,a,o,s){var d,l,c,u,h,p=i.props,A=t.props;if(n="svg"===t.type||n,null==e&&null!=a)for(d=0;d<a.length;d++)if(null!=(l=a[d])&&(null===t.type?3===l.nodeType:l.localName===t.type)){e=l,a[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(A);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,A.is&&{is:A.is}),a=null}if(null===t.type)null!=a&&(a[a.indexOf(e)]=null),p!==A&&e.data!=A&&(e.data=A);else if(t!==i){if(null!=a&&(a[a.indexOf(e)]=null,a=Gm.slice.call(e.childNodes)),c=(p=i.props||Wm).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!s){if(p===Wm)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(u||c)&&(u&&c&&u.__html==c.__html||(e.innerHTML=u&&u.__html||""))}(function(e,t,i,r,n){var a;for(a in i)a in t||tn(e,a,null,i[a],r);for(a in t)n&&"function"!=typeof t[a]||"value"===a||"checked"===a||i[a]===t[a]||tn(e,a,t[a],i[a],r)})(e,A,p,n,s),t.__k=t.props.children,u||$r(e,t,i,r,"foreignObject"!==t.type&&n,a,o,Wm,s),s||("value"in A&&void 0!==A.value&&A.value!==e.value&&(e.value=null==A.value?"":A.value),"checked"in A&&void 0!==A.checked&&A.checked!==e.checked&&(e.checked=A.checked))}return e}function sn(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){Bm.__e(e,i)}}function dn(e,t,i){var r,n,a;if(Bm.unmount&&Bm.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||sn(r,null,t)),i||"function"==typeof e.type||(i=null!=(n=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Bm.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&dn(r[a],t,i);null!=n&&Wr(n)}function ln(e,t,i){return this.constructor(e,i)}function cn(e,t,i){var r,n,a;Bm.__&&Bm.__(e,t),n=(r=i===Hm)?null:i&&i.__k||t.__k,e=Gr(qr,null,[e]),a=[],nn(t,(r?t:i||t).__k=e,n||Wm,Wm,void 0!==t.ownerSVGElement,i&&!r?[i]:n?null:Gm.slice.call(t.childNodes),a,i||Wm,r),an(a,e)}function un(e){var t={},i={__c:"__cC"+zm++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[i.__c]=n,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,Jr(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function pn(e){Bm.__h&&Bm.__h(Qm);var t=Qm.__H||(Qm.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function An(e){return function(e,t,i){var r=pn(Km++);return r.__c||(r.__c=Qm,r.__=[i?i(t):En(void 0,t),function(t){var i=e(r.__[0],t);r.__[0]!==i&&(r.__[0]=i,r.__c.setState({}))}]),r.__}(En,e)}function mn(e,t){var i=pn(Km++);Tn(i.__H,t)&&(i.__=e,i.__H=t,Qm.__H.__h.push(i))}function fn(e,t){var i=pn(Km++);Tn(i.__H,t)&&(i.__=e,i.__H=t,Qm.__h.push(i))}function vn(e){return gn((function(){return{current:e}}),[])}function gn(e,t){var i=pn(Km++);return Tn(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function yn(e,t){return gn((function(){return e}),t)}function bn(e){var t=Qm.context[e.__c];if(!t)return e.__;var i=pn(Km++);return null==i.__&&(i.__=!0,t.sub(Qm)),t.props.value}function _n(){Zm.some((function(e){if(e.__P)try{e.__H.__h.forEach(On),e.__H.__h.forEach(Sn),e.__H.__h=[]}catch(t){return Bm.__e(t,e.__v),!0}})),Zm=[]}function On(e){e.t&&e.t()}function Sn(e){var t=e.__();"function"==typeof t&&(e.t=t)}function Tn(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function En(e,t){return"function"==typeof t?t(e):t}function wn(e){const[t,i]=An(e.getValue());return mn(()=>(i(e.getValue()),e.add(i)),[e]),t}function Cn(e,t){var i;const r=(null!==(i=e.ownerDocument)&&void 0!==i?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function Pn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function In(e){const t=lf();fn(()=>uf.useStyleModule(t.element,e),[e])}function Dn(e){let{descriptionText:t,buttonText:i,onButtonClick:r,animationProgress:n}=e;return{descriptionText:t,buttonText:i,onButtonClick:r,progress:wn(n)}}function Nn(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Nn(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Vn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jn(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Mn(e){return Boolean(e.IntersectionObserver)&&!Object(Ys.a)(e.IntersectionObserver)}function Ln(e){var t;if(Wf)return null;if(null!==(t=!Boolean(e.ownerDocument))&&void 0!==t?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=function(e,t){try{if(Object(Ys.a)(e.attachShadow))return e.attachShadow(t);if(Object(Ys.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(Ys.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:"open"});if(!r)return null;const n=i.document.createElement("div");return r.appendChild(n),n}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fn(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,workaroundMethodCallError:n,getterError:a,setterError:o}=t;const s=Bn({},b(UA,(t,n)=>(function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if("function"===typeof e[n])try{return e[n].apply(e,a)}catch(s){i({methodName:n,args:a,error:s})}else r({methodName:n,args:a})})),b(hr(GA,(t,i)=>"function"===typeof e[i]),(t,i)=>(function(){try{return e[i]()}catch(o){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n({methodName:i,args:r,error:o})}})));return Object(Sl.a)(HA,(t,i)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){a({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){o({propertyName:i,error:r,value:t})}}})}),s}(t,{methodCallError:e=>{let{methodName:t,args:n,error:a}=e;Bo.c.error({error:new Lo.a(a,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:xn({methodName:t,args:n},r())})}),Object(sd.a)(a)},methodAbsent:e=>{let{methodName:t,args:n}=e;Bo.c.error({error:new Lo.a({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:xn({methodName:t,args:n},r())})})},workaroundMethodCallError:e=>{let{methodName:t,args:n,error:a}=e;Bo.c.error({error:new Lo.a(a,{code:i?"YANDEX_VPAID_WORKAROUND_METHOD_CALL_ERROR":"VPAID_WORKAROUND_METHOD_CALL_ERROR",details:xn({methodName:t,args:n},r())})}),Object(sd.a)(a)},getterError:e=>{let{propertyName:t,error:n}=e;Bo.c.error({error:new Lo.a(n,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:xn({propertyName:t},r())})}),Object(sd.a)(n)},setterError:e=>{let{propertyName:t,value:n,error:a}=e;Bo.c.error({error:new Lo.a(a,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:xn({propertyName:t,value:n},r())})}),Object(sd.a)(a)}})}function Un(e){"function"===typeof e.catch&&e.catch(e=>void 0)}function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function zn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wn(e,t){return Jf.indexOf(e)>=Jf.indexOf(t)}function Gn(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(Wn(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return Wn(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function qn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Kn(e){const{config:t,errors:i}=function(e){const t=[],i=Object(zo.a)(e)?e:{};let r,n;return sp(i.visibilitySlot)?r=i.visibilitySlot:void 0!==i.visibilitySlot&&t.push(new Lo.a({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),sp(i.backgroundSlot)?n=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new Lo.a({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{visibilitySlot:r,backgroundSlot:n,clickThroughCallback:Object(Zo.a)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:Object(Zo.a)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0},errors:t}}(e),{config:r,errors:n}=Q(e);return{config:Xn({},t,r),errors:[...i,...n]}}function Qn(e){const t=Th(e);if(void 0!==t)if(Object($d.a)(t)){var i;if(i=t,sv||(sv=document.createElement("div")),sv.style.borderColor="",sv.style.borderColor=i,sv.style.borderColor.length>0)return t;Bo.c.error({error:new Lo.a({code:"INVALID_COLOR_VALUE_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}else Bo.c.error({error:new Lo.a({code:"INVALID_COLOR_FLAG_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}function Jn(e,t){return Object(Ho.a)(e,e=>lv(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"})}function Zn(e,t,i,r,n){const a=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},o=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i};return e=>{const t=e;let i,r,d,l,c,u;for(d=t,u=0;u<8;u++){if(c=a(d)-t,Math.abs(c)<n)return o(d);if(l=s(d),Math.abs(l)<1e-6)break;d-=c/l}if(r=1,(d=t)<(i=0))return o(i);if(d>r)return o(r);for(;i<r;){if(c=a(d),Math.abs(c-t)<n)return o(d);t>c?i=d:r=d,d=.5*(r-i)+i}return o(d)}}function $n(e){let{position:t,unit:i,steps:r}=e;const{step:n,stepPosition:a}=function(e,t){let i=0;const{length:r}=t;for(let n=0;n<r;n++){const a=t[n],o=i+a.duration,s=i<=e&&e<o;if(n===r-1||s)return{step:a,stepPosition:i};i=o}throw new Lo.a({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,r);if(cv(n))return n.value;const{duration:o,values:[s,d],easing:l=hv}=n;if(s===d)return s;if(t>=a+o)return d;const c=("function"===typeof l?l:uv[l])((t-a)/o);return(0,pv[i])(c,s,d)}function ea(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ta(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!zv.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function ia(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ra(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")?Vo.a:function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===sg.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?Vo.a:Ti(e,{pip:"false"}):Vo.a}function na(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,n=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),a=n.shift();if(!(null===a||void 0===a?void 0:a.startsWith("WEBVTT")))throw new Error('Must start with "WEBVTT"');const o=a.split("\n"),s=o[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===n.length&&1===o.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&o.length>1&&""!==o[1])throw new Error("Missing blank line after signature");const{cues:d,errors:l}=function(e,t){const i=[];return{cues:Object(Od.a)(Object(Ho.a)(e,(e,r)=>{try{return function(e,t,i){let r="",n=0,a=.01,o="",s="";const d=Object(Od.a)(e.split("\n"),Boolean);if(d.length>0&&d[0].trim().startsWith("NOTE"))return;if(1===d.length&&!sa(d[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(d.length>1&&!sa(d[0])&&!sa(d[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}d.length>1&&sa(d[1])&&(r=d.shift());if("string"!==typeof d[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const l=d[0].split(" --\x3e ");if(2!==l.length||!aa(l[0])||!aa(l[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(n=oa(l[0]),a=oa(l[1]),i){if(n>a)throw new Error("Start timestamp greater than end (cue #"+t+")");if(a<=n)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&a<n)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=l[1].replace(cg,"").trim(),d.shift(),!(o=d.join("\n")))return;return{identifier:r,start:n,end:a,text:o,styles:s}}(e,r,t)}catch(n){return void i.push(n)}}),Boolean),errors:i}}(n,r);if(r&&l.length>0)throw l[0];const c=i?function(e){const t={};return Object(Uo.a)(e.slice(1),e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),n=e.slice(i+1).trim();t[r]=n}),Object(ud.a)(t).length>0?t:void 0}(o):void 0,u={valid:0===l.length,strict:r,cues:d,errors:l};return i&&(u.meta=c),u}function aa(e){return cg.test(e)}function oa(e){const t=e.match(cg);if(null===t)throw new Error("Timestamp parse error");const i=parseFloat(t[1]||"0"),r=parseFloat(t[2]),n=parseFloat(t[3]);return i*Tu+r*Su+n}function sa(e){return-1!==e.indexOf("--\x3e")}function da(e,t,i){function r(){0!==o&&(clearTimeout(o),o=0)}let{threshold:n=hg,delay:a=pg}=void 0===i?{}:i,o=0,s=0,d=0;const l=Pi(e,"click",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),c=Pi(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,r(),o=window.setTimeout(r,a))}),{passive:!0}),u=Pi(e,"touchend",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),h=Pi(e,"touchmove",(function(e){if(0===o||!Object(zo.a)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];if(a=t,l=i,Math.abs(s-a)>n||Math.abs(d-l)>n)r();else var a,l}),{passive:!0});return()=>{l(),c(),u(),h()}}function la(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Ag.filter(e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const r=function(e,t){return void 0===e&&(e=window),void 0===t&&(t=e.HTMLVideoElement&&e.HTMLVideoElement.prototype||{}),Ag.filter(e=>{let{enabled:i}=e;return i in t})}(e,t);return r.length>0?r[0]:void 0}function ca(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ha(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Aa(e){var t,i;const r=!0===e.HAS_TITLE,n=!0===e.HAS_BODY,a=e.BUTTON_POSITION,{data_params:o}=null!==(t=e.AUCTION_DC_PARAMS)&&void 0!==t?t:{},s=o&&xp(o),{title:d,body:l}=null!==(i=null===s||void 0===s?void 0:s.text)&&void 0!==i?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:r,title:n,buttonPosition:a}=e;return!(t&&i&&r&&n)?Object(jd.a)(Bg,a)?a:"left-bottom":Object(jd.a)(Lg,a)?a:"right-bottom"}({titleEnabled:r,bodyEnabled:n,buttonPosition:a,title:d,body:l}),u=c.split("-")[0];return{position:c,side:u,oppositeSide:"left"===u?"right":"left"}}function ma(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:r=""}=e,n=Object(Ho.a)((a=t,[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),e=>Li(e)?e:0).join(", ");var a;return{backgroundColor:"rgb("+n+")",boxShadow:"0 6px 8px rgba("+n+", 0.53)",color:i,borderColor:r}}function fa(e,t,i){if(!e)return Ug;const r=Fg(e.controlsVisibility),n=Boolean(t.abuseUrl);return{isCloseAvailable:r&&n,isCloseDialogActive:"selection"===i}}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ba(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oa(e){let{width:t}=e;return t<ny?"small":"middle"}function Sa(e){let{abuseScreenWidth:t,hasDescription:i}=e;return i&&t>=400?"middle":t>=500?"middle":"small"}function Ta(e){let{isShortDescription:t,abuseScreenWidth:i}=e;return t?19:i<400?27:33}function Ea(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unavailable"}function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ca(){const e=of(),t=r_(),i=o_();return gn(()=>yr({slotSize:e,videoContentSize:t,videoSlotSize:i}),[e,t])}function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ia(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Da(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Na(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Ra(e,t,i){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}return i}function ka(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Va(e){if(!Object(zo.a)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return y({stickTo:ja(t,fO),stickyColorScheme:ja(i,mO)})}function ja(e,t){if("string"!==typeof e)return;if(!Object(zo.a)(t))return;const i=e.toLowerCase();return se(t).indexOf(i)>-1?i:void 0}function Ma(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?B(i):void 0}function La(e,t){return"true"===Ma(e,t)}function Ba(){return(Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fa(e,t,i){const r=[],n=i.querySelector("AdSource");if(!n)throw new Lo.a({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=hO;if(n.hasAttribute("id")){if(!Li(a=Number(n.getAttribute("id"))))throw new Lo.a({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else r.push(new Lo.a({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const o=i.querySelector("Extensions");if(!o)throw new Lo.a({code:"NO_AD_BREAK_EXTENSIONS",details:t});const s=n.querySelector("AdTagURI"),d=B(s);if(!s||!d)throw new Lo.a({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const l={adTagURI:d,adFoxParameters:void 0},c=i.getAttribute("breakType"),u=L(i,"breakId"),h=L(i,"timeOffset","start"),p=()=>new Lo.a({code:"VMAP_INCORRECT_TIME_OFFSET",details:xa({},t,{timeOffset:h,breakIdAttribute:u})});if(-1===dO.indexOf(u))throw new Lo.a({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:xa({},t,{breakIdAttribute:u})});const A=c===uO,m=function(e,t){switch(e){case lO:return[new Lo.a({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case cO:case uO:return[];default:throw new Lo.a({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(c,t);if(r.push(...m),A!==pi({adType:u})){if("inroll-overlay"!==u)throw new Lo.a({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});r.push(new Lo.a({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:u,adBreakTypeAttribute:c}}))}let f;if("inpage"===u)f=function(e){const t=Ma("Stick",e),i=Va({stickTo:Ma("StickTo",e),stickyColorScheme:Ma("ColorScheme",e)});return Ba({stick:"true"===t,adType:"inpage",replayMode:vO(e)},i)}(o);else if("inroll"===u)f={adType:"inroll"};else if("inroll-overlay"===u)f={adType:"inroll-overlay"};else if("start"===h){if(sO[h]!==u)throw p();f={adType:"preroll"}}else if("end"===h){if(sO[h]!==u)throw p();f={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(h))throw p();{if(["midroll","overlay"].indexOf(u)<0)throw p();const e=function(e,t){return Number(Ma(e,t))}("MaxRepeatCount",o),t=J(L(i,"repeatAfter")),r={timeOffset:J(h),repeatAfter:isNaN(t)?AO:t,maxRepeatCount:isNaN(e)?pO:e,repeatNumber:0};f=xa("midroll"===u?{adType:"midroll",broadcastReplace:La("BroadcastReplace",o)}:{adType:"overlay"},r)}}return{adBreak:xa({impId:a},f,e,l),errors:r,events:[]}}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ha(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const{xml:n,responseText:a}=t,o={responseText:a};if(null===n||void 0===n)throw i?new Lo.a({code:"VMAP_EMPTY_RESPONSE",details:Ua({},i,{vmapXmlObject:t})}):new Lo.a({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=n.querySelector("VMAP");if(!s)throw new Lo.a({code:"NO_VMAP_ROOT_NODE",details:o});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new Lo.a({code:"NO_VMAP_AD_BREAKS",details:o});const l=new DO,c=n.querySelector("VMAP > Extensions");if(!c)throw new Lo.a({code:"NO_VMAP_EXTENSIONS",details:o});const u=s.querySelectorAll("TrackingEvents");Object(Vo.a)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?B(t):""},p=e=>parseInt(h(e),10);l.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperTimeout:p("WrapperTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],f=[];for(let g=0;g<d.length;g++)try{const{adBreak:e,errors:t,events:i}=Fa(Ua({},A,r),o,d[g]);l.adBreaks.push(e),m.push(...t),f.push(...i)}catch(v){m.push(v)}return{vmap:l,errors:m,events:f}}function za(e){if(!Object(zo.a)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const n=(r=e.adFoxParameters,Object(zo.a)(r)?Ae(r)?void 0===r.containerId||Object($d.a)(r.containerId)?Object($s.a)(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT");n?i.push(new Lo.a({code:n,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var r;return{config:t,errors:i}}function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ga(e){if(!Object(zo.a)(e))return{};const{partnerId:t,category:i,vmapId:n,vmapScenarioId:a,impId:o,videoContentId:s,startWatchedTime:d,additionalParams:l,vmap:c}=e;if(void 0!==o&&!Li(o))throw new Lo.a({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==n&&!Li(n))throw new Lo.a({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==c&&!Object($d.a)(c))throw new Lo.a({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==a&&!Li(a))throw new Lo.a({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return Wa({},function(e){const t=Object(zo.a)(e)?e:{};return y({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:c,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:o,vmapId:n,vmapScenarioId:a,videoContentId:"string"===typeof s?s:void 0,startWatchedTime:r(d)?d:void 0,additionalParams:ot(l)})}function Ya(){return(Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function qa(e){if(!Object(zo.a)(e))return{config:{},errors:[]};const{config:t,errors:i}=za(e);return{config:Ya({},t,Ga(e),function(e){if(Object(zo.a)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?Object(Ho.a)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?Object(Ho.a)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Object(Ho.a)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&Object($d.a)(e.vast)?String(e.vast):void 0,desiredBitrate:G(e.desiredBitrate),secureMode:bO(e),preferableAdSize:gO(e),loadHarmlessVastCallback:Object(Zo.a)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function Xa(){return(Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ka(e){const t=Object(zo.a)(e)?e:{};return y(Xa({},Va(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ja(e){let t={};try{const i=e.getItem(EO);null!==i&&(t=JSON.parse(i))}catch(r){}const i={};return Object(Rl.a)(t,(e,t)=>{n(e)&&(i[t]=e)}),i}function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function $a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function io(e){return Object($d.a)(e)?e:VO}function ro(){return(ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ao(){return(ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function so(e){return!!Object($s.a)(e)&&UO.indexOf(e)>-1}function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function co(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function uo(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function ho(e){var t;if(!e)return!1;const i=null!==(t=(e.ownerDocument||document).defaultView)&&void 0!==t?t:window;return Boolean(i.Element)&&e instanceof i.Element}function po(e,t){void 0===t&&(t=qO);const i=e.ownerDocument,{body:r}=i,n=i.documentElement,a=i.defaultView,o=Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);if(e===n||e===r){return o-((a.pageYOffset||n.scrollTop)-(n.clientTop||0)+a.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function Ao(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let r=i;for(;Boolean(r);){if(ho(r)&&!po(r))return!1;r=r.parentNode||r.host}return!0}function mo(e,t,i){const r={promise:Promise.resolve(void 0),unsubscribe:()=>void 0};if(Object(xo.a)("whenCanShow: start logic with threshold=["+i+"]"),function(e,t){const i=e.ownerDocument;return!!Object(IA.a)(i)&&Er(e)>=t}(t,i))return Object(xo.a)("whenCanShow: element is already visible"),r;if(Ao(t)&&uo(t))return Object(xo.a)("whenCanShow: element is at the end of the <body>"),r;const n=[],a=()=>{Object(xo.a)("whenCanShow: stop logic"),Object(Ad.a)(Object(Ho.a)(n,e=>()=>Object(xs.a)(e)))};let o=Vo.a;if(qs&&(s=window).top===s.self){Object(xo.a)("whenCanShow: use intersection observer");const r=e,a=t.getBoundingClientRect().height*i,{promise:s,teardown:d}=YO(r,"-"+a+"px",0);n.push(()=>d()),s.then(()=>{Object(xo.a)("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+a+"]"),o()}).catch(sd.a)}var s;return n.push(ri(()=>{const e=Object(IA.a)(document),r=Er(t),n=e&&r>=i,s=Ao(t)&&uo(t);n||s?(Object(xo.a)("whenCanShow: visibility detected by interval isVisible=["+n+"] isAtTheEndOfTheBody=["+s+"]"),o(),a()):Object(xo.a)("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+e+"}] elementVisibilityRatio=["+r+"] threshold=["+i+"]")})),{promise:new Promise(e=>{o=e}),unsubscribe:a}}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vo(e,t){e[eS]=t}function go(e){return e[eS]}function yo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function To(){return(To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Eo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function wo(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:r}=e;const a=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:r,height:a}=i;if(!n(r)||!n(a))return;const o=a/r;return Math.floor(t*o)}({placeholderWidth:i,adContentSize:r});void 0!==a?r&&(Object(xo.a)("inPage: adjust ad height to adContentSize=["+JSON.stringify(r)+"] nextHeight=["+a+"]"),v(t,{height:a+"px"})):Object(xo.a)("inPage: skip adjust placeholder to unknown ad size")}function Co(e,t){if(ES)return!1;const{left:i,right:r,top:n,bottom:a}=Ld(e),o=r-i,s=a-n,d=e.ownerDocument||document;return!Hs(t,t=>{let[r,a]=t;const l=i+(o-1)*(1+r)/2,c=n+(s-1)*(1+a)/2,u=d.elementFromPoint(l,c);if(!u||e===u||e.contains(u))return!0;if(Object(Zo.a)(e.getRootNode)){if(function e(t,i){const r=t.getRootNode();if(!r||!r.host)return!1;if(i.contains(r.host))return!0;return e(r.host,i)}(u,e))return!0;if(function e(t,i){const r=i.getRootNode();if(!r||!r.host)return!1;if(t===r.host)return!0;return e(t,r.host)}(u,e))return!0}return!1})}function Po(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Io(){return(Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Do(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function No(e){return e.createElement("video")}function Ro(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.r(t);var Vo=i(4),jo=i(23),Mo=i(5),Lo=i(0),Bo=i(1),xo=i(3),Fo=i(108),Uo=i(7),Ho=i(6),zo=i(2);const Wo=-1,Go={droppedVideoFrames:Wo,corruptedVideoFrames:Wo,totalVideoFrames:Wo},Yo=a({},Go,{droppedVideoFramesRatio:Wo}),qo=0,Xo={width:0,height:0},Ko={visibility:0,size:Xo,relativeSizeRatio:0,screenSize:Xo,devicePixelRatio:0,downlink:0,videoSlotSize:Xo,videoContentSize:void 0,videoAvatarSize:Xo,videoPixelRatio:Wo,videoToDevicePixelRatio:Wo,videoFramesInfo:Yo,videoSrc:"",videoMuted:!0,videoVolume:qo,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:Wo,remainingBufferedTime:0};var Qo=i(59),Jo=i(73),Zo=i(13),$o=i(19),es=i(34),ts=i(126);const is="client-ts",rs="client-timezone-offset",ns="adsdk-bundle-version",as="adsdk-bundle-name",os="adsdk-container-visibility",ss="adsdk-container-width",ds="adsdk-container-height",ls="video-avatar-width",cs="video-avatar-height",us="ad-session-id",hs="sid",ps="viewability-undetermined",As="top-ancestor",ms="top-ancestor-undetermined",fs="video-volume",vs="video-muted";var gs=i(29),ys=i(26),bs=i(10);const _s=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r};var Os=i(58),Ss=i(70);const Ts=(e,t,i)=>{if(!Object(zo.a)(e))return e;const r=e,n=t.split("."),a=n.pop();for(const o of n){const t=e[o];e=Object(zo.a)(t)?t:e[o]={}}return e[a]=i,r},Es=e=>{try{return e()}catch(t){return}},ws=(e,t,i,r)=>(function(){try{return t.apply(i||this,arguments)}catch(n){if(Object(Zo.a)(r)&&r(n),!0===n.preventProtect)throw n;ws.log(n,e)}});ws.log=function(e,t){console.log("LOG:"+t+":"+e)},ws.setTimeout=(e,t,i,r)=>window.setTimeout(ws("timeout",e,i,r),t);class Cs{}Cs.YaContextCallbacks=s("Ya.C","ontext._callbacks"),Cs.YaContextCallbacksCalls=s("Ya.C","ontext._callbacks_call"),Cs.AdvManager=s("A","dvManager"),Cs.AdvBlock=s("A","dvBlock"),Cs.RTB=s("R","TB"),Cs.Rtb=s("R","tb"),Cs.MetrikaAdtune=s("metrika_a","dtune");class Ps{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const Is=Object(bs.a)(()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(r=Es(()=>Object(Ss.a)(e,t))))return Es(()=>Object(Os.a)(e.frames))||[]}),r||(r=i()),Ts(e,t,r),r})(self,"Ya.pcodeCrossFrameData",()=>new Ps({}))),Ds=e=>_s(Is(),e,()=>new Ps({})),Ns=Object(bs.a)(()=>((e,t,i)=>{let r=Object(Ss.a)(e,t);return r||(r=i(),Ts(e,t,r)),r})(self,"Ya.pcodeWindowData",()=>new Ps({}))),Rs=e=>_s(Ns(),e,()=>new Ps({})),ks=ws("metrika::pushEvent",(e,t)=>{const i=Object(Ss.a)(e,"Ya._metrika.dataLayer")||[];Ts(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:d({},t)}}})}),Vs=ws("sessionId::configureMetrika",(e,t)=>{ks(e,{adSessionID:t})});var js=i(52);const Ms=()=>(1e6*Object(js.a)()).toFixed(0)+(new Date).valueOf().toString();let Ls;const Bs=()=>(Ls||(Ls=((e,t,i,r)=>{let n=t.getItem("sessionId");return n||(n=i.getItem("sessionId")||e(),r(window,n)),t.setItem("sessionId",n),i.setItem("sessionId",n),n})(Ms,Rs("common"),Ds("common"),Vs)),Ls);var xs=i(30);const Fs=()=>Object(xs.a)(Bs)||void 0,Us="adfox.ru",Hs=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var zs=i(37);const Ws=[...["localhost","127.0.0.1"].concat([]),...["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",zs.b,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var Gs=i(136),Ys=i(22);const qs="function"===typeof IntersectionObserver&&Object(Ys.a)(IntersectionObserver);var Xs=i(64);const Ks=qs||!Xs.a;var Qs=i(42),Js=i(124),Zs=i(41);Object(Zs.a)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var $s=i(17);let ed;const td=(void 0===(id=window)&&(id=window),ed||(ed=id.document.createElement("div")),ed);var id;const rd=(e,t)=>{const i="undefined"!==typeof td.style[e];if(i&&t&&Object($s.a)(t))try{td.style.cssText=e+": "+t+";";const i=Boolean(td.style.cssText);return td.style.cssText="",i}catch(r){return!1}return i};var nd=i(80);const ad={},od=function(e){return void 0===e&&(e=""),ad[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<nd.b.length;i++){const r=nd.b[i],n=r?""+r+t:e;if(rd(n))return ad[e]=n}return ad[e]=e}(e)};var sd=i(24),dd=i(50);const ld=e=>(e=>e instanceof Promise||"Promise"===Object(dd.a)(e)&&Boolean(g(()=>Object(Ys.a)(e.constructor))))(e)||(e=>Boolean(g(()=>Object(Zo.a)(e.then)&&Object(Zo.a)(e.catch))))(e);var cd=i(67),ud=i(11),hd=i(15),pd=i(9),Ad=i(31),md=i(44),fd=i(121);const vd="ru",gd="TranslatorError";class yd extends md.a{constructor(){super(...arguments),this.name=gd}}const bd=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],n=e=>{let{keyset:t,key:n,lang:a=vd,onError:o,throwErr:s=!0}=e;if(r(a,t,n))return i(a,t,n);if(r(vd,t,n))return i(vd,t,n);{const e=new yd("Tanker locale for lang="+a+", keyset="+t+", key="+n+" not found");return s&&Object(sd.a)(e),"function"===typeof o&&o(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r};return Object(fd.a)(n,e)}return n}(i(160)),_d=function(e,t){return void 0===t&&(t=vd),bd({keyset:"adsdk",key:e,lang:t})};var Od=i(16),Sd=i(33),Td=i(40);const Ed=function e(t){return Object(Td.a)(t,(t,i)=>t.concat(Object(Sd.a)(i)?e(i):i),[])};var wd=i(27);const Cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var Pd=i(48);const Id=Object(Pd.b)(window,"adsdkwithcredentials"),Dd=Id?(""+Id).toLowerCase():void 0,Nd="true"===Dd||"false"!==Dd&&void 0,Rd="\x3c!-- Bad partner/domain --\x3e",kd="\x3c!-- PageImp data not found --\x3e";var Vd=i(81),jd=i(21),Md=i(36);const Ld=e=>{try{const{left:t,right:i,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:n,width:i-t,height:n-r}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var Bd=i(12),xd=i(130),Fd=i(14),Ud=i(133),Hd=i(99);const zd=function(e){void 0===e&&(e=gs.a);const t=Ud.a.ES5;return""+Object(Hd.a)(e)+t+"/proxy_frame.html"},Wd={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},Gd=e=>{const t=w({},e,{RUM_WRAPPER:void 0});return encodeURI(JSON.stringify(t))},Yd={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},qd={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},Xd=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?qd:Yd;E(t,r.attributes),v(t,r.styles)},Kd=Qs.a,Qd=Object(Zs.a)({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Kd}),Jd=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),Zd=e=>{const t=e.data;return!(!Object(zo.a)(t)||"kill-me"!==t.type)};var $d=i(8);const el=5e3;class tl extends hd.a{constructor(e,t){var i,r,n;super(),this.port=e,this.commandHandlers=t,n=e=>{const t=Object(Fd.a)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Lo.a({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},(r="listenForCommandEvents")in(i=this)?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,this.listenForNewCommands(),this.addDestroyHandler(Object(Fd.a)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Lo.a({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=Object(Md.a)(6),r=Object(wd.a)(el);r.promise.then(()=>{this.destroy(new Lo.a({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(sd.a),this.addDestroyHandler(()=>r.clear());const n=this.waitForNextCommandEvent({name:e,id:i}),a=new Promise((t,a)=>{n.then(n=>{if(r.clear(),"success"===n.status)t(n.payload);else if("error"===n.status){const e=n.payload;a(Object(Vd.b)(e))}else{if("abort"===n.status)return;this.destroy(new Lo.a({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:n.status,payload:n.payload,name:e,commandId:i}}))}}).catch(a)}),o=Object(bs.a)(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:a,abort:o}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Lo.a({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(P({},e,{type:"command"}))}catch(t){0,this.destroy(new Lo.a({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new Lo.a({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),n=e.payload;try{i(r,n)}catch(a){0,this.destroy(new Lo.a({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:a}}))}})}createCommandControlDescriptor(e){const t=new Bd.a;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(Vo.a),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const n=Object(Vd.c)(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:n})},subscribeForAbort:function(){return i?Vo.a:t.add(...arguments)}}}isEventDataCommandLike(e){return!!Object(zo.a)(e)&&("command"===e.type&&(!!Object($d.a)(e.id)&&!!Object($d.a)(e.status)))}}const il=Object(ud.a)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),rl=["src","poster"],nl=Object(ud.a)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),al=["video/mp4","video/webm"],ol={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},sl=Object(ud.a)({load:0,play:0,pause:0,setAttribute:0});var dl=i(49);const ll=Object(ud.a)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),cl=e=>{return I({},Object(dl.a)(Object(Ho.a)(ll,t=>[t,e[t]])),{target:null})},ul=new WeakSet;class hl extends hd.a{static isVideoNodeLocked(e){return ul.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Object(xo.a)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Object(dl.a)(Object(Ho.a)(al,e=>[e,this.params.videoNode.canPlayType(e)]))),Object(Uo.a)(Object(ud.a)(ol),e=>{const t=ol[e];Object(Uo.a)(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Object(jd.a)(sl,e)){if("setAttribute"===e){const[e,r=""]=t;if(!Object($d.a)(e))return;return Object(jd.a)(rl,e)?i.setAttribute(e,r):void Bo.c.error({error:new Lo.a({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}Bo.c.error({error:new Lo.a({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Object(jd.a)(nl,e))return void Bo.c.error({error:new Lo.a({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,n=i[r];Ts(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler(()=>{Ts(i,e,n)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Object(Uo.a)(il,t=>{this.addDestroyHandler(Object(Fd.a)({element:e,eventName:t,listener:e=>{ol.hasOwnProperty(e.type)&&Object(Uo.a)(ol[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=cl(e);this.params.handleVideoNodeEvent(t)}),0)}}))})}}class pl extends hd.a{constructor(e){super(),this.params=e,D(this,"dispatcher",void 0),D(this,"localVideoNode",void 0),D(this,"vpaidEventBus",new Bd.a),D(this,"vpaidGetterPropertyBus",new Bd.a),D(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:n}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:n})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:n}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:n})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:n,args:a}]=t;const o=this.localVideoNode;if(o)try{Object(xo.a)("[outsideAPI] call video method=["+n+"], args=["+a+"]");const e=o.callVideoNodeMethod(n,a);return ld(e)?e.then(e=>{i(e)}).catch(r):i(e)}catch(s){this.destroy(new Lo.a({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Lo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:n}]=t;i();const a=this.localVideoNode;a?Object(jd.a)(nl,r)?(Object(xo.a)("[outsideAPI] set video property name=["+r+"], value=["+n+"]"),a.setVideoNodeProperty(r,n)):this.destroy(new Lo.a({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:n}})):this.destroy(new Lo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:n}}))}}),D(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),D(this,"handleVideoNodePropertyChange",(e,t)=>{Object(xo.a)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Object(xo.a)("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&Bo.c.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new tl(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Object(Fd.a)({element:e.port,eventName:"message",listener:e=>{if(!Zd(e))return;const{data:t}=e;this.destroy(new Lo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(Bo.c.error({error:null!==e&&void 0!==e?e:new Lo.a({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Object(xo.a)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return Object(xo.a)("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){Object(xo.a)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Object(xo.a)("[outsideApi]: done loading creative")}async initCreative(e){Object(xo.a)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Object(xo.a)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Object(xo.a)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Object(xo.a)("[outsideApi]: "+(e?"show":"hide")+" frame"),Xd({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(hl.isVideoNodeLocked(t))throw Object(xo.a)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Object(xo.a)("[outsideApi]: assign video tag"),this.localVideoNode=new hl({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Object(xo.a)("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Object(xo.a)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:r,args:n}=i;e===r&&t(r,n)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:r}=t;e(i,r)})}}const Al=async(e,t,i)=>{const r=Object(Md.a)(6);Bo.c.event({name:"VASFrameInitStart",probability:Mo.a,data:{handshakeID:r}});const n=Date.now();let a=!1;const o=new Bd.a;o.add(()=>{a=!0}),t.add(()=>{Object(xo.a)("[initOutsideApi]: init aborted"),Bo.c.event({name:"VASFrameInitAborted",probability:Mo.a,data:{handshakeID:r}}),o.dispatch(void 0)});const s=N({},xd.a,{handshakeID:r}),d=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const n=t.ownerDocument.createElement("iframe");return E(n,{name:Gd(r),sandbox:Jd,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),v(n,C({},Wd)),Xd({iframe:n,shouldBeVisibleNow:!1}),t.appendChild(n),n})({container:e,frameUrl:zd(),initialData:s});o.add(()=>{Object(xo.a)("[initOutsideApi]: remove frame"),Object(jo.a)(d)});const l=new MessageChannel;l.port1.start(),o.add(()=>{l.port1.close()});const c=new Promise((e,t)=>{Object(xo.a)("[initOutsideApi]: wait for frame to load"),d.addEventListener("load",()=>{Object(xo.a)("[initOutsideApi]: got load event. transfer port"),d.contentWindow.postMessage({type:"init",handshakeID:r},"*",[l.port2]),e()})}),u=new Promise((e,t)=>{const i=Object(Fd.a)({element:l.port1,eventName:"message",listener:t=>{const n=t.data;"handshake"===n.type&&n.initialData.handshakeID===r&&(Object(xo.a)("[initOutsideApi]: got handshake event"),i(),e())}})}),h=Promise.all([c,u]),{promise:p,clear:A}=Object(wd.a)(i);if(p.then(()=>{var e;Bo.c.error({error:new Lo.a({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=d.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:Ld(d),handshakeID:r}})}),o.dispatch(void 0)}),h.then(()=>{A()}),o.add(()=>{A()}),await Promise.race([h,p]),a)throw new Lo.a({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Bo.c.values({name:"VASFrameInitSuccess",probability:Mo.a,data:{handshakeID:r},labels:{},values:{timeSpent:Date.now()-n}}),d.removeAttribute("name"),t.removeAll();const m=new pl({port:l.port1,initialData:s,frame:d});return m.addDestroyHandler(()=>{Object(xo.a)("[initOutsideApi]: do teardown since class destroy"),Bo.c.event({name:"VASFrameDestroy",probability:Mo.a,data:{handshakeID:r}}),o.dispatch(void 0)}),m.addDestroyHandler(Object(Fd.a)({element:l.port1,eventName:"message",listener:e=>{const t=e.data;Object(zo.a)(t)&&"destroy"===t.type&&Bo.c.error({error:new Lo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Object(xo.a)("[initOutsideApi]: init done"),m},ml=e=>{Object(xo.a)("[initOutsideApi]: do init"),(e=>Qd.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:Kd,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,r=new Bd.a;return{initPromise:Al(t,r,i),abortInit:()=>r.dispatch(void 0)}},fl={idle:["initializing"],initializing:["initialized"]};class vl extends hd.a{constructor(){super(),R(this,"initPromise",void 0),R(this,"state",new pd.a({name:"idle"},(e,t)=>{const i=fl[e.name];return i&&Object(jd.a)(i,t.name)||Bo.c.error({error:new Lo.a({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Object(xo.a)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),R(this,"users",0),Object(xo.a)("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Object(xo.a)("SingleVASFrame: do init");const t=ml(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Object(xo.a)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Object(xo.a)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let gl;const yl=()=>(gl||(gl=new vl).addDestroyHandler(()=>{gl=void 0}),gl),bl=async e=>{const t=yl();return(await t.initPromise).doGETRequest(e)},_l=function(e,t){let i=e[t];if(!Object(Ys.a)(i)){const n=i;try{delete e[t],i=e[t],e[t]=n}catch(r){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,Object(zo.a)(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},Ol=e=>e instanceof Date||"Date"===Object(dd.a)(e);var Sl=i(35);const Tl=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if(Object(Sd.a)(t)){return t.map(t=>e(t,i))}return Ol(t)?new Date(t.getTime()):(!Object(Zo.a)(t)&&Object(zo.a)(t)&&(r=i.preserveConstructors?_l(t):{},Object(Sl.a)(t,(t,n)=>{r[n]=e(t,i)})),r)},El=["nobanner","noad"];let wl={ads:[],children:[],xmlString:""};const Cl=(e,t,i)=>{const n=L(e,t,i),a=parseInt(n,10);return r(a)?a:i},Pl=-1,Il=4,Dl=2147483647,Nl=-1;var Rl=i(62);const kl={adLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0},Vl=Object(ud.a)(kl),jl=b(kl,()=>!1),Ml={controlsVisibility:{}},Ll={};let Bl={sequence:0,adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};let xl={showCountDown:!0,showSoundButton:!0,showLabel:!0};const Fl=e=>({src:B(e.querySelector("StaticResource")),program:L(e,"program"),xPosition:Cl(e,"xPosition",0),yPosition:Cl(e,"yPosition",0),width:Cl(e,"width",0),height:Cl(e,"height",0)}),Ul=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])},Hl=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),a=e.querySelector("Linear"),o=e.querySelector("NonLinear"),s=e.querySelector("NonLinearClickThrough"),d=e.querySelector("TrackingEvents"),l=d?d.querySelectorAll("Tracking"):[],c=Object(Os.a)(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),A=e.querySelectorAll("Icons Icon"),m=e.querySelector("AdParameters"),v=e.querySelector("AdSystem"),g=e.querySelector("AdTitle"),y=Tl(Bl,{preserveConstructors:!1}),b=e.querySelector("InLine"),_=e.querySelector("Wrapper"),O=Boolean(b);if(O===Boolean(_)){if(O)throw new Lo.a({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Lo.a({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(y.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return Pl;const i=parseInt(t,10);return $(i)?i:(Bo.c.error({error:new Lo.a({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),Pl)}(e),O&&m){const e=B(m);y.adParameters=e;const t=F(e);if(Object(zo.a)(t)){y.adParametersObject=t;const e=function(e){if(!Object(zo.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(zo.a)(t))return;const{data_params:i}=t;if(!Object(zo.a)(i))return;const{misc:r}=i;if(!Object(zo.a)(r))return;const{click_url:n}=r;if(!Object(zo.a)(n))return;const{abuse:a}=n;return Object($d.a)(a)?a:void 0}(t);e&&(y.abuseUrl=e),y.playbackAdParameters=Q(t.playbackParameters).config;const i=function(e){if(!Object(zo.a)(e))return;const{background:t}=e;return Object(zo.a)(t)&&Object($d.a)(t.color)?t.color:void 0}(t);void 0!==i&&(y.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(Object($d.a)(t))return t}(t);r&&Ul(y,"packshotStart",r)}}if(_){const t=B(e.querySelector("VASTAdTagURI"));if(!t)throw new Lo.a({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});y.vastAdTagUri=t}if(void 0!==n)for(let f=0;f<n.length;f++){const e=U(n[f]);e&&y.mediaFiles.push(e)}if(r){const e=B(r.querySelector("ClickThrough"));e&&(y.clickThrough=e)}if(r){const e=r.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)Ul(y,"clickThrough",B(e[t]))}for(let f=0;f<l.length;f++){const e=L(l[f],"event"),t=B(l[f]);if("progress"===e){const e=L(l[f],"offset",""),r=Z(e);void 0!==r?y.progressTrackings.push({urls:[t],offset:r}):Bo.c.error({error:new Lo.a({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else Ul(y,e,t)}Object(Uo.a)(c,e=>{Ul(y,"impression",B(e))});for(let f=0;f<u.length;f++)Ul(y,"error",B(u[f]));for(let f=0;f<A.length;f++)y.icons.push(Fl(A[f]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let l=0;l<e.length;l++)Ul(y,"skip",B(e[l]));const t=h.querySelector('Extension[type="skipTime"]');if(x(t)){const e=J(B(t));Bo.c.event({name:"UsingSkipTimeExtensionInVast",probability:Mo.a,data:{skipTime:e}}),y.skipTime=J(B(t)),y.skipTime>180&&(y.skipTime=0)}const i=h.querySelector('Extension[type="controls"]');i&&(y.imhoParams=(e=>{const t=ee({},xl),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==L(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==L(r,"layout"));const n=e.querySelector('control[id="adlabel"]');return n&&(t.showLabel="0"!==L(n,"layout")),t})(i));const r=h.querySelector('Extension[type="isClickable"]');x(r)&&(y.isClickable="0"!==B(r)),h.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(y.isNotReplacedBroadcastAd=!0);const n=h.querySelector('Extension[type="backgroundBlur"]');x(n)&&(y.backgroundBlur="1"===B(n));const a=h.querySelector('Extension[type="OutstreamEndScreen"]');a&&(y.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const r=L(e[i],"src");Object($d.a)(r)&&t.randomBackgrounds.push(r)}}return t})(a));const o=h.querySelector('Extension[type="CustomTracking"]'),s=o?o.querySelectorAll("Tracking"):[];for(let l=0;l<s.length;l++){const e=L(s[l],"event");Ul(y,e,B(s[l]))}const d=h.querySelector('Extension[type="isIndependentOnVideoElement"]');x(d)&&(y.isIndependentOnVideoElement="1"===B(d))}if(x(p)&&(y.description=B(p)),x(v)&&(y.adSystem=B(v)),x(g)&&(y.adTitle=B(g)),a){const e=L(a,"skipoffset","").trim();if(""!==e){const t=J(e);isNaN(t)?f(new Lo.a({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),y.trackingEvents.error):y.skipOffset=t}const t=a.querySelector("Duration");t&&(y.duration=J(B(t)))}if(o){if(y.isNonLinear=!0,s){const e=B(s);e&&(y.clickThrough=e)}y.mediaFiles=Object(Od.a)([H(o)],Boolean)}return y},zl=async(e,t)=>{const i=j(e),r="YANDEX"===t.vastSourceType;if(!i)throw new Lo.a({code:r?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:e}});const a=i.querySelector("VAST");if(!a){const t=r?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",n=r?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new Lo.a({code:El.indexOf(M(i))>-1?t:n,details:{xmlString:e}})}const o=a.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!Object($s.a)(e))return!1;const t=Number(e.split(".")[0]);return!!n(t)&&t<=Il}(o))throw new Lo.a({code:r?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:e,version:o}});const s=Array.prototype.slice.call(i.querySelectorAll("VAST Ad"));if(0===s.length)return Tl(wl,{preserveConstructors:!1});const d=[],l=Object(Ho.a)(s,e=>{const i=Hl(e,{isYandexVastUrl:r}),{vastAdTagUri:n}=i;if(!n)return[i];if(t.wrapperMaxCount<=1)return Bo.c.error({error:new Lo.a({code:r?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a,wrapperTimeout:o}=t,s=Object(wd.a)(o),l=s.promise.then(()=>(Bo.c.error({error:new Lo.a({code:r?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:o,vastAdTagUri:n,parsingParameters:t}})}),[])),c=Kl({url:h({url:n,options:a}),loadParameters:te({},t,{wrapperMaxCount:t.wrapperMaxCount-1})}).then(e=>(s.clear(),d.push(e),Object(Ho.a)(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),Object(Uo.a)(Object(ud.a)(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===Pl&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,i),e)))).catch(e=>(Bo.c.error({error:new Lo.a({code:r?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:e,vastAdTagUri:n,parsingParameters:t}})}),[]));return Promise.race([l,c])}),c=k(await Promise.all(l)),[u,p]=V(c,e=>e.isNonLinear),A=p.length>0;return A&&u.length>0&&Bo.c.error({error:new Lo.a({code:r?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:A?p:u,xmlString:e,children:d}},Wl=async(e,t)=>{let i;try{await new Promise((r,n)=>{t&&t.then(r,n),i=window.setTimeout(r,e)})}finally{window.clearTimeout(i)}};var Gl=i(32);const Yl=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise((e,n)=>{const a=new XMLHttpRequest;a.open("GET",t),a.withCredentials=r,a.onerror=()=>n({reason:"error",error:new Error("XHR Error["+a.status+"]["+a.statusText+"]["+t+"]")}),a.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:a,resolve:e});try{a.send(i)}catch(o){o.message="XHR Send Error["+o.message+"]["+t+"]",n({reason:"error",error:o})}})},ql=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:a}=e;const o=t;if("string"===typeof o.reason&&Object(zo.a)(o.error)){const{error:e,reason:t}=o;if("error"===t)return new Lo.a(e,{code:i,details:r});if("timeout"===t)return new Lo.a(e,{code:n,details:a})}return new Lo.a(t,{code:i,details:r})},Xl=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:r}=i,n=u(t),a="VASFrame"===i.requestMethod?bl:Yl,o="boolean"!==typeof Nd||Nd;try{const{responseText:e,responseStatus:s}=await re({url:t,data:null,timeout:r,doRequest:a,withCredentials:o}),d=function(e,t,i){if(200!==t)switch(e){case Rd:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case kd:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,s,n);if(d)throw new Lo.a({code:d,details:{url:t,responseText:e,responseStatus:s}});return zl(e,i)}catch(s){const e="AD_FOX"===i.vastSourceType;let a;a=T(s)?s.code:e?"ADFOX_VAST_LOAD_ERROR":n?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const o=ql({thrownError:s,errorCode:a,errorDetails:void 0,timeoutCode:n?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(o)}},Kl=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new Lo.a({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:r}=i;Bo.c.event({name:"VastLoadStart",probability:Mo.a,data:{url:t,loadParameters:i,timeout:r}});const n=Date.now(),a=await Xl({url:t,loadParameters:i});return Bo.c.values({name:"VastLoadSuccess",probability:Mo.a,data:{url:t,timeout:i.vastTimeout,vast:a},labels:{},values:{timeSpent:Date.now()-n}}),a},Ql={bids:[],creatives:{},creativeUrls:{}};var Jl=i(94);const Zl=100,$l=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class ec extends hd.a{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,ce(this,"requestPromise",void 0),ce(this,"onFetchBidsStart",new Bd.a),ce(this,"postMessageRequestId",es.a+"_"+Object(Md.a)(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){Bo.c.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;Bo.c.event({name:"HBFetchBidsStart",data:le({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=Object(wd.a)(t);throw this.addDestroyHandler(i),await r,new Lo.a({code:"HB_FETCH_BIDS_TIMEOUT",details:le({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{Bo.c.errorToStats(e),this.destroy(Ql)})}subscribeHBMessages(){this.addDestroyHandler(Object(Fd.a)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!Object(zo.a)(t)||!Object(zo.a)(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Bo.c.error({error:new Lo.a({code:"HB_MESSAGE_UNKNOWN_METHOD",details:le({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!Object(zo.a)(e))return void Bo.c.error({error:new Lo.a({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;n(t)?this.onFetchBidsStart.dispatch({timeout:t}):Bo.c.error({error:new Lo.a({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:le({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new Lo.a({code:"HB_NON_ARRAY_BIDS_DATA",details:de({},t,{fetchedBids:e})});e.length>1&&i.push(new Lo.a({code:"HB_EXTRA_BIDS_DATA",details:de({},t,{fetchedBids:e})}));const[r]=e;if(!Object(zo.a)(r))throw new Lo.a({code:"HB_NON_OBJECT_BIDS_DATA",details:de({},t,{fetchedBids:e})});const{bids:n,creatives:a,creativeUrls:o}=r;if(!Array.isArray(n)||!$l(n,zo.a))throw new Lo.a({code:"HB_INVALID_BIDS_OBJECTS",details:de({},t,{fetchedBids:e})});if(!Object(zo.a)(a)||!$l(se(a),$s.a))throw new Lo.a({code:"HB_BIDS_INVALID_CREATIVES",details:de({},t,{fetchedBids:e})});if(!Object(zo.a)(o)||!$l(se(o),$s.a))throw new Lo.a({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:de({},t,{fetchedBids:e})});return{bids:n,creatives:a,creativeUrls:o,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:r};ae(n),Bo.c.event({name:"HBFetchBidsComplete",data:le({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(t){Bo.c.errorToStats(t)}}sendBidsRequest(){const e=Object(Jl.a)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const n of e)oe(le({win:n},t));const{promise:i,clear:r}=Object(wd.a)(Zl);return this.addDestroyHandler(r),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise(r=>{t=Object(Fd.a)({element:e,eventName:"message",listener:e=>{let{data:n}=e;n===i&&(t(),r())}}),e.postMessage(i,"*")});return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new Lo.a({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const n=ne(t=>{r(),e(t)},e=>{Bo.c.error({error:new Lo.a({code:"HB_START_MULTIPLE_TIMES",details:le({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(n))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const tc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},ic=Object(ud.a)(tc),rc=Object(Pd.b)(window,"adsdksecuremode"),nc=rc&&Object(jd.a)(ic,rc)?rc:void 0,ac=e=>{let{secureMode:t,url:i}=e;const r=null!==nc&&void 0!==nc?nc:t;return"ForceSafe"===r||"Safe"===r&&(!i||!u(i))};var oc=i(39);const sc=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],dc=(fe(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var lc=i(69);const cc=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var uc,hc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(uc||(uc={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(hc||(hc={}));const pc=e=>Math.max(0,Math.round(e));class Ac{constructor(){this.config=ye()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let mc=0;const fc=()=>mc,vc=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},gc=e=>{return e.getFullYear()+"-"+vc(e.getMonth()+1,2)+"-"+vc(e.getDate(),2)+"T"+vc(e.getHours(),2)+":"+vc(e.getMinutes(),2)+":"+vc(e.getSeconds(),2)+"."+vc(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+vc(Math.floor(Math.abs(t)/60),2)+":"+vc(Math.abs(t)%60,2)})(e)},yc=()=>(function(e,t){let i=e+Object(js.a)()*(t+1-e);return i=Math.floor(i)})(1,4294967295),bc=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(a){}const r=/(%[0-9A-Z]{2})+/g;let n;for(let o=0;o<i.length;o++){const e=i[o].split("="),s=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(s.replace(r,decodeURIComponent),t===i){n=decodeURIComponent(s);break}}catch(a){return}}return n};let _c=0;const Oc=e=>{let{win:t,date:i=new Date,pr1:r,pr:n,testtag:a,isTurbo:o=me(t),addsSsSkipToken:s=!1,layoutConfig:d=new Ac,cookies:l,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;d.set("req_no",(()=>_c++)()),d.set("ad_no",be());const f=Te({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:n=yc(),location:a,extid_loader:o,extid_tag_loader:s}=e;const d=fe(t)&&t.context&&t.context.sourceUrl||void 0,l=d||t.document.referrer;return{dl:d||a||_e(t),date:gc(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:n,pr:i,prr:l,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===o?Oe(t):o,extid_tag_loader:void 0===s?Se(t):s}})({win:t,date:i,pr1:r,pr:n,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:a?a.toString():"","is-turbo":Number(o),"skip-token":ve(),"ad-session-id":h||Bs(),"layout-config":d.toString(),"enable-flat-highlight":1},l);return s&&(f["ss-skip-token-length"]=20,f["allow-repeat-ads"]=0),f},Sc=2048,Tc=[/avito/],Ec=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],wc="an.yandex.ru/adfox",Cc="an.yandex.ru/adfox";class Pc extends hd.a{constructor(e){super(),this.params=e,ke(this,"loadVastPromise",void 0),ke(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Object(wd.a)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw Bo.c.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:r}=this.params;let{adFoxParameters:n}=t;const{bids:a,containerId:o}=n;if(!a&&o){const e=new ec(Re({},n,{containerId:o}),i,window);this.addDestroyHandler(()=>{e.destroy(Ql)});const r=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new Lo.a({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})})]);n=Re({},n,r)}const s=await Promise.race([Ne({adFoxParameters:n,adPlacementOptions:r,secureMode:t.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new Lo.a({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:n}})})]),{vastBase64:d}=s;if(d){const e=await this.processBase64Vast(d).catch(e=>{throw new Lo.a({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:d,error:e}})});return Bo.c.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const l=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=Object(Od.a)(null!==(e=n.bids)&&void 0!==e?e:[],e=>""+(e.campaign_id||"")===s.campaignId);return Object(Uo.a)(c,e=>{let{win_notice:t}=e;t&&Object(Uo.a)(l.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),Bo.c.event({name:"AdFoxVastLoaded",data:{adConfig:t,adBreak:i,vast:l}}),this.destroy(),l}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r,adBreak:n}=this.params,{creatives:a={},creativeUrls:o={}}=e,s=a[i],d=o[i];if(!s&&!d)throw new Lo.a({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adBreak:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch(e=>{throw new Lo.a({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastBase64:s,error:e}})}):Kl({url:d,loadParameters:mi({adConfig:r,adBreak:n,isAdFox:!0,adPlacementOptions:Ko})}).catch(e=>{throw new Lo.a({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastUrl:d,error:e}})})}processBase64Vast(e){let t;try{t=S(e)}catch(i){throw new Lo.a({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return zl(t,mi({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:Ko}))}}const Ic="https://"+zs.b+"/awaps-ad-sdk-js/1_0/",Dc="https://"+zs.a+"/system/video-ads-sdk/",Nc={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer",OldVpaidCreative:"vpaid-creative",OldPythiaSurvey:"vpaid-pythia-survey-embed"},Rc=""+Ic+(Nc.VpaidPlayerLoader+".js"),kc=Object(Pd.b)(window,"adsdknovastconvertation"),Vc="https://"+zs.b+"/awaps-ad-sdk-js/1_0/ad_creative.js",jc="https://"+zs.b+"/awaps-ad-sdk-js/1_0/overlay_creative.js",Mc={OverlayTGO:jc,MotionTGO:Vc,InteractiveElementsAdCreative:Vc,ThemeEmpty:Vc},Lc={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript"},Bc=Le({},Xo,{bitrate:0});const xc=b(i(132).a,e=>"https://"+zs.b+"/awaps-ad-sdk-js/1_0/"+e+".js"),Fc=function(e){const t={};return Object(Sl.a)(e,(e,i)=>{t[e]=i}),t}(xc),Uc=Be({},Bc,{url:xc.InteractiveElementsAdCreative,type:Lc.Motion}),Hc={OverlayTGO:"overlay",MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty"},zc="https://yastatic.net/awaps-ad-sdk-js/1_0/vpaid-motion.js",Wc=Object(Hd.a)()+"vpaid-motion.js",Gc=[zc,"https://yastatic.net/pcode/media/vpaid-motion.js","https://an.yandex.ru/system/video-ads-sdk/vpaid-motion.js",Wc],Yc="https://yastatic.net/pcode/media/vpaid-creative.js",qc="https://yastatic.net/awaps-ad-sdk-js/1_0/vpaid-creative.js",Xc=[Yc,qc],Kc=["application/javascript","application/x-javascript"],Qc=Fe({},Bc,{type:"application/x-javascript"}),Jc=Ue({url:Vc},Qc),Zc=He({},Bc,{url:xc.MotionTGO,type:Lc.Motion}),$c=ze({},Bc,{url:xc.ThemeEmpty,type:Lc.VpaidCreative}),eu=15;const tu=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&Hs(t,e=>Object(jd.a)(Xc,e.url))},iu="video-banner_theme_empty";var ru=i(68);var nu=i(111),au=i(66),ou=(i(162),i(55)),su=i(45),du=i(98);const lu="AdSDKLoader"===ys.c,cu=Object(ud.a)({AdSDKLoader:0,VpaidPlayerLoader:0,OldVpaidCreative:0,OldPythiaSurvey:0}),uu=Object(jd.a)(cu,ys.c),hu="VpaidPlayerLoader"===ys.c,pu=Dc+"adsdk.js",Au="1.0-"+gs.a;var mu=i(131),fu=i(46),vu=i(53),gu=i(134),yu=i(54);const bu=()=>{if(!uu)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!Object($s.a)(t))return;const r=ys.c,n=""+("AdSDKLoader"===r?Dc:Ic)+Nc[r]+".js",a=Object($o.f)(et({},Object($o.e)(t),{search:"",hash:""}));(Object($d.a)(i)?"anonymous"===i.toLowerCase():""===i)&&(Bo.c.event({name:"CrossOriginAnonymousLoaderScript",probability:Mo.a,data:{src:t,crossOrigin:String(i)}}),Object(yu.a)('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),a!==n&&(Object(Zo.a)(Object(oc.a)(window))?Bo.c.event({name:"AbdLoaderScripsSrc",probability:Mo.a,data:{src:t}}):0===a.indexOf(gu.a)?Bo.c.event({name:"HardcodedLoaderScriptSrc",probability:Mo.a,data:{src:t}}):"AdSDKLoader"===r?(Object(yu.a)("You are using unsupported Video Ads SDK script src ["+a+"] please, use new link ["+pu+"]"),Bo.c.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:Mo.a,data:{src:t,crossOrigin:String(i)}})):Bo.c.event({name:"UnexpectedLoaderScripsSrc",probability:Mo.a,data:{src:t,expectedSrc:n,crossOrigin:String(i)}}))};var _u=i(123);const Ou=1e3,Su=60,Tu=60*Su,Eu=30*(24*Tu*Ou),wu=()=>{Date.now()-ys.a<Eu||Wl(2e3).then(()=>it({url:Ic+"build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==gs.a&&Bo.c.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+gs.a+") is out of date. Actual version is "+i+"."})}).catch(e=>{Bo.c.error({error:new Lo.a(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})};var Cu=i(38);const Pu={PREROLL:"preroll",MIDROLL:"midroll",PAUSEROLL:"pauseroll",OVERLAY:"overlay",POSTROLL:"postroll"},Iu={VAST_URL:"vastUrl",VAST:"vast",AD_FOX_URL:"adFoxUrl",AD_FOX_URL_VAST:"adFoxUrlVast",PARTNER_ID:"partnerId",CATEGORY:"category",TAGS_LIST:"tagsList",CHARSET:"charset",VIDEO_CONTENT_ID:"videoContentId",VIDEO_CONTENT_NAME:"videoContentName",VIDEO_PUBLISHER_ID:"videoPublisherId",VIDEO_PUBLISHER_NAME:"videoPublisherName",VIDEO_GENRE_ID:"videoGenreId",VIDEO_GENRE_NAME:"videoGenreName",EXT_PARAM:"extParam",PLAYER_INFO:"playerInfo",DURATION:"duration"},Du=window;nt({videoAd:{debugParameters:{},get AdConfigParams(){return Du.ya&&!Du.ya.isDeploying&&Bo.c.warning({name:"UsingDeprecatedGlobalVideoAdAdConfigParamsProperty",message:"You are using deprecated ya.videoAd.AdConfigParams property",probability:Mo.a}),Iu},encodeUrl:nu.a,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{Object(Cu.b)({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:Cu.a})})},skipTokens:[],modules:{},play:e=>new Promise((t,i)=>{Object(Cu.b)({moduleName:"AdLoader",version:void 0,onSuccess:r=>{let{play:n}=r;n(e).then(t).catch(i)},onError:i,win:window,timeout:Cu.a})}),getBundleVersion:()=>String(gs.a),getModuleVersion:()=>String(gs.b)},mediaAd:{get DOMAIN(){return Du.ya&&!Du.ya.isDeploying&&Bo.c.warning({name:"UsingDeprecatedGlobalMediaAdDomainProperty",message:"You are using deprecated ya.mediaAd.DOMAIN property",probability:Mo.a}),zs.b},get SDK_VERSION(){return Du.ya&&!Du.ya.isDeploying&&Bo.c.warning({name:"UsingDeprecatedGlobalMediaAdSdkVersionProperty",message:"You are using deprecated ya.mediaAd.SDK_VERSION property, use videoAd.getBundleVersion() instead",probability:Mo.a}),Au},get AdType(){return Du.ya&&!Du.ya.isDeploying&&Bo.c.warning({name:"UsingDeprecatedGlobalMediaAdAdTypeProperty",message:"You are using deprecated ya.mediaAd.AdType property",probability:Mo.a}),Pu},get TrackingEventType(){return Du.ya&&!Du.ya.isDeploying&&Bo.c.warning({name:"UsingDeprecatedGlobalMediaAdTrackingEventTypeProperty",message:"You are using deprecated ya.mediaAd.TrackingEventType property",probability:Mo.a}),{ERROR:"error",IMPRESSION:"impression",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CLOSE:"close",SKIP:"skip",CLICK_THROUGH:"clickThrough",PROGRESS:"progress",REWIND:"rewind",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION:"acceptInvitation"}},get AdConfigParams(){return Du.ya&&!Du.ya.isDeploying&&Bo.c.warning({name:"UsingDeprecatedGlobalMediaAdAdConfigParamsTypeProperty",message:"You are using deprecated ya.mediaAd.AdConfigParams property",probability:Mo.a}),Iu},bannerAd:{initVideo:(e,t,i)=>{Bo.c.event({name:"UsingDeprecatedGlobalMethodInitVideo",probability:Mo.a,data:void 0}),Object(Cu.b)({moduleName:"BannerAd",version:void 0,onSuccess:r=>{r.initVideo(e,t,i)},onError:i,win:window,timeout:Cu.a})}},inPage:{addInPageVideo:(e,t,i)=>{Bo.c.event({name:"UsingDeprecatedGlobalMethodAddInPageVideo",probability:Mo.a,data:void 0}),Object(Cu.b)({moduleName:"InPage",version:void 0,onSuccess:r=>{r.addInPageVideo(e,t,i)},onError:i,win:window,timeout:Cu.a})}}},video:{addVideoPlayer:(e,t,i,r)=>{Bo.c.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://yandex.ru/support/video-hosting/index.html."}),Object(Cu.b)({moduleName:"VideoPlayer",version:void 0,onSuccess:n=>{n.addVideoPlayer(e,t,i,r)},onError:Vo.a,win:window,timeout:Cu.a})}}},"ya");const Nu=ya;if(Object(zo.a)(fu.b)?Bo.c.event({name:"UsingGlobalStatsRootField",probability:Mo.c,data:{statsRootParams:fu.b}}):Object(au.a)(fu.a)&&Bo.c.error({error:new Lo.a({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:fu.a}})}),(lu||hu)&&su.b){su.b instanceof ReferenceError?Bo.c.event({name:"VasUAASConfigIsEmpty",data:{}}):Bo.c.error({error:new Lo.a(su.b,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:su.b}})})}if(uu){const e=Object(dl.a)(Object(Ho.a)(Object(ud.a)(ou.a),e=>["flag_"+e,1])),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;Object($d.a)(e)&&(t.crossorigin=e.toLowerCase())}Bo.c.values({name:"CreateLoader",data:rt({statsRootParams:fu.b},t),labels:{bundleName:ys.c},values:rt({liveTime:Date.now()-ys.a},e)}),mu.a&&du.a.logTimingAndLoadRum("adsdk.js",(null===vu.a||void 0===vu.a?void 0:vu.a.src)||pu)}uu&&(bu(),wu());class Ru{static addUnit(e){Array.isArray(Nu.videoAd.skipTokens)?-1===Nu.videoAd.skipTokens.indexOf(e)&&Nu.videoAd.skipTokens.push(e):Nu.videoAd.skipTokens=[e]}static toBase64(){const e=Ru.getUnits();return e.length?O(Object(Ho.a)(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(Nu.videoAd.skipTokens)?Nu.videoAd.skipTokens:[]}}var ku=i(96),Vu=i(97);const ju=e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:n,videoPublisherName:a,videoGenreId:o,videoGenreName:s,musicArtistId:d,musicGenreId:l,musicGenreName:c,preferableAdSize:u}=e;return st({},ot(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":n,"video-publisher-name":a,"video-genre-id":at(o),"video-genre-name":at(s),music_artist_id:d,"music-genre":l,"music-genre-name":c,wtime:void 0,"ad-session-id":Fs(),"pcode-icookie":ku.a,"pcode-test-ids":Vu.a,"pcode-flags":JSON.stringify(ou.a),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0})},Mu=e=>{let{adConfig:t,adBreak:i,random:r,win:n}=e;const{targetRef:a,width:o,height:s,tagsList:d,extParam:l,charset:c,distrId:u}=t,h=n.document.referrer,p=Object(ru.a)(n);let A;return a?(A=a,Bo.c.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:Mo.a})):"about:blank"===p?(A=h,Bo.c.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:Mo.a})):A=p,lt({},ju(t),{"repeat-number":dt(i)?String(i.repeatNumber):void 0,wtime:dt(i)?String(Math.floor(i.timeOffset)):void 0,"target-ref":A,"page-ref":h,"video-width":o,"video-height":s,"tags-list":at(d),"ext-param":l,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":Ru.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(r)})},Lu="Yabs Ad Server",Bu=[Lu,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"];var xu=i(43);const Fu=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},Uu=Fu();var Hu=i(95);const zu={PAGEURL:encodeURIComponent(Object(Hu.a)(document).location),Y_DEVICE_TYPE:Uu?"mobile":"desktop",Y_AD_SESSION_ID:Bs()},Wu=["clickThrough","close","impression","mute","skip","unmute"],Gu=e=>"VastTracking_"+e,Yu={},qu=100,Xu={width:void 0,height:void 0},Ku=void 0,Qu={text:"",textColor:"#FFFFFF",isVisible:!1};var Ju=i(138);const Zu=e=>{const{protocol:t}=Object($o.e)(e);return"blob:"===t?e:u(e)?Object($o.b)(e,{[hs]:es.a,vsid:Ju.a}):e},$u=e=>St({},e,{url:Zu(e.url)});var eh=i(47);i(117);const th=document.createElement("video"),ih="function"===typeof th.load,rh=ih?function(e,t){return void 0===t&&(t=th),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,nh=["application/vnd.apple.mpegurl","application/x-mpegurl"],ah=window.URL||window.webkitURL||{},oh="function"===typeof ah.createObjectURL&&"function"===typeof ah.revokeObjectURL,sh=Object(lc.a)();var dh=i(63),lh=i(51);const ch=function(e){return void 0===e&&(e=window),Object(lh.a)(e).toLowerCase().indexOf("tizen")>-1},uh=function(e){void 0===e&&(e=window);const t=It(e);return 2===t.major&&3===t.minor},hh=ch(),ph=(uh(),function(e){void 0===e&&(e=window);const t=It(e);2===t.major&&t.minor}(),!hh&&-1===sh&&!dh.a),Ah=e=>Pt(e)&&dh.a||ph,mh=e=>rh(e)&&(Ah(e)||(e=>oh&&!Pt(e))(e)),fh=(Object(Zs.a)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),window.URL||window.webkitURL||{});class vh{constructor(e){this.ready=!1;const{type:t}=e;if(!mh(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=Ah(t)?this.preloadWithVideoTag(e):this.preloadToBlob(e);this.readyPromise=i.then(t=>(this.ready=!0,t||e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),Object($s.a)(this.blobUrl)&&fh.revokeObjectURL(this.blobUrl)}preloadWithVideoTag(e){const t=document.createElement("video");return this.video=t,t.preload="auto",new Promise((i,r)=>{t.oncanplaythrough=()=>i(e),t.onerror=r,t.src=e.url,t.load()})}async preloadToBlob(e){const{response:t}=await it({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return{type:e.type,width:e.width,height:e.height,bitrate:e.bitrate,minBitrate:e.minBitrate,maxBitrate:e.maxBitrate,url:fh.createObjectURL(t)}}}var gh=i(100);const yh=e=>{let{src:t,win:i}=e;const r=Ze(t),{promise:n,teardown:a}=Object(gh.a)({src:r?Wc:t,win:i});return{promise:n.then(()=>i.getVPAIDAd),teardown:a}},bh=function(e,t){void 0===t&&(t=e=>Boolean(function(e){return e}(e)));for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},_h=1e3,Oh=Object(bs.a)(()=>{Bo.c.error({error:new Lo.a({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:Mo.a})}),Sh=(kt({},ou.a),kt({},ou.a)),Th=e=>Sh[e],Eh=(Vo.a,Vo.a,Vo.a,Vo.a,Vt("DPR_STRATEGY",["SUBTRACTION","DIVISION"])),wh=e=>{const t=Number(Th(e));return r(t)?t:void 0},Ch=wh("DPR_WEIGHT"),Ph=wh("VPR_PRIORITY_MULTIPLIER"),Ih=1,Dh="undefined"===typeof Ph?1.2:Ph,Nh="video/webm",Rh='video/webm; codecs="vorbis,vp8"';const kh="video/mp4",Vh=4,jh=.001,Mh=["bitrate","minBitrate","maxBitrate","width","height"],Lh=9007199254740991,Bh={"vp08, vorbis":"vp8, vorbis",vp08:"vp8"},xh=(e=>{const t=Yt(e);return!!t&&Boolean(g(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),Fh=Yt(),Uh=rh("video/webm"),Hh=xh&&Uh,zh=Fh&&Object(Ys.a)(Fh),Wh=Object(Zo.a)(Qo.a),Gh=void 0!==window.AbortController&&void 0!==window.fetch&&Object(Ys.a)(AbortController)&&Object(Ys.a)(fetch),Yh=zh&&Gh,qh=(e,t)=>t?e+'; codecs="'+t+'"':e,Xh=(e,t)=>e+"_"+t;class Kh extends hd.a{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const n=new r.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:n.takeRecords()})},{buffered:!0});n.observe();const a=n.takeRecords();a.length&&i({reportSourceEvent:"buffered",reports:[],records:a}),this.addDestroyHandler(Object(Fd.a)({element:t,eventName:"beforeunload",listener:()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler(()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),n.disconnect()})}}const Qh=250;let Jh=0;const Zh=[],$h=(e,t)=>{const i=e.contentDocument.body;return ri(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class ep extends hd.a{static create(e){const{parentElement:t,attributes:i,scope:r}=e,n=ni(t,i);if(!n)throw ei({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new ep(ai({},e,{iframe:n}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,n=function(){const e=ni(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!n)throw ei({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new ep(ai({},e,{iframe:n}))}constructor(e){super(),oi(this,"iframe",void 0),oi(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{Object(jo.a)(i)}),this.addDestroyHandler($h(this.iframe,()=>{this.destroy(ei({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(ii(this.window,(i,r,n)=>{const a="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;Bo.c.error({error:ei({scope:t,errorType:r,error:i,details:ai({},a,{error:i,data:n})})})}))}}var tp,ip=i(79);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(tp||(tp={}));Object(Zs.a)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});class rp{constructor(e,t,i){ci(this,"parsedParams",void 0),ci(this,"contentType",void 0),ci(this,"_promise",void 0),ci(this,"_isPreloaded",!1),ci(this,"_vpaidWindow",void 0),ci(this,"preloaders",[]),ci(this,"_preloadedVpaidAdParameters",void 0),ci(this,"_preloadedVideoFile",void 0),ci(this,"_preloadedAdCreativeInitFunction",void 0),ci(this,"getMediaFiles",void 0),ci(this,"getJSMediaFile",void 0),ci(this,"getVastAd",void 0),this.parsedParams=function(e){const{videoSlot:t,viewMode:i=tp.NORMAL,preloadJS:r=!0,preloadVideo:n=!0}=e,{width:a=t.clientWidth,height:o=t.clientHeight}=e,s=G(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>Dl)&&(d=Dl),{preloadTimeout:d,width:a,height:o,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:n}}(e),this.contentType=t,this.getMediaFiles=i.getMediaFiles,this.getJSMediaFile=i.getJSMediaFile,this.getVastAd=i.getVastAd}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&Bo.c.event({name:"PreloadCancelled",data:{reason:e},probability:Mo.a}),this._promise=void 0,this._vpaidWindow=void 0,Object(Uo.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&"js"===this.contentType){if(!di(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=bt(i.adParameters),r=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,n=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([r,n]))}t&&"video"===this.contentType&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(e){Object(Uo.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=ep.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:r}=Dt({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await t}catch(r){return void this._logError(r,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["preloadTimeout"]),r=this.getJSMediaFile();if(!r)return;const n=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=n;try{const{promise:e,teardown:t}=yh({src:r.url,win:n});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=n.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const a=n.Ya.preloadVPAIDAd(li({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let o;this.preloaders.push(a);try{o=await a.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=o.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:r,desiredBitrate:n}=t;const{prioritisedMediaFile:a}=$t(e,{container:{width:i,height:r},desiredBitrate:n});if(!a)return;const o=$u(a),s=new vh(o);let d;this.preloaders.push(s);try{d=await s.readyPromise}catch(l){return void this._logError(l,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=d}_logError(e,t){si(e),Bo.c.error({error:new Lo.a(e,{code:t})})}}class np{constructor(){ui(this,"src",void 0),ui(this,"type",void 0),ui(this,"x",NaN),ui(this,"y",NaN),ui(this,"width",NaN),ui(this,"height",NaN)}static fromVastIcon(e){const t=new np;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class ap{get contentType(){return this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,hi(this,"icons",void 0),hi(this,"preloadingController",void 0),hi(this,"isTrackingEventsEnabled",!0),hi(this,"duration",0),hi(this,"getMediaFiles",()=>Tt(this.vastAd.mediaFiles,this.adConfig.secureMode)),hi(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:n,isNonLinear:a}=t;if(a)return Ku;if(Ct(t)){const{parsed:{videoMediaFiles:e}}=bt(n);return 0===e.length?Xu:_t(e)}const o=Et(r,i);return _t(o?[o]:Tt(r,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),hi(this,"getJSMediaFile",()=>Et(this.vastAd.mediaFiles,this.adConfig.secureMode)),hi(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=Object(Ho.a)(this.vastAd.icons,e=>np.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}trackError(e){f(e,this.vastAd.trackingEvents.error)}removeTrackingEvents(){this.isTrackingEventsEnabled=!1}trackEvent(e,t,i){if(!this.isTrackingEventsEnabled)return void Object(xo.a)("eventName ("+e+") was NOT tracked in MediaAd (disabled with method removeTrackingEvents)");Object(xo.a)("Track event=["+e+"]");const r=this.vastAd.trackingEvents[e];ft({eventName:e,trackingEventDetails:i,trackingUrls:Array.isArray(r)?r:[],options:t})}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new rp(e,this.contentType,{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===Lu||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(function(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return Object(zo.a)(r)&&r.url===Zc.url}(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if(Ze(e.url)&&u(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return Bo.c.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:Mo.a,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return Bo.c.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:Mo.a,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Object(jd.a)(Bu,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Object(xo.a)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||Ct(this.vastAd)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!u(e.url))}}class op{constructor(e){var t,i,r;r=void 0,(i="mediaAds")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaAds=e.sort((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:i===Pl?1:r===Pl?-1:i-r})}getDuration(){return Object(Td.a)(this.mediaAds,(e,t)=>e+t.getDuration(),0)}getFirstMediaAd(){return this.mediaAds[0]}hasFilteredOutMediaFiles(){return Hs(this.mediaAds,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}preload(e){return Object(Uo.a)(this.mediaAds,t=>{t.preload(e)}),e=>{Object(Uo.a)(this.mediaAds,t=>{t.cancelPreloading(e)})}}}const sp=e=>{try{return"display"in bi(e)}catch(t){return!1}};var dp=i(101);const lp=function(e){if(void 0===e&&(e=window),Object(dp.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),cp=Object(dp.a)(),up=Uh?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var hp=i(122);const pp="__yaMuffleVideoPlayPromiseOriginalPlay",Ap=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Ei(Ci(e))}})(e);return()=>{t(),i(),r()}};var mp;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(mp||(mp={}));class fp{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(zo.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=mp[this.code]||"")}}const vp=function(e){void 0===e&&(e=window);const t=Object(lh.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var gp;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(gp||(gp={}));const yp=function(e){void 0===e&&(e=window);const t=Object(lh.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},bp=function(e){return void 0===e&&(e=window),Object(lh.a)(e).toLowerCase().indexOf("web0s")>-1};var _p,Op=i(72),Sp=i(102);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(_p||(_p={}));const Tp={once:!0,passive:!0};let Ep=!1;const wp=-1<sh&&sh<=16,Cp=Ri({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:gp.AutomaticallyGenerated}),Pp=Ri({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.AutomaticallyGenerated}),Ip=500;class Dp{constructor(e,t){let{checkSoundEnabled:i,promise:r}=t;if(this.video=e,this.stop=Vo.a,this.isStopped=!1,this.revertVideoState=Vo.a,this.getIsActiveWindow())return this.promise=Promise.resolve(Ni({},Pp,{detectionMethod:gp.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const n=document.createElement("div");n.style.display="none";const a=Ap(e),o=Di(e,()=>Ti(e,{src:up}));let s;this.revertVideoState=Object(bs.a)(()=>{o(),e.load(),a(),Object(jo.a)(n)}),this.promise=new Promise(async(e,t)=>{let r,n,a;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(Ri({canPlayUnMuted:n,canPlayMuted:a,detectionMethod:r||gp.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Di(t,()=>{t.load()}),await Wl(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:gp.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{Ii(t,{useProgressEvent:!0,timeoutForNonPromisePlay:Ip}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const r=function(e){const{error:t}=e;return new fp(t)}(t);r&&r.code===mp.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:gp.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:gp.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!Object(zo.a)(i))return;const{isActive:r,hasBeenActive:n}=i;return{isActive:r,hasBeenActive:n}}(e);return Boolean(t&&t.hasBeenActive)}}var Np;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(Np||(Np={}));const Rp="TRUE"===Th("DISABLE_SUBTITLES")||void 0,kp={abuseUrl:""},Vp=Vi({},{notInterested:{reason:3,action:2},annoying:{reason:1,action:3},spam:{reason:5,action:4}},{notInterestedSocialAd:{reason:15,action:4},politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}}),jp={isAvailable:!1},Mp=/&\w+;/g,Lp={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},Bp=["spec","logo","misc"],xp=e=>{if(Object(zo.a)(e))for(const t in e)if(e.hasOwnProperty(t)&&!Object(jd.a)(Bp,t)){const i=e[t];return i.text&&Object($s.a)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},Fp=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!Object(zo.a)(t)||!Object(zo.a)(t.data_params))return;const i=xp(t.data_params);if(!Object(zo.a)(i))return;const r=i.assets;if(!Object(zo.a)(r))return;const n={},{logo:a,button:o}=r;if(Object(zo.a)(a)){const e=Object(xu.a)(a);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:a}=r;Object($d.a)(e)&&Li(n)&&Li(a)&&(t[i]={url:e,width:n,height:a})}Bi(t)||(n.logo=t)}}if(Object(zo.a)(o)){const{caption:e,href:t,key:i}=o;Object($d.a)(e)&&Object($d.a)(t)&&Object($d.a)(i)&&(n.button={caption:e,href:t,key:i})}return n},Up=e=>{if(!Array.isArray(e))return[];const t=Object(Ho.a)(e,e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),n=e[3];if(Object($d.a)(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return Object(zo.a)(n)&&e.push(n),e}});return Object(Od.a)(t,e=>void 0!==e)},Hp=Object(bs.a)(e=>{Bo.c.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:Mo.a})}),zp=Object(bs.a)(()=>{Bo.c.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:Mo.a})}),Wp=Object(bs.a)(()=>{Bo.c.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:Mo.a})}),Gp=Object(bs.a)(e=>{Bo.c.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:Mo.a})}),Yp=e=>{if(!Object(zo.a)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:r,AGE_TEXT_COLOR:n,BODY_BACKGROUND_COLOR:a,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:f,HAS_DISCLAIMER:v,HAS_LEGAL:g,HAS_TITLE:y,LEGAL_BACKGROUND_COLOR:b,LEGAL_TEXT:_,LEGAL_TEXT_COLOR:O,TITLE_BACKGROUND_COLOR:S,TITLE_TEXT_COLOR:T,BUTTON_POSITION:E,BUTTON_LABELS:w}=e;if(!Object(zo.a)(t)||!Object(zo.a)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&Wp();const C=xp(t.data_params);if(!Object(zo.a)(C)||!Object(zo.a)(C.text))return;const P=C.text,{title:I,domain:D,body:N,age:R,banner_flags:k}=P,V=C.unmoderated||P.unmoderated||{},{punyDomain:j}=V,M=Array.isArray(k)?k:[],{hasDrugDisclaimer:L,hasDietarysupplDisclaimer:B,hasDistanceSales:x,legalDisclaimerText:F}=function(e){var t,i;if(!Object(zo.a)(e))throw new Lo.a({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:r,LEGAL_TEXT:n,HAS_LEGAL:a}=e,o=xp(null!==(t=null===r||void 0===r?void 0:r.data_params)&&void 0!==t?t:{}),{warning:s,dynamic_disclaimer:d,banner_flags:l}=null!==(i=null===o||void 0===o?void 0:o.text)&&void 0!==i?i:{},c=null!==l&&void 0!==l?l:[],u=Object(jd.a)(c,"medicine"),h=Object(jd.a)(c,"dietarysuppl"),p=Object(jd.a)(c,"distance_sales"),A=a&&(null===n||void 0===n?void 0:n.trim())&&n,m=Object($d.a)(s)&&"1"===d?s:void 0;return(a||Object($d.a)(A)||Object($d.a)(m)||u||h||p)&&Hp({HAS_LEGAL:a,LEGAL_TEXT:n,dynamic_disclaimer:d,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p}),{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalDisclaimerText:A||m||void 0}}(e);M.length>0&&Gp({bannerFlags:M}),V===P.unmoderated&&zp();const U={title:Qp(I),domain:Qp(D),punyDomain:Qp(j),domainBackgroundColor:Qp(h),domainTextColor:Qp(p),hasDomain:Jp(i),body:Qp(N),ageRestriction:Qp(R),hasAgeRestriction:Jp(A),extraLinks:qp(V),legalDisclaimerText:F,hasDrugDisclaimer:L,hasDietarysupplDisclaimer:B,hasDistanceSales:x,hasButton:Jp(f),images:xi(e),clickThruUrl:Mi(e),ageBackgroundColor:Qp(r),ageTextColor:Qp(n),bodyBackgroundColor:Qp(a),bodyTextColor:Qp(o),buttonBorderColor:Qp(s),buttonColor:Qp(d),buttonTextColor:Qp(l),hasDisclaimer:Jp(v),disclaimerBackgroundColor:Qp(c),disclaimerTextColor:Qp(u),hasBody:Jp(m),hasLegal:Jp(g),hasTitle:Jp(y),legalBackgroundColor:Qp(b),legalText:Qp(_),legalTextColor:Qp(O),titleBackgroundColor:Qp(S),titleTextColor:Qp(T),buttonPosition:Qp(E),buttonLabels:Zp(w),offer:C,assets:Fp(e),targetUrl:Fi(e)};return U.title&&(U.title=ji(U.title)),U.body&&(U.body=ji(U.body)),U},qp=e=>{if(!Object(zo.a)(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:n,metro:a,region:o}=e;if(Kp(t)){const e=Object(Od.a)(t,e=>Object($d.a)(e.title)&&Object($d.a)(e.url));if(e.length)return Object(Ho.a)(e,e=>({type:"sitelink",text:e.title,url:e.url}))}const s=null===i||void 0===i?void 0:i.callouts_list;if(Xp(s)){const e=Object(Od.a)(s,$d.a);if(e.length)return Object(Ho.a)(e,e=>({type:"callout",text:e}))}const d=Object(Od.a)([r,n,a,o],$d.a);return Object(Ho.a)(d,e=>({type:"contact",text:e}))},Xp=e=>Array.isArray(e)&&$l(e,$s.a),Kp=e=>Array.isArray(e)&&$l(e,zo.a),Qp=e=>Object($d.a)(e)?e:void 0,Jp=e=>"boolean"===typeof e?e:void 0,Zp=e=>Object(zo.a)(e)&&$l(se(e),e=>"string"===typeof e)?e:void 0,$p=Vl,eA=0,tA=5,iA=!0,rA=!0,nA=["https://yastatic.net/pcode/media/vpaid-pythia-survey-embed.js"],aA="video-banner_survey",oA=1e3/60;class sA{constructor(e,t){this.callback=t,Ji(this,"animationFrameFunctions",void 0),Ji(this,"time",0),Ji(this,"startTime",0),Ji(this,"id",0),Ji(this,"started",!1),Ji(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=Qi(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const dA=1500;class lA{constructor(e){this.params=e,Zi(this,"animationFramesController",void 0),Zi(this,"position",0),Zi(this,"offset",0),Zi(this,"duration",void 0),Zi(this,"onFinishOnce",void 0),Zi(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,r=dA/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const n=i*(1+this.offset/r);this.position=Bt(this.position+n,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-n,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=Object(bs.a)(e.onFinish),this.animationFramesController=new sA(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=Bt(e,0,1),this.offset=0,this.params.callback(e))}}class cA{constructor(e){$i(this,"dispatch",Object(bs.a)(e=>{this.value=e,this._isDispatched=!0,Object(Ad.a)(this.callbacks,e),this.callbacks.length=0})),$i(this,"callbacks",[]),$i(this,"_isDispatched",!1),$i(this,"value",void 0),Object(Zo.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),Vo.a):(this.callbacks.push(e),()=>{this.callbacks=Object(Od.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const uA=0,hA=0;var pA=i(135);const AA=Boolean(pA.a),mA=2*Qh/Ou,fA=function(e){return void 0===e&&(e=window),-1!==Object(lc.a)(e)}(),vA=null===th.onwaiting,gA=!vA||fA||dh.a?(e,t)=>{let i=0,r=!1;return ri(()=>{const n=e.currentTime,a=e.duration,o=1/Qh;if(!e.paused){const e=i+o;r?n>e&&(t(!1),r=!1):n<e&&n!==a&&(t(!0),r=!0)}i=n})}:(e,t)=>{let i=!1;const r=Pi(e,"pause",()=>{i&&(i=!1,t(!1))},{passive:!0}),n=Pi(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),a=Pi(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=Pi(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{r(),n(),a(),o()}};class yA extends hd.a{constructor(){super(),ar(this,"isStarted",!1),ar(this,"lastStartTime",void 0),ar(this,"spent",0),ar(this,"callbacks",[]),ar(this,"timeoutId",0),ar(this,"recalculateTimeAndDispatchCallbacks",()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}),this.addDestroyHandler(()=>{this.stop()})}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=V(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,Object(Uo.a)(e,e=>{let{callback:t}=e;t()})}}class bA extends hd.a{constructor(){super(),or(this,"bufferingTimeCount",void 0),or(this,"isPlaying",new pd.a(!1)),or(this,"isBuffering",new pd.a(!1)),this.bufferingTimeCount=new yA,this.addDestroyHandler(()=>{this.bufferingTimeCount.destroy()})}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(gA(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(_([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/Ou}}const _A=20,OA=e=>{switch(!0){case e<=1*Ou:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*Ou:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*Ou:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*Ou:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}},SA=NaN,TA=0,EA={duration:SA,remainingTime:TA};var wA=i(71);const CA=Object(ud.a)({portion:"portion",seconds:"seconds"});class PA{constructor(e){var t,i,r;r={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,Object(Uo.a)(e,e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!$(i))return[];const r=t-i,n={portion:r/t,seconds:r},a=[];return Object(Uo.a)(CA,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,n[e]);a.push(...t)}),a}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=V(this.trackingUrls[e],e=>{let{urls:i,offset:r}=e;return t>=r});return this.trackingUrls[e]=r,k(Object(Ho.a)(i,e=>{let{urls:t}=e;return t}))}}var IA=i(56),DA=i(127);class NA extends hd.a{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;super(),cr(this,"adDisplayController",void 0),cr(this,"mediaAd",void 0),cr(this,"adPodViewerPlaybackParams",void 0),cr(this,"playbackPosition",new pd.a(EA,dr)),cr(this,"packshotStartLatch",new cA),cr(this,"adVideoIsBuffering",new pd.a(!1)),cr(this,"playingState",new pd.a("idle",(e,t)=>"idle"===t?(Bo.c.error({error:new Lo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&Bo.c.error({error:new Lo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),cr(this,"isCreativeStartRequested",new pd.a(!1)),cr(this,"onReady",new Bd.a),cr(this,"onBeforeDestroy",new Bd.a),cr(this,"isStarted",new pd.a(!1)),cr(this,"onResume",new Bd.a),cr(this,"onPause",new Bd.a),cr(this,"onVolumeChange",new Bd.a),cr(this,"onImpression",new Bd.a),cr(this,"onFirstQuartile",new Bd.a),cr(this,"onMidpoint",new Bd.a),cr(this,"onThirdQuartile",new Bd.a),cr(this,"onBeforeComplete",new Bd.a),cr(this,"completeLatch",new cA(()=>{this.trackEvent("complete",void 0)})),cr(this,"onClickThrough",new Bd.a),cr(this,"onAdInteraction",new Bd.a),cr(this,"playingTimeCounter",new yA),cr(this,"shouldPlayTimeCounter",new yA),cr(this,"bufferingTimeManager",void 0),cr(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.getAdParametersObject())||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),this.addDestroyHandler(e=>{const t=Math.round(this.shouldPlayTimeCounter.getTime()),i=Math.round(this.playingTimeCounter.getTime()),r=Math.round(t-i),n=Math.round(this.bufferingTimeManager.getBufferingTime()*Ou),a=Math.round(this.getDuration()*Ou),s=Math.round(this.getAdRemainingTime()*Ou),d=Math.round(a-s),l=Math.round(n/d*1e6),{droppedVideoFrames:c,corruptedVideoFrames:u,totalVideoFrames:h,droppedVideoFramesRatio:p}=o(this.adDisplayController.videoNode);Bo.c.values({name:"ViewerDestroy",probability:Mo.a,data:{destroyReason:e},labels:{},values:{shouldPlayTime:t,playingTime:i,notPlayingTime:r,bufferingTime:n,duration:a,remainingTime:s,currentTime:d,bufferingTimeRatio:l,droppedVideoFrames:Math.round(c),corruptedVideoFrames:Math.round(u),totalVideoFrames:Math.round(h),droppedVideoFramesRatio:Math.round(1e6*p)}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add(()=>{this.trackEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackEvent("resume",void 0)}),this.onPause.add(()=>{this.trackEvent("pause",void 0)}),this.packshotStartLatch.subscribe(()=>{this.trackEvent("packshotStart",void 0)});let n=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();n!==e&&(this.trackEvent(e?"mute":"unmute",void 0),n=e)}),this.onImpression.addOne(()=>{this.trackEvent("impression",void 0)});const a=new PA(i.vastAd.progressTrackings);this.playbackPosition.add(e=>{let{remainingTime:t,duration:i}=e;const r=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&ft({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions()})}),this.onFirstQuartile.add(()=>{this.trackEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new bA,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+_A)*Ou;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new Lo.a({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()}),this.addDestroyHandler(Object(Fd.a)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}}))}trackEvent(e,t){this.mediaAd.trackEvent(e,this.adDisplayController.getAdPlacementOptions(),t)}trackAdParametersEvent(e,t){const i=this.getAdParametersTrackingUrls(e);Array.isArray(i)&&(Object(xo.a)("Track event=["+e+"]"),ft({eventName:e,trackingEventDetails:t,trackingUrls:i,options:this.adDisplayController.getAdPlacementOptions()}))}trackStartEvent(){this.isCreativeStartRequested.getValue()||Bo.c.error({error:new Lo.a({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=Wo),this.trackEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;e.url?n=e.url:r&&(Bo.c.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r}}),n=r);const{pauseOnClickThrough:a,clickThroughConfirmation:o}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||n)||!i)return void this.trackEvent("clickThrough",void 0);n&&(n=h({url:sr(n),options:this.adDisplayController.getAdPlacementOptions()}));const d=Object(bs.a)((function(i){void 0===i&&(i=!1);const r=Date.now(),o=t.adDisplayController.getPaused(),d=a&&!o;if(d&&t.pause(),i){const e=lr(window.document,i=>{if(!i)return;d&&t.resume();const n=Date.now()-r;t.trackAdParametersEvent("returnAfterClickThrough",{timeSpentBeforeReturn:n});const a=OA(n);Bo.c.event({name:a,data:{timeSpentBeforeReturn:n}}),e()});t.addDestroyHandler(e)}t.trackEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(a)}),s&&Mo.d&&Bo.c.event({name:"ClickThroughCallbackHandle",probability:Mo.a,data:{clickThroughParams:e,url:n,pauseOnClickThrough:a}})}));if(s)o||d(),s({url:n,onHandle:d}),Bo.c.event({name:"ClickThroughCallbackCall",probability:Mo.a,data:{clickThroughParams:e,url:n,pauseOnClickThrough:a}});else{null!==window.open(n,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return Ku;if(this.isAdaptive())return Xu;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==uA&&e.width!==hA?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=Nl}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}getAdParametersObject(){return this.mediaAd.vastAd.adParametersObject}}const RA=640,kA=480;class VA extends NA{constructor(e){super(e),ur(this,"preferredSource",void 0),ur(this,"videoNodeController",void 0),ur(this,"curtain",void 0),ur(this,"startTracked",!1),ur(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,wrapperNode:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;Bo.c.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Object(Fd.a)({element:t,eventName:"click",listener:i,ignoreBubbling:!0})),er(e)&&this.isClickable()&&(AA||(this.addDestroyHandler(yi(e,{cursor:"pointer"})),this.addDestroyHandler(yi(t,{cursor:"pointer"}))))})),ur(this,"setAdMediaFile",Object(bs.a)(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),ur(this,"getVideoMediaFileToPlay",Object(bs.a)(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const r=this.mediaAd.getMediaFiles();if(i||(i=$t(r,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackEvent("fullscreen",void 0):this.trackEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&Object(jo.a)(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:r}=this,n=new Error,{videoTimeout:a}=r;this.shouldPlayTimeCounter.addCallback(a,()=>{this.isStarted.getValue()||this.destroy({reason:"error",details:new Lo.a(n,{code:"VIDEO_TIMEOUT",details:{timeout:a,src:this.getSrc(),config:t.config,viewerPlaybackParams:r}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&Bo.c.error({error:new Lo.a({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(Bo.c.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new Lo.a({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:hA}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:uA}getCurrentTime(){return this.videoNodeController.getCurrentTime()}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();return this.isCreativeStartRequested.getValue()?e-this.videoNodeController.getCurrentTime():e}getDuration(){const e=this.mediaAd.getDuration();return!this.isStarted.getValue()||this.isDestroyed?e:this.videoNodeController.getDuration()||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=tp.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(tr({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const t=new Lo.a({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e}});this.destroy({reason:"error",details:t})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(ir({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{this.destroy({reason:"error",details:new Lo.a({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{this.destroy({reason:"error",details:e})})),this.addDestroyHandler(nr({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:!0}),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.playbackPosition.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{Bo.c.event({name:"RestoreSeek",data:{},probability:Mo.a})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:r}=this.adDisplayController.slotSize.getValue();return i&&r?{width:i,height:r}:{width:RA,height:kA}}}const jA=-1,MA=-1,LA=-2,BA=!1,xA={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:LA,getAdVolume:qo,getAdIcons:!1,getAdExpanded:!1,getAdHeight:uA,getAdWidth:hA,getAdLinear:!0,getAdSkippableState:BA},FA=pr({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),UA=pr({},xA,FA),HA={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},zA={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},WA={adVolume:"setAdVolume"},GA={getAdUnitId:0},YA="1"===Th("ENABLE_MRC_VIEWABILITY")?"1":void 0,qA=10,XA="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",KA={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdClickThru:"clickThrough",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:QA}=i(163),JA=Object(ud.a)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),ZA=180,$A=320*ZA,em=160,tm=300*em;class im extends hd.a{constructor(e){var t;super(),vr(this,"onResize",void 0),vr(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),vr(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=Ld(e);this.onResize=new pd.a({width:i.width,height:i.height},(e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const r=this.getElementWindow(e),n=null!==(t=null===r||void 0===r?void 0:r.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof n&&Object(Ys.a)(ResizeObserver))try{const t=new n(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(a){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return fr({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Ld(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(Fd.a)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(ri(i))}}class rm{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class nm{constructor(e){this.distributionFunction=e,gr(this,"stopped",!0),gr(this,"cancel",void 0),gr(this,"clock",void 0),gr(this,"lastNow",0),gr(this,"lastKnockTime",0),gr(this,"lastTimeout",0),gr(this,"restTime",0),gr(this,"destroyed",!1),gr(this,"isFirstKnock",!0),gr(this,"count",0),this.clock=new rm}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const am={height:0,width:0},om=function(e){if(void 0===e&&(e=window),void 0===e.screen)return am;const{width:t=am.width,height:i=am.height}=e.screen;return{width:t,height:i}},sm={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4};var dm=i(93);const lm=Hs([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),cm=!0,um=!0,hm=.5,pm=2;class Am extends hd.a{constructor(e,t){let{considerDocumentVisibility:i=cm,numberOfMeasurementSteps:r=pm}=void 0===t?{}:t;super(),this.element=e,wr(this,"totalVisibilityValueSignal",new pd.a(!1)),wr(this,"totalVisibilityRatioValueSignal",void 0),wr(this,"elementVisibilityRatioValueSignal",void 0),wr(this,"documentVisibilityValueSignal",new pd.a(um)),wr(this,"recalculateVisibility",()=>{if(this.isDestroyed||!Si(this.element))return;const e=Er(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)}),wr(this,"refreshTotalVisibility",()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=hm),this.totalVisibilityRatioValueSignal.dispatch(t)});const n=Math.max(r,pm);this.totalVisibilityRatioValueSignal=new pd.a(0),this.elementVisibilityRatioValueSignal=new pd.a(0);const a=e.ownerDocument.defaultView.IntersectionObserver;Boolean(a)?this.startIntersectionObserver(a,n):this.startVisibilityCheckInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}startIntersectionObserver(e,t){const i=[hm],r=1/t;for(let a=1;a<t;a++)i.push(a*r);const n=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});n.observe(this.element),this.addDestroyHandler(()=>{n.disconnect()})}startVisibilityCheckInterval(){const e=ri(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Object(wd.a)(0);t.then(this.recalculateVisibility).catch(Vo.a),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await Wl(0);const t=Object(IA.a)(e);this.documentVisibilityValueSignal.dispatch(t);const i=lr(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}class mm{constructor(){var e=this;Cr(this,"events",{}),Cr(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})}),Cr(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Object(Od.a)(i,t=>{let{callback:i}=t;return e!==i}))}),Cr(this,"dispatch",(function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if("string"!==typeof t)throw new Error("Event name MUST be a string");const a=e.events[t];a&&Object(Uo.a)(a,e=>{let{callback:i,context:n}=e;try{i.apply(n,r)}catch(a){Bo.c.error({error:new Lo.a(a,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}})}))}}i(164);const fm=WBViewAbility;var vm=i(60);const gm=8,ym={id1:"",id2:"",id5:"",id7:"",id9:""},bm=e=>Object($o.b)("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:r,id7:n,id9:a}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:n,id9:a,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),_m="https://yastatic.net/pcode-static/measurers/35/video/adloox.js",Om="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",Sm=Jo.b.split("/"),Tm=Sm[Sm.length-1],{initMoatTracking:Em}=i(165),wm={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},Cm="yandexhostedvideo786420153684",Pm=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;await Object(vm.a)({src:"https://yastatic.net/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:r})},Im={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;const n=i.ownerDocument.defaultView;await Object(vm.a)({win:n,src:"https://yastatic.net/pcode-static/measurers/28/video/adriver.js"}).promise,new n.AdriverViewabilityYandexVPAID(Ir({},r,{ya_custom:"ADSID="+es.a}),i,t),Object(xo.a)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n}=e;const a=Em(i,Dr({},r,{zMoatADID:es.a,slicer1:Tm,partnerCode:Cm}),t.getAdDuration(),Cm);Object(Uo.a)(Object(ud.a)(wm),e=>{t.subscribe(()=>{try{a.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){n(new Lo.a({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}},e)})},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n}=e;var a;const o=Pr({},r,{targetelt:((a=i).id||(a.id=Object(Md.a)(gm)),a.id),urli:Om,urlv:Om,urle:Om},{id8:es.a}),s=Object(Td.a)(Object(xu.a)(o),(e,t,i)=>{let[r,n]=t;return"string"!==typeof n?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(n)},"");t.subscribe(()=>{const e=""+_m+s;A(bm(Pr({},ym,o))),Object(vm.a)({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{n(new Lo.a({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},admetrica:Pm,sizmek:Pm,weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;const n=i.ownerDocument.defaultView;await Object(vm.a)({win:n,src:"https://yastatic.net/pcode-static/measurers/42/video/weborama.js"}).promise,new n.WBMeasurerV(i,t,JSON.stringify(Nr({},r,{siteid:es.a}))),Object(xo.a)("weborama measurer loaded")}},Dm=3e4,Nm=Object(ud.a)(Im),Rm={1:[],2:[],3:[],5:[]};class km extends hd.a{constructor(e,t,i){var r;super(),r=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,Fr(this,"playingStateValueSignal",new pd.a(!1)),Fr(this,"bufferingTimeManager",void 0),Fr(this,"slotVisibilityStateValueSignal",void 0),Fr(this,"slotHoverStateValueSignal",new pd.a(!1)),Fr(this,"vpaidInitParameters",void 0),Fr(this,"measurerStartParameters",void 0),Fr(this,"shouldPlayTimeCounter",new yA),Fr(this,"lastVolume",void 0),Fr(this,"vpaidEventBus",new mm),Fr(this,"isVisibilityConfirmed",!1),Fr(this,"initMeasurableParameters",Object(bs.a)(e=>{var t;const i=e[4];if(!Object(zo.a)(i))throw new Lo.a({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:r}=i,n=e[5];if(!Object(zo.a)(n)||!Object(zo.a)(n.slot))throw new Lo.a({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:a,videoSlot:o,yandexAdPlaybackParams:s}=n,d=null!==(t=this.parameters.visibilitySlot)&&void 0!==t?t:a;this.bufferingTimeManager.start(o);const{parameters:l,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new Lo.a({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new Lo.a({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:n,start:a,trackingEvents:o,viewedComplete:s,weborama:d,moat:l}=t,{measurers:c,errors:u}=jr(t);return{parameters:{measurers:c,viewability:Mr(i),dwell:Mr(n),trackingEvents:W(z(o),{encounters:Rr(r),viewedComplete:Rr(s),start:Rr(a)}),weborama:d,moat:Br(l),skipAdSdkDetect:Lr(t)},errors:u}}(r);if(Object(Uo.a)(c,this.callbacks.onExecutionError),!l)throw new Lo.a({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:r}});const{skipAdSdkDetect:u}=l;if(!Object(zo.a)(s)){const e=new Lo.a({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:XA,details:{adParameters:r}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:d,videoSlot:o,adParameters:l},this.initMeasurers()})),Fr(this,"initMeasurers",Object(bs.a)(()=>{const{vpaidInitParameters:e,measurableVpaidCreative:t}=this;if(!e||!t)return this.callbacks.onExecutionError(new Lo.a({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:r,moat:n},slot:a}=e;if(r&&"string"===typeof r.wbStatData)try{(new fm).init(a,r.wbStatData,t)}catch(o){this.callbacks.onExecutionError(new Lo.a(o,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(n){const{partnerCode:e,ids:i}=n;try{!function(e,t,i,r){QA(e,t,i,r)}(t,a,i,e)}catch(o){this.callbacks.onExecutionError(new Lo.a(o,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}return Promise.all(Object(Ho.a)(Object(ud.a)(i),async e=>{const r=i[e],n=Im[e];try{await n({vpaidCreative:t,slot:a,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)}}),this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:a,measurerParameters:r})}catch(o){this.callbacks.onExecutionError(new Lo.a({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new md.a(o)}}))}}))})),Fr(this,"trackEncounters",Object(bs.a)(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0)):this.callbacks.onExecutionError(new Lo.a({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),Fr(this,"trackTrueView",Object(bs.a)(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),Fr(this,"startMeasurement",Object(bs.a)(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Lo.a({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:n,dwell:a}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=Pi(e,"mouseenter",()=>{i||(i=!0,t(!0))}),n=Pi(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{r(),n()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const o=new im(t),s=o.getSize();this.callbacks.onSlotSizeChange(s);const d=er(r)?new im(r):o,l=new pd.a(mr(s,AA));let c;if(o.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),l.dispatch(mr(e,AA))}),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new Am(t,{numberOfMeasurementSteps:qA});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler(()=>e.destroy())}this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:o.onResize,visibilityRatio:c},this.addDestroyHandler(c.add(e=>{this.slotVisibilityStateValueSignal.dispatch(e>=hm)})),this.addDestroyHandler(()=>{d.destroy(),o.destroy()});const u=new nm(e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),Dm}),h="1"===YA,p=new nm(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&(this.trackEvent(i.eventName,n[i.intervalId],void 0),h||2!==t||this.trackEncounters("viewability")),xr(t)}),A=new nm(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,a[i.intervalId],void 0),xr(t)}),m=h?new nm(e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),null===m||void 0===m||m.destroy()),xr(t)}):void 0;this.addDestroyHandler(()=>{u.destroy(),p.destroy(),A.destroy(),null===m||void 0===m||m.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{u.setEnabled(e)})),this.addDestroyHandler(_([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,l],(e,t,i)=>e&&t&&i,e=>{m&&e&&m.reset(),p.setEnabled(e),m&&m.setEnabled(e)})),this.addDestroyHandler(_([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,l],(e,t,i,r)=>e&&t&&i&&r,e=>{A.setEnabled(e)}))})),Fr(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),Fr(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(sd.a)}}),Fr(this,"measurableVpaidCreative",void 0),Fr(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),Fr(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(r){return this.vpaidEventBus.dispatch("AdError",r),void this.destroy({error:r})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),Fr(this,"measurableVpaidDidCreate",e=>{this.measurableVpaidCreative=e}),Fr(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),Fr(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Object(xo.a)("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new Lo.a({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:n,videoSlotSize:a,visibilityRatio:o}=r.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:_r({win:window,slotSize:n.getValue(),videoSlotSize:a.getValue(),slotVisibilityRatio:o.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()})};ht(s),r.callbacks.onTrackEvent(s)})),this.playingStateValueSignal.add(i.onPlayingStateChange);let n=!1;t.visibilityRatio&&(n=t.visibilityRatio.getValue()>=hm),this.slotVisibilityStateValueSignal=new pd.a(n),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new bA,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),Object(Uo.a)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.subscribeVPAIDEvents()}subscribeVPAIDEvents(){var e=this;Object(Uo.a)(JA,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.vpaidDidDispatchEvent(t,r)}),t)})}vpaidDidDispatchEvent(e,t){const i=KA[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Lo.a({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Object(xo.a)("Track VPAIDMeasurer event=[error]"),m(i),this.callbacks.onAdError(i)}if("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdClickThru"===e&&(this.trackEncounters("click"),this.trackTrueView("click")),"AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const r=this.eventSniffers[e];void 0===r?this.vpaidEventBus.dispatch(e,...t):r(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Object(Ho.a)(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return Object(zo.a)(i)?Object($o.b)(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=Object(xs.a)(()=>{var i,r;return null===(i=(r=this.parameters).getAdditionalTrackingParameters)||void 0===i?void 0:i.call(r,{eventName:e,url:t})});return!Object(zo.a)(i)||Bi(i)?null:i}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new Lo.a({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const Vm=()=>qo,jm=()=>!1,Mm=()=>!1,Lm=e=>"2.0";var Bm,xm,Fm,Um,Hm,zm,Wm={},Gm=[],Ym=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;Bm={__e:function(e,t){for(var i,r;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(r=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(r=!0,i.componentDidCatch(e)),r)return Jr(i.__E=i)}catch(t){e=t}throw e}},Xr.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=zr({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&zr(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),Jr(this))},Xr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Jr(this))},Xr.prototype.render=qr,xm=[],Fm="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hm=Wm,zm=0;class qm extends Xr{static isValidPreactError(e){return T(e)||Object(au.a)(e)}static createPreactError(e){return T(e)?e:new Lo.a(e,{code:"PREACT_ERROR",details:{error:e}})}constructor(){var e,t,i;super(),e=this,t="initialRender",i=new pd.a({status:"initial"}),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.initialRender.addOne(e=>{"initial"!==e.status&&this.props.onFirstRender(e)})}componentDidCatch(e){const t=qm.createPreactError(e);Bo.c.error({error:t});const{status:i}=this.initialRender.getValue();"initial"===i?this.initialRender.dispatch({status:"error",error:t}):this.props.onRuntimeError(t)}componentDidMount(){this.initialRender.dispatch({status:"success"})}render(){return this.props.children}}const Xm=e=>Gr(qr,null,Object(Td.a)(e.components,(t,i)=>i(hn({},e.componentsProps,{children:t})),e.children));var Km,Qm,Jm,Zm=[],$m=Bm.__r,ef=Bm.diffed,tf=Bm.__c,rf=Bm.unmount;Bm.__r=function(e){$m&&$m(e),Km=0,(Qm=e.__c).__H&&(Qm.__H.__h.forEach(On),Qm.__H.__h.forEach(Sn),Qm.__H.__h=[])},Bm.diffed=function(e){ef&&ef(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==Zm.push(t)&&Jm===Bm.requestAnimationFrame||((Jm=Bm.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(_n))}},Bm.__c=function(e,t){t.some((function(e){try{e.__h.forEach(On),e.__h=e.__h.filter((function(e){return!e.__||Sn(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Bm.__e(i,e.__v)}})),tf&&tf(e,t)},Bm.unmount=function(e){rf&&rf(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){Bm.__e(e,t.__v)}}};const nf=un(Xo),af=e=>wn(e),of=()=>bn(nf),sf=un({element:document.body,window}),df=e=>{return{element:e,window:e.ownerDocument.defaultView}},lf=()=>bn(sf);Number(new Date);class cf{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const uf=new class{constructor(){Pn(this,"stylesUsingCounter",new cf),Pn(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,r=[];for(let n=0;n<i.length;n++){const[t,a]=i[n];if(a){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Cn(e,a),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}}return r.length?Object(bs.a)(()=>{Object(Uo.a)(r,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;const n=r.get(t);Object(jo.a)(n),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)})}):Vo.a}},hf=un({descriptionText:void 0,buttonText:"",onButtonClick:Vo.a,progress:0});var pf=i(139),Af=i.n(pf);const mf=e=>{let{children:t,onClick:i}=e;return In(Af.a),Gr("div",{className:pf.locals.PackshotButton,onClick:i},Gr("div",{className:pf.locals.PackshotButton__content},t))};var ff=i(146),vf=i.n(ff);const gf=e=>{let{width:t,height:i}=e;return In(vf.a),Gr("div",{className:ff.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var yf=function(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=Nn(e))&&(r&&(r+=" "),r+=t);return r};const bf=4,_f=e=>Math.floor(1e4*e)/1e4;var Of=i(84),Sf=i.n(Of);const Tf="#ff1a2d",Ef=e=>{let{currentNumber:t,count:i,color:r=""+Tf,adAnimationProgress:n}=e;In(Sf.a);const{width:a,transform:o}=function(e){let{currentNumber:t,count:i}=e;const r=bf*(i-1)/i,n="calc("+_f(100/i)+"% - "+_f(r)+"px)",a=t*bf;return{width:n,transform:"translateX("+("calc("+_f(100*t)+"% + "+_f(a)+"px)")+")"}}({currentNumber:t,count:i});return Gr("div",{className:Of.locals.TimelineBar__container,style:{width:a,transform:o}},Gr("div",{className:yf(Of.locals.TimelineBar,Of.locals.TimelineBar__background)}),Gr("div",{className:yf(Of.locals.TimelineBar,Of.locals.TimelineBar__progress),style:{transform:"scaleX("+n+")",backgroundColor:r}}))};var wf=i(85),Cf=i.n(wf);const Pf=()=>{In(Cf.a);const{width:e,height:t}=of(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:r,buttonText:n,onButtonClick:a,progress:o}=(()=>bn(hf))();return Gr("div",{className:wf.locals.PackshotScreen,style:{width:e+"px",height:t+"px"}},Gr("div",{className:wf.locals.PackshotScreen__packshotOverlayWrapper},Gr(gf,{width:e,height:t})),Gr("div",{className:wf.locals.PackshotScreen__buttonWrapper},Gr(mf,{onClick:a},n)),Object($d.a)(r)&&Gr("div",{className:wf.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},r),Gr("div",{className:wf.locals.PackshotScreen__timelineBarWrapper},Gr(Ef,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})))},If=[e=>Gr(sf.Provider,{value:df(e.container),children:e.children}),e=>Gr(nf.Provider,{value:af(e.containerSize),children:e.children}),e=>Gr(hf.Provider,{value:Dn(e),children:e.children})],Df=1e4;class Nf extends hd.a{constructor(e){var t,i,r;super(),this.props=e,t=this,i="shouldPlay",r=new pd.a(!0),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{duration:a,container:o,onButtonClick:s}=this.props,d=o.ownerDocument.defaultView,l=!n(a);this.addDestroyHandler(e=>{Object(xo.a)("Packshot: destroy packshot reason=["+e.reason+"]"),Bo.c.event({name:"PackshotDestroyed",data:{isInfiniteDuration:l,reason:e}})});const c=new pd.a(0);let u;this.addDestroyHandler(function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return cn(Gr(qm,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},Gr(Xm,{components:If,componentsProps:e},Gr(Pf,null))),t),()=>{cn(null,t)}}(Rn({},this.props,{onButtonClick:()=>{Bo.c.event({name:"PackshotButtonClicked",data:void 0}),s()},animationProgress:c,onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}))),Bo.c.event({name:"PackshotRendered",data:{isInfiniteDuration:l}}),l?(u=new sA(d,e=>{let{time:t}=e;const i=Math.atan(t/Df)/(.5*Math.PI);c.dispatch(i)}),this.addDestroyHandler(()=>{u.stop()}),u.start()):(u=new lA({win:d,duration:a*Ou,callback:e=>{c.dispatch(e)},onFinish:()=>{Bo.c.event({name:"PackshotTimelineFinished",data:void 0}),this.destroy({reason:"complete",details:void 0})}}),c.add(e=>{e>=1&&u.stop()}),this.addDestroyHandler(()=>{u.stop(),c.removeAll(),this.shouldPlay.removeAll()}),u.start()),this.shouldPlay.add(e=>{e?u.start():u.stop()})}setPlaying(e){this.shouldPlay.dispatch(e)}}const Rf={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class kf extends hd.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:r}=this.params;if(!Object(Zo.a)(r))throw new Lo.a({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let n,a;try{n=r({adParametersString:e,slot:t,externalLiveCycle:i})}catch(o){throw new Lo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!ld(n))throw new Lo.a({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{a=await n}catch(o){throw new Lo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),a}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Vf={startAd:()=>new Promise(Vo.a),stopAd:Vo.a};class jf extends hd.a{constructor(e){super(),this.params=e,Vn(this,"vpaidEventBus",new mm),Vn(this,"handshakeVersion",Lm),Vn(this,"subscribe",this.vpaidEventBus.subscribe),Vn(this,"unsubscribe",this.vpaidEventBus.unsubscribe),Vn(this,"resizeAd",Vo.a),Vn(this,"expandAd",Vo.a),Vn(this,"collapseAd",Vo.a),Vn(this,"getAdIcons",Mm),Vn(this,"getAdExpanded",jm),Vn(this,"setAdVolume",Vo.a),Vn(this,"getAdVolume",Vm),Vn(this,"initAd",Object(bs.a)(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),Vn(this,"videoStartedLatch",new cA),Vn(this,"adCreativeLatch",new cA),Vn(this,"completeLatch",new cA),Vn(this,"isPackshotStarted",new cA),Vn(this,"shouldPlay",new pd.a(!1)),Vn(this,"isPlaying",new pd.a(!1)),Vn(this,"remainingTime",new pd.a(LA)),Vn(this,"shouldPlayTimeCounter",new yA),Vn(this,"lifeCycleLatches",b({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>new cA(this.ignoreAfterDestroy(()=>{this.vpaidEventBus.dispatch(t)})))),Vn(this,"stopAdAndDestroyWrapper",Vo.a),Vn(this,"stopAnimation",Vo.a),Vn(this,"beforeDestroyLatch",new cA),Vn(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1)}),Vn(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0)}),Vn(this,"getAdHeight",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:uA}),Vn(this,"getAdWidth",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:hA}),Vn(this,"getAdLinear",()=>!1),Vn(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||jA}),Vn(this,"getAdRemainingTime",()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDurationConsideringDurationLimit(),i=t.getCurrentTime();if(n(e)&&$(i))return Math.max(e-i,0)}return MA}),Vn(this,"getAdSkippableState",()=>!0),Vn(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),this.addDestroyHandler(()=>{this.beforeDestroyLatch.dispatch(void 0)});const{videoParameters:t,videoNodeController:i,isNonLinear:r,animationParameters:a,slot:o,slotSize:s,packshotParameters:d,lang:l,getVPAIDLogDetails:c}=e;if(this.vpaidEventBus.subscribe(e=>{Bo.c.errorToStats(e)},"AdError"),this.addDestroyHandler(Object(bs.a)(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.beforeDestroyLatch.subscribe(()=>{this.remainingTime.removeAll()}),t){const e=()=>{this.isPlaying.dispatch(i.playingState.getValue()===Np.PLAY)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(t?a?this.adCreativeLatch.subscribe(()=>{this.startVideoPlaying(t,i)}):this.shouldPlay.addOne(()=>{this.startVideoPlaying(t,i)}):r||i.pause(),t?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(this.dispatchAdStarted),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:n}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(Object(Zo.a)(i)&&(this.getAdDuration=()=>i.call(e)),Object(Zo.a)(r)&&(this.getAdRemainingTime=()=>r.call(e),this.beforeDestroyLatch.subscribe(ri(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.stopAnimation=Object(bs.a)(()=>{e.stopAd()}),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(s.add(t=>{Object(Zo.a)(n)&&n.call(e,t)}))}),d){const{packshotImageUrl:e}=d;this.lifeCycleLatches.AdVideoThirdQuartile.subscribe(()=>{p(e)}),this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.isPackshotStarted.dispatch(d)}))}else this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.stopAdAndDestroyWrapper("complete")}));this.isPackshotStarted.subscribe(e=>{let{packshotDuration:t,packshotImageUrl:r,packshotActionButtonClickUrl:n,onPackshotStart:a,packshotButtonText:d}=e;this.stopAnimation(),i.pause(),a();const u=o.ownerDocument.createElement("div");v(u,kn({},Wd,{backgroundImage:"url("+r+")",backgroundPosition:"center",backgroundSize:"cover"})),o.appendChild(u);const h=new Nf({duration:t,container:u,containerSize:s,onButtonClick:()=>{this.vpaidEventBus.dispatch("AdClickThru",n,void 0,!0)},buttonText:d||_d("LEARN_MORE",l),descriptionText:void 0});this.shouldPlay.add(e=>{h.setPlaying(e)}),h.addDestroyHandler(e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(Bo.c.error({error:new Lo.a({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:c()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):this.stopAdAndDestroyWrapper("complete")}),this.addDestroyHandler(()=>{h.destroy({reason:"stopAd",details:void 0}),Object(jo.a)(u)})})}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null===(e=this.params.videoParameters)||void 0===e?void 0:e.getAutoplay();!t||i?(Object(xo.a)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):(Object(xo.a)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),Bo.c.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:Mo.a})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add(e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")})),this.stopAdAndDestroyWrapper=e=>{const t=Rf[e];this.vpaidEventBus.dispatch(t),this.destroy()},this.startAnimationPlaying().catch(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),this.beforeDestroyLatch.subscribe(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{durationLimit:i}=e,r=t.getDuration(),a=n(r)?r:void 0;if(a&&n(i))return Math.min(a,i);if(a)return a}}async startAnimationPlaying(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:r,videoParameters:n}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Vf);const{animationMediaFile:a,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:s}=e;let d=o();try{if(!Object(Zo.a)(d)){const{promise:e,teardown:i}=Dt({animationMediaFile:a,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(u){throw new Lo.a(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new kf({slot:r,adParametersString:s,externalLiveCycle:Boolean(n),initAdCreative:d});this.beforeDestroyLatch.subscribe(()=>{l.destroy()});const c=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}startVideoPlaying(e,t){const{videoSlotSize:i,videoContentSize:r,videoMediaFile:a,videoTimeout:o,bufferEmptyLimit:s,bufferFullTimeout:d,durationLimit:l,durationFallback:c,onVideoBufferingStateChange:u}=e;t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add(e=>{u(e)}));const{videoNode:h}=t,{clickThroughUrl:p,animationParameters:A,slot:m}=this.params;if(this.getAdVolume=()=>t.getVolume(),this.setAdVolume=e=>{0===e?t.setMuted(!0):t.setVolume(e)},t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange")),t.setSrc(a),void 0!==p){const e=()=>{this.vpaidEventBus.dispatch("AdClickThru",p,void 0,!0)};this.beforeDestroyLatch.subscribe(t.onClick.add(()=>{Bo.c.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:p}}),e()})),er(h)&&!AA&&this.beforeDestroyLatch.subscribe(yi(h,{cursor:"pointer"})),void 0===A&&(this.beforeDestroyLatch.subscribe(Object(Fd.a)({element:m,eventName:"click",listener:t=>{Bo.c.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:p}}),e()},ignoreBubbling:!0})),AA||this.beforeDestroyLatch.subscribe(yi(m,{cursor:"pointer"})))}this.beforeDestroyLatch.subscribe(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}));const f=t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")}),v=t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")});this.beforeDestroyLatch.subscribe(f),this.beforeDestroyLatch.subscribe(v),this.isPackshotStarted.subscribe(f),this.isPackshotStarted.subscribe(v);const g=()=>{const e=this.adCreativeLatch.getValue();if(!e||!Object(Zo.a)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();n(t)&&$(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(nr({durationFallback:c,durationLimit:l,videoNodeController:t,callbacks:kn({},b(this.lifeCycleLatches,e=>()=>{e.dispatch(void 0)}),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),g()},AdVideoComplete:e=>{if(e.completeOnDurationLimit){const{getVPAIDLogDetails:e}=this.params;Bo.c.event({name:"CreativeCompleteOnDurationLimit",data:{durationLimit:l,vpaidLogDetails:e()}})}this.completeLatch.dispatch(void 0)}})}));const y=new Error;this.shouldPlayTimeCounter.addCallback(o,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Lo.a(y,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:o,mediaFile:a}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}),this.beforeDestroyLatch.subscribe(tr({videoNodeController:t,bufferEmptyLimit:s,callback:()=>{const e=new Lo.a({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:s,mediaFile:a}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(ir({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new Lo.a({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:a}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add(()=>{Bo.c.event({name:"AdCreativeRestoreSeek",data:{},probability:Mo.a})})),this.beforeDestroyLatch.subscribe(()=>{t.setSeekAllowed(!0)}),this.beforeDestroyLatch.subscribe(t.onError.add(e=>{this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(t.currentPosition.add(()=>{g(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.shouldPlay.getValue()&&t.play();const _=this.shouldPlay.add(e=>{e?t.play():t.pause()});this.isPackshotStarted.subscribe(_),this.addDestroyHandler(_),this.beforeDestroyLatch.subscribe(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(Zo.a)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.beforeDestroyLatch.subscribe(r.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(Zo.a)(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:r,getVPAIDLogDetails:n}=this.params,a=r.getValue(),o=b(this.lifeCycleLatches,e=>i?Vo.a:()=>e.dispatch(void 0)),s=e.startAd({get slot(){return Object(yu.a)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),Bo.c.error({error:new Lo.a({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:n()})}),t},callbacks:kn({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const r=Object($d.a)(e)?e:this.params.clickThroughUrl;this.vpaidEventBus.dispatch("AdClickThru",r,t,i)})},o),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():a,size:a,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!ld(s))throw new Lo.a({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy(e=>{if(i)return;let t="complete";if(Object(zo.a)(e)){const i=e.reason;Object($d.a)(i)&&Boolean(Rf[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const Mf=15e4,Lf=Object(bs.a)(e=>{Bo.c.event({name:"IntersectionObserverMocked",data:{functionCode:g(()=>e.IntersectionObserver.toString())}})}),Bf=Object(bs.a)(()=>{Bo.c.event({name:"DocumentHiddenMocked",data:void 0})}),xf=Object(bs.a)(e=>{Bo.c.event({name:"IframeIntersectionObserverMocked",data:{functionCode:g(()=>e.IntersectionObserver.toString())}})}),Ff=Object(bs.a)(()=>{Bo.c.event({name:"IframeDocumentHiddenMocked",data:void 0})}),Uf=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],Hf=0,zf=.5,Wf="TRUE"===Th("DISABLE_SHADOW_ROOT")||void 0,Gf=5e3,Yf="2.0",qf=Object(ud.a)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class Xf extends hd.a{static getVpaidAd(e){return Hr(new Xf({outsideApi:e}))}handshakeVersion(){return Yf}stopAd(){Object(xo.a)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),Un(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,n,a){if(this.isDestroyed)return void Bo.c.error({error:new Lo.a({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:a}})});const o=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(a,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:Hn({},o,{videoSlot:void 0,slot:void 0})}]).then(Vo.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,zn(this,"unsubscribe",Vo.a),zn(this,"getAdIcons",Mm),zn(this,"getterValues",Object(dl.a)(Object(Ho.a)(qf,e=>[e,xA[e]]))),zn(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,r)=>{e.apply(i,r)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&Bo.c.error({error:new Lo.a({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?Bo.c.error({error:new Lo.a({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(Vo.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const Kf=e=>{let{versionSupported:t,versionToCheck:i}=e;const r=Object(Ho.a)(t.split("."),e=>parseInt(e,10)),n=Object(Ho.a)(i.split("."),e=>parseInt(e,10));for(let a=0;a<n.length;a++){const e=n[a],t=r[a],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},Qf=e=>Object(zo.a)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,Jf=["idle","load","init","start","play"];const Zf=e=>u(e)||!Pe(e),$f=e=>{const{adConfig:{secureMode:t}}=e,i=null!==nc&&void 0!==nc?nc:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!Zf(r.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class ev extends NA{constructor(e){super(e),qn(this,"onAdSkippableStateChange",new Bd.a),qn(this,"creative",void 0),qn(this,"adCreativeWrapper",void 0),qn(this,"adSkippableState",!1),qn(this,"canUseMediaAfterPlayback",!1),qn(this,"lifeCycleStage",new pd.a("idle",(e,t)=>{const i=Jf.indexOf(e);return Jf.indexOf(t)-i!==1&&Bo.c.error({error:new Lo.a({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:Yn({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),qn(this,"isOverlayWithoutVideo",null),qn(this,"startVpaidCreative",Object(bs.a)(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Object(xo.a)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();if(e.subscribe(Object(bs.a)(()=>{Object(xo.a)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),Bo.c.values({name:"VpaidCreativeStarted",probability:Mo.a,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted"),this.isOverlayWithoutVideo){const{promise:e,clear:t}=Object(wd.a)(Mf);e.then(()=>{this.destroy({reason:"error",details:this.parseVpaidError(new Lo.a({code:"AD_CREATIVE_MAX_PLAYING_DURATION_REACHED",details:void 0}),"VPAIDPlayingError")})}).catch(sd.a),this.addDestroyHandler(t)}})),qn(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:MA})})),qn(this,"creativeAdStartedCallback",ne(()=>{if(this.isDestroyed)return void Bo.c.error({error:new Lo.a({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||Bo.c.error({error:new Lo.a({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=Object(bs.a)(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Object(xo.a)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{Bo.c.error({error:new Lo.a({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),qn(this,"createContainerNode",Object(bs.a)(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{wrapperNode:r}=this.adDisplayController,n=r.ownerDocument.createElement("div");v(n,Yn({},Wd,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{v(n,{visibility:"visible"})}),this.addDestroyHandler(()=>{Object(jo.a)(n)}),r.appendChild(n);let a=null;return(t||i)&&(a=Ln(n))&&v(a,Wd),a||n})),qn(this,"prepareVpaidCreative",Object(bs.a)(async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new Lo.a({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});if(e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),"function"===typeof e.getAdUnitId){const t=e.getAdUnitId();t&&(Bo.c.event({name:"UsingVpaidAdUnitId",data:this.getVPAIDLogDetails(),probability:Mo.a}),Ru.addUnit(t))}this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),qn(this,"isAdPlayingCalled",!1),qn(this,"getVPAIDLogDetails",()=>({adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Si(this.adDisplayController.wrapperNode),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:r}=t;this.shouldPlayTimeCounter.addCallback(r,()=>{const e=this.getSrc(),n=this.lifeCycleStage.getValue(),{videoNodeController:a}=this.adDisplayController,o={timeout:r,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:n,videoNodeSrc:a.videoNode.src,adMediaState:this.adDisplayController.adMediaState.getValue()};this.isDestroyed?Bo.c.error({error:new Lo.a({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&Bo.c.error({error:new Lo.a({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Lo.a(i,{code:Gn({creativeLifeCycleStage:n,isYandexCreative:Zf(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:o})}))}),this.isStarted.addOne(()=>{this.addDestroyHandler(ri(this.updatePosition))}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(wd.a)(1e4);this.addDestroyHandler(e),t.then(()=>{Bo.c.error({error:new Lo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})}).catch(sd.a)}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(wd.a)(25e3);this.addDestroyHandler(e),t.then(()=>{Bo.c.error({error:new Lo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})}).catch(sd.a)}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&Bo.c.error({error:new Lo.a({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause"),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return Hf;const e=this.creative.getAdRemainingTime()||TA;return r(e)?this.getDuration()-e:Hf}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!r(e)||e<0?this.isStarted.getValue()?TA:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Object(xo.a)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Object(xo.a)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Object(xo.a)("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():BA}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return hA}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return uA}resizeAd(e,t,i){var r;void 0===i&&(i=tp.NORMAL),null===(r=this.creative)||void 0===r||r.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:zf;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.isDestroyed||(this.creative?this.creative.setAdVolume(e):this.adDisplayController.videoNodeController.setVolume(e))}startAndPauseVpaidCreative(e){Zf(this.getScriptSrc())&&(Object(xo.a)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),Bo.c.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:Mo.a,data:{vpaidSrc:this.getSrc()}}),Object(xo.a)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,{isNonLinear:n}=r,a=di(r),o=this.createContainerNode({isAdCreative:a,isNonLinear:n});let s;if(a){Object(xo.a)("[VpaidAdPodViewer]: play creative as AdCreative"),s=o;const{creative:i,wrapper:r}=this.wrapAdCreative(s);e=i,this.adCreativeWrapper=r,t=Object(bs.a)(()=>{try{Object(xo.a)("[VpaidAdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){const e=n?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";Bo.c.error({error:new Lo.a(t,{code:e,details:this.getVPAIDLogDetails()})})}})}else if($f(this.mediaAd)){Object(xo.a)("[VpaidAdPodViewer]: play creative via VASFrame");const i=ml({container:s=o,initTimeout:Gf});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler(()=>{this.destroy({reason:"error",details:new Lo.a({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{}})})}),this.addDestroyHandler(()=>{r.destroy(void 0)}),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const n=()=>Xf.getVpaidAd(r),a=this.getStandardVpaidCreative(n);e=a.creative,t=Object(bs.a)(()=>{Object(xo.a)("[VpaidAdPodViewer]: call VPAID stopAd method"),a.stopAd()}),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{Object(xo.a)("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=ep.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;v(r,Wd),s=r.contentDocument.body;const n=r.contentWindow;jn(n)&&Ff(),Mn(n)&&xf(n),Object(Uo.a)(Uf,e=>{this.addDestroyHandler(Object(Fd.a)({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))}),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const a=await this.loadVpaidMediaFile(n);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(a);e=d.creative,t=d.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne(()=>{Object(xo.a)("[VpaidAdPodViewer]: call stopAd in onBeforeDestroy callback"),t()}),Bo.c.values({name:"VpaidCreativeLoaded",probability:Mo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new Lo.a({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{clientWidth:d,clientHeight:l}=this.adDisplayController.videoNodeController.videoNode,c=this.getDesiredBitrate(),u={AdParameters:this.getAdParameters()},{canPlayMuted:h,canPlayUnMuted:p}=this.adDisplayController.autoplayAbilitySignal.getValue(),A={slot:s,videoSlot:this.adDisplayController.videoNodeController.videoNode,videoSlotCanAutoPlay:this.adDisplayController.videoNodeController.videoNode.muted?h:p,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:this.config.lang,skipDelay:this.config.skipDelay,controlsSettings:{controlsVisibility:jl},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},m=Fn({creative:e,isYandexCreative:Zf(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(m);const f=Date.now();return await new Promise((i,r)=>{m.subscribe(()=>{Object(xo.a)("VPAID dispatched AdLoaded event"),i(m)},"AdLoaded"),m.subscribe(e=>{Object(xo.a)("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(d,l,tp.NORMAL,c,u,A)}catch(n){throw Object(xo.a)("[VpaidAdPodViewer]: creative.initAd() error, call stopAd"),t(),new Lo.a(n,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),Bo.c.values({name:"VpaidCreativeInitialized",probability:Mo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-f},labels:{}}),m}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:r,mediaFiles:n,durationLimit:a}=i,o=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:l,adParameters:c},errors:u}=bt(o);ae(u);const h=(null===l||void 0===l?void 0:l.type)===Lc.Overlay;if(h!==r)throw new Lo.a({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(r&&!function(e){let{url:t}=e;return t===jc}(n[0]))throw new Lo.a({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{slotSize:p,videoContentSize:A,videoSlotSize:m,visibilityRatio:f}=this.adDisplayController,{videoTimeout:v,bufferFullTimeout:g,bufferEmptyLimit:y,packshotParameters:b}=this.adPodViewerPlaybackParams;let _,O;if(!r&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();if(e||(e=$t(d,{container:p.getValue(),desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),!e)throw new Lo.a({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d}});_={videoContentSize:A,videoSlotSize:m,videoMediaFile:Yn({},e,{url:Zu(e.url)}),videoTimeout:v,bufferFullTimeout:g,bufferEmptyLimit:y,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:a,getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}O=l&&"InteractiveElementsAdCreative"===Fc[l.url]?"IV":r?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";let S,T=e.ownerDocument.defaultView;if(l){S={animationMediaFile:l,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:c};const t=ep.createHidden({parentElement:e,scope:O,provideLogDetails:this.getVPAIDLogDetails});T=t.window,this.addDestroyHandler(()=>{t.destroy(void 0)}),t.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})})}return this.isOverlayWithoutVideo=h&&!_,function(e){const t=new jf(e),i=Hr(t);return{creative:Ur(()=>i,{visibilityRatio:e.visibilityRatio,visibilitySlot:e.visibilitySlot},{onStop:e=>{let{error:t,reason:i}=e;t?Bo.c.error({error:t}):Bo.c.event({name:"AdCreativeMeasured",probability:Mo.a,data:{stopReason:i}})},onInitMeasurer:e=>{Bo.c.event({name:"AdCreativeInitMeasurer",probability:Mo.a,data:{measurerData:e}})},onTrackEvent:e=>{At(e)},onExecutionError:e=>{Bo.c.error({error:e})},onAdError:e=>{let{error:t}=e;Bo.c.errorToStats(t)}})(),wrapper:t}}({adCreativeWindow:T,slot:e,visibilitySlot:this.adDisplayController.visibilitySlot,visibilityRatio:f,animationParameters:S,videoParameters:_,videoNodeController:this.adDisplayController.videoNodeController,isNonLinear:r,slotSize:p,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:b?Yn({},b,{onPackshotStart:()=>{this.packshotStartLatch.dispatch(void 0)}}):void 0,lang:this.config.lang})}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null===(e=t.adParametersObject)||void 0===e?void 0:e.theme,r="video-banner_theme_caucasus"===i,n="video-banner_theme_moroz"===i,a="video-banner_theme_lake"===i;tu(t)&&(r||n||a)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=Zf(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(ii(e,(e,i,r)=>{Bo.c.error({error:ei({scope:t,errorType:i,error:e,details:Yn({},this.getVPAIDLogDetails(),{error:e,data:r})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler($h(e,()=>{this.destroy({reason:"error",details:new Lo.a({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:void 0})})})),t;Bo.c.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=yh({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(r){throw new Lo.a(r,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:void 0})}}getStandardVpaidCreative(e){const t=Zf(this.getScriptSrc());if("function"!==typeof e)throw new Lo.a({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:Yn({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(a){throw new Lo.a(a,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=Object(bs.a)(()=>{Object(xo.a)("[VpaidAdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(a){Bo.c.error({error:new Lo.a(a,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!Qf(i))throw new Lo.a({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(Yf);if(!Kf({versionSupported:Yf,versionToCheck:n}))throw Object(xo.a)("[VpaidAdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new Lo.a({code:"VPAID_VERSION_ERROR",details:Yn({},this.getVPAIDLogDetails(),{playerSupportedVersion:Yf,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}subscribeCreativeEvents(e){e.subscribe(()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!==(e=null===(t=this.completeLatch.getValue())||void 0===t?void 0:t.canUseMediaAfterPlayback)&&void 0!==e&&e}})},"AdStopped"),e.subscribe((e,t,i)=>{this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange"),e.subscribe(this.updatePosition,"AdRemainingTimeChange");const t=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};e.subscribe(t,"AdStarted"),e.subscribe(()=>{Object(xo.a)("VPAID dispatched AdDurationChange event"),t()},"AdDurationChange"),e.subscribe(this.creativeAdStartedCallback,"AdStarted"),e.subscribe(()=>{Object(xo.a)("VPAID dispatched AdPaused event"),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{Object(xo.a)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const i=Object(bs.a)(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{i()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped");const r=Object(bs.a)(()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})});e.subscribe(()=>{Object(xo.a)("VPAID dispatched AdVideoComplete event"),r()},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new Lo.a({code:t,message:"String error from vpaid ["+e+"]",details:i}):T(e)?e:e?new Lo.a(e,{code:t,details:i}):new Lo.a({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}get videoNodeController(){return this.adDisplayController.videoNodeController}get config(){return this.adDisplayController.config}}const tv=e=>{const{adParametersObject:t}=e;if(!Object(zo.a)(t))return;if(!Object(zo.a)(t.subtitles))return;const{vtt:i}=t.subtitles;return Object($d.a)(i)?i:void 0},iv=500,rv=!1,nv=1e3,av="https://yandex.ru/socialads-transparency-report",ov=(e,t)=>{const i=ri(()=>{Si(e)||(i(),t())});return i};let sv;const dv=Qn("ACTION_BUTTON_MASK_BACKGROUND_COLOR"),lv=function(e){return"value"in e},cv=function(e){return"value"in e},uv={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:Zn(.6,.7,.61,1.09,.01)},hv="linear",pv={number:(e,t,i)=>{return t+(i-t)*e},boolean:(e,t)=>t},Av=un(e=>_d(e,vd)),mv=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>_d(e,i)},fv=()=>bn(Av),vv=un({actionButtonParameters:void 0,progress:0,clickThrough:Vo.a}),gv=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:r}=e;return{actionButtonParameters:wn(t),progress:wn(i),clickThrough:yn(e=>{r(e)},[])}},yv=()=>bn(vv),bv=Qn("ACTION_BUTTON_BACKGROUND_COLOR"),_v=Qn("ACTION_BUTTON_TEXT_COLOR");var Ov=i(140),Sv=i.n(Ov);const Tv=e=>{let{children:t}=e;return In(Sv.a),Gr("div",{className:Ov.locals.ActionButton,style:{backgroundColor:bv||""}},Gr("div",{className:Ov.locals.ActionButton__content,style:{color:_v||""}},t))},Ev=Qn("ACTION_BUTTON_INFO_BLOCK_TEXT_COLOR");var wv=i(86),Cv=i.n(wv);const Pv=e=>{let{title:t,domain:i}=e;In(Cv.a);const r=vn(null),n=vn(null),[a,o]=An(!1);fn(()=>{o(r.current.clientHeight>n.current.clientHeight)},[t]);const s=Gr("div",{ref:n,className:wv.locals.InfoBlock__titleSpy},t);return Gr("div",{className:yf(wv.locals.InfoBlock,a&&wv.locals.InfoBlock_multiline),style:{color:Ev||""}},s,Gr("div",{ref:r,className:wv.locals.InfoBlock__title},t),Gr("div",{className:wv.locals.InfoBlock__domain},i))};var Iv=i(74),Dv=i.n(Iv);const Nv=360,Rv=1080,kv=function(e,t){const i=t.y-e.y,r=t.x-e.x;return t=>e.y+(t-e.x)*i/r}({x:Nv,y:.14},{x:Rv,y:.07}),Vv=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32",jv=700,Mv=Jn([{durationPortion:200/jv,values:[-42,10]}],jv),Lv=Jn([{durationPortion:500/jv,value:0},{durationPortion:200/jv,values:[0,1]}],jv),Bv=Jn([{durationPortion:500/jv,value:0},{durationPortion:200/jv,values:[0,1]}],jv),xv=e=>{In(Dv.a);const{progress:t}=yv(),i=of(),{adaptiveHeight:r,adaptiveWidth:n}=function(e){let{height:t,width:i}=e;const r=Bt(Math.min(t,i),Nv,Rv),n=r*kv(r);return{adaptiveHeight:n,adaptiveWidth:280*n/48}}(i),a=fv(),o=a("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),s=a("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:d,domain:l="",onButtonClick:c,buttonLabel:u=s,punyDomain:h=l,disableAnimation:p=!1}=e,A=Bt(t*jv,0,jv),m=p?1:$n({position:A,unit:"number",steps:Lv}),f=p?10:$n({position:A,unit:"number",steps:Mv}),v=p?1:$n({position:A,unit:"number",steps:Bv}),g=""!==l,y=yf(Iv.locals.YoutubeLikeActionButton__wrapper,!g&&Iv.locals.YoutubeLikeActionButton__wrapper_wide);return Gr("div",{className:Iv.locals.YoutubeLikeActionButton,style:{height:r,maxWidth:n,fontSize:r/4}},Gr("div",{className:Iv.locals.YoutubeLikeActionButton__content},Gr("div",{className:Iv.locals.YoutubeLikeActionButton__mask,style:{opacity:m,maxWidth:n*v,backgroundColor:dv||""},onClick:c},Gr("div",{className:y},Gr(Pv,{domain:l,title:Object($d.a)(d)?d:o}),Gr(Tv,null,u))),g?Gr("div",{className:Iv.locals.YoutubeLikeActionButton__favicon,style:{left:f+"px"}},Gr("img",{src:Vv(h),alt:"favicon"})):null))},Fv=-1,Uv=-1===sh;var Hv=i(129);const zv=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),Wv=(e,t,i,r)=>{Object(zo.a)(t)?(r=Boolean(i),Object(Sl.a)(t,(t,i)=>{ta(e,i,t,r)})):ta(e,t,i,r)},Gv=Qi(window),Yv=Gv.requestAnimationFrame,qv=Gv.cancelAnimationFrame,Xv=.8,Kv=1.6,Qv=1.2,Jv=50,Zv=5,$v=2,eg=100,tg=1.8,ig=3,rg=.3,ng=.1;class ag extends hd.a{constructor(e){super(),this.params=e,ia(this,"blurWrapper",void 0),ia(this,"canvas",void 0),ia(this,"context",void 0),ia(this,"isPlaying",new pd.a(!1)),ia(this,"framesInterval",eg),ia(this,"lastTime",void 0),ia(this,"slowFramesCounter",0),ia(this,"slowDevice",!1),ia(this,"repaintTimeoutId",0),ia(this,"rafId",0),ia(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=rg;if(!this.isPlaying.getValue()||i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=br(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:n,clientHeight:a}=this.params.container,o=n/a,s=r.width/r.height,d=s-o;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:l}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=$v;l.drawImage(c,0,0,r.width,r.height,0,0,e,e),l.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else l.drawImage(c,0,0,r.width,r.height,0,0,u,h);l.globalAlpha=ng,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),ea(this.params.container,this.blurWrapper),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),Object(jo.a)(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[Kv,Math.max(e,Kv)];t&&i.reverse(),this.slowDevice||Wv(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){Wv(this.canvas,{opacity:e})}simplifyBlur(){const e=2*Zv,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const r="-"+Zv+"px";Wv(this.canvas,{left:r,top:r,transform:"",filter:"blur("+Zv+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=bi(this.params.videoNode).position;-1===Object(Hv.a)(["fixed","absolute"],t)&&(e["z-index"]="-1"),Wv(this.blurWrapper,e),Wv(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+Qv+") scaleY("+Qv+")",filter:"blur("+Jv+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=Yv(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),qv(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*tg?(this.slowFramesCounter++,this.slowFramesCounter>=ig&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,n=t<0,a=n?r.offsetHeight*e:r.offsetWidth/e,o=n?a:r.offsetWidth,s=n?r.offsetHeight:a,d=(n?i.offsetWidth:i.offsetHeight)/a*Xv;this.setCanvasSize(o,s),this.appendBlurScale(d*Xv,n)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const og=.1;var sg;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(sg||(sg={}));const dg=(e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}},lg=2,cg=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class ug{constructor(e){var t,i,r;r=void 0,(i="cues")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const{cues:n}=na(e);this.cues=n.sort((e,t)=>e.start-t.start)}findCuesByCurrentTime(e){return Object(Od.a)(this.cues,t=>this.isCueApplicable(t,e))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const hg=15,pg=1e3,Ag=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],mg="Fullscreen is not supported";class fg{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new Bd.a,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=function(e,t){const i=la(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&cp&&(this.onDestroy.addOne(Pi(t,"webkitbeginfullscreen",()=>{this.setFullscreenElement(t)})),this.onDestroy.addOne(Pi(t,"webkitendfullscreen",()=>{this.setFullscreenElement(null)}))),this.names=la(e,t),this.names&&(this.onDestroy.addOne(Pi(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(mg);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(mg);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(mg);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,this.handlers.forEach(t=>t(e))}}class vg{constructor(e){ca(this,"violatedSources",[]),ca(this,"unsubscribeEvent",void 0),ca(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const n={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(n)}),this.unsubscribeEvent=Object(Fd.a)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Object(eh.a)(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const gg=e=>{e.removeAttribute("src"),e.load()},yg=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class bg extends hd.a{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaSource=new e.MediaSourceConstructor,Object(Fd.a)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(xo.a)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new Lo.a(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})}),Object(xo.a)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Object(xo.a)("MSEController: detach BLOB URL"),gg(this.params.videoSlot)}),this.init().then(()=>{Object(xo.a)("MSEController: MSE successfully attached"),Bo.c.event({name:"MSEControllerAttachSuccess",data:{},probability:Mo.a})}).catch(e=>{Object(xo.a)("MSEController: init error"),Bo.c.error({error:new Lo.a(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Object(xo.a)("MSEController#reader: abort controller was already aborted"),void Bo.c.error({error:new Lo.a({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Object(xo.a)("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.src,{signal:e.signal});if(!t.body)throw new Lo.a({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Object(xo.a)("MSEController#reader: cancel reader"),Un(i.cancel())}),Object(xo.a)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Object(Fd.a)({element:this.mediaSource,eventName:"sourceopen",listener:e}));const e=this.mediaSource.addSourceBuffer(Rh);return Object(Fd.a)({element:e,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(xo.a)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Lo.a(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})}),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Object(xo.a)("MSEController#abort source buffer"),e.abort())}),Object(xo.a)("MSEController: got source buffer"),e}async doReadCycle(e,t){Object(xo.a)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+yg);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Object(Fd.a)({element:t,eventName:"updateend",listener:e}));if(!i.value)break;if(this.isDestroyed)return;if(yg){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Object(Fd.a)({element:t,eventName:"updateend",listener:e}));i=await e.read()}while(i.value);for(yg&&(Object(xo.a)("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise(e=>Object(Fd.a)({element:t,eventName:"updateend",listener:e}));Object(xo.a)("MSEController: read cycle complete")}async finalize(e){for(Object(xo.a)("MSEController#close streams");e.updating;)await new Promise(t=>Object(Fd.a)({element:e,eventName:"updateend",listener:t}));"open"===this.mediaSource.readyState?(Object(xo.a)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Object(xo.a)("MSEController#finalize: media source is closed")}}const _g=e=>{if(!Yh||!Fh)throw new Lo.a({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new bg(ua({},e,{MediaSourceConstructor:Fh}))},Og=e=>"canPlayMseForAbd"===Xt(e).mseAvailability,Sg=50,Tg=2;class Eg{constructor(e,t){this.video=e,this.onSeekRestore=t,ha(this,"unsubscribeVideoTimeupdate",void 0),ha(this,"lastLegalCurrentTime",void 0),ha(this,"lastTimestamp",void 0),ha(this,"seekAllowed",!0),ha(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Object(Fd.a)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<Sg)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*Tg}}const wg=1,Cg=Math.ceil(2/(Qh/Ou)),Pg=500,Ig=1e3,Dg=.25,Ng=1e3,Rg=1e3,kg=.1,Vg=dh.a;class jg extends hd.a{constructor(e){super(),this.videoNode=e,pa(this,"onClick",new Bd.a),pa(this,"currentPosition",new pd.a({currentTime:0,duration:0},dr)),pa(this,"playingState",new pd.a(this.videoNode.paused?Np.PAUSE:Np.PLAY)),pa(this,"onError",new Bd.a),pa(this,"onEnd",new Bd.a),pa(this,"onVolumeChange",new Bd.a),pa(this,"onPlay",new Bd.a),pa(this,"onPlayAfterPause",new Bd.a),pa(this,"onBufferingAfterPlay",new Bd.a),pa(this,"isBuffering",new pd.a(!1)),pa(this,"onPlaying",new Bd.a),pa(this,"fullscreenApi",void 0),pa(this,"onSeekRestore",new Bd.a),pa(this,"pauseRequest",new pd.a(-1)),pa(this,"seekController",void 0),pa(this,"cspErrorHandler",void 0),pa(this,"activeMSEController",void 0),this.seekController=new Eg(e,()=>this.onSeekRestore.dispatch(void 0));const t=er(e)?e.ownerDocument.defaultView:window;this.fullscreenApi=new fg(t,e),this.cspErrorHandler=new vg(t);let i=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:t,duration:r,paused:n,ended:a}=this.videoNode;switch(Object(xo.a)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:n,ended:a})+"]"),e){case Np.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case Np.END:this.onEnd.dispatch(void 0);break;case Np.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===Np.BUFFERING),i=e});const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Lo.a({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&Bo.c.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=Object(wd.a)(Ng);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(sd.a)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(Np.PLAY)},playing:()=>{this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}),this.onPlaying.dispatch(void 0),this.playingState.dispatch(Np.PLAY)}};this.subscribeClick(),this.subscribeTimeupdate(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler(()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll()})}play(){Object(xo.a)("VideoNodeController.play");const e=this.videoNode.play();ld(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||Bo.c.error({error:new Lo.a(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Object(xo.a)("VideoNodeController.pause"),this.pauseRequest.dispatch(Date.now()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=Og(e);Object(xo.a)("VideoNodeController.setSrc playWithMSE=["+r+"] url=["+t+"]"),Di(i,()=>{if(!r)return i.src=t,void i.load();const e=_g({src:t,videoSlot:i});this.activeMSEController=e,e.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{e.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentTime(){return function(e){const t=e.currentTime||0;return Math.max(0,t)}(this.videoNode)}getDuration(){return function(e){const t=e.duration||0;return Math.max(0,t)}(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return this.fullscreenApi.getFullscreenElement()===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Di(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:zf;e.volume=t}})}(this.videoNode,e)}getVolume(){return(e=this.videoNode).muted?0:e.volume;var e}setVolume(e){!function(e,t){Di(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:n,error:a}=e,o=a&&a.code,s={code:o,message:a&&a.message||"",src:t,currentSrc:i,currentTime:r,duration:n};if(!a||"undefined"===typeof MediaError)return new Lo.a({code:"VIDEO_ERROR",details:s});switch(o){case MediaError.MEDIA_ERR_ABORTED:return new Lo.a({code:"MEDIA_ERR_ABORTED",details:s});case MediaError.MEDIA_ERR_NETWORK:return new Lo.a({code:"MEDIA_ERR_NETWORK",details:s});case MediaError.MEDIA_ERR_DECODE:return new Lo.a({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:s});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new Lo.a({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:s});default:return new Lo.a({code:"MEDIA_ERROR_UNRECOGNIZED",details:s})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=lp>=11?da(this.videoNode,e):Object(Fd.a)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeTimeupdate(){let e=0;const t=()=>{this.seekController.isSeekingIllegal()||(e=Date.now(),this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}))},i=Object(Fd.a)({element:this.videoNode,eventName:"timeupdate",listener:t,options:{passive:!0}}),r=ri(()=>{const i=Date.now()-e;this.playingState.getValue()===Np.PLAY&&i>Pg&&(Object(xo.a)("dispatch synthetic timeupdate event for currentTime=["+this.videoNode.currentTime+"] duration=["+this.videoNode.duration+"] ended=["+this.videoNode.ended+"]"),t())});this.addDestroyHandler(i),this.addDestroyHandler(r)}subscribePause(){const{videoNode:e}=this,t=Object(Fd.a)({element:e,eventName:"pause",listener:()=>{this.getCurrentTime()>=this.getDuration()||this.playingState.dispatch(Np.PAUSE)},options:{passive:!0}}),i=ri(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===Np.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Object(xo.a)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Bo.c.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(Np.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Object(Fd.a)({element:this.videoNode,eventName:"ended",listener:()=>{this.seekController.isSeekingIllegal()||(this.getCurrentTime()+Dg>=this.getDuration()?this.playingState.dispatch(Np.END):Object(xo.a)("video ended ignored with currentTime=["+this.getCurrentTime()+"] duration=["+this.getDuration()+"]"))},options:{passive:!0}});let t=0,i=NaN;const r=ri(()=>{const e=this.getDuration(),r=this.getCurrentTime(),{paused:n}=this.videoNode,a=this.playingState.getValue();if(e>0&&r>=e)return void(a!==Np.END&&(Bo.c.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(Np.END)));const o=!n&&e>0&&r===i&&e-r<wg&&this.playingState.getValue()===Np.PLAY;i=r,o?t>=Cg?(t=0,a!==Np.END&&(Bo.c.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(Np.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=Vo.a;const t=gA(this.videoNode,t=>{const i=t?Np.BUFFERING:this.videoNode.paused?Np.PAUSE:Np.PLAY;if(e(),this.playingState.dispatch(i),t&&Vg){const{clear:t,promise:i}=Object(wd.a)(Rg);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const e=this.getCurrentTime()+kg;this.setCurrentTime(e);const{currentSrc:t,src:i}=this.videoNode;Bo.c.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:t,src:i,currentTime:this.getCurrentTime(),duration:this.getDuration()}})}).catch(sd.a)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Object(Fd.a)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}shouldIgnorePlayRejection(e){if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=Ig}}const Mg=e=>{if(!function(e){if(!Ct(e))return!1;const{adParametersObject:t,adParameters:i}=e;if(!Object(zo.a)(t))return!1;const{parsed:{animationMediaFile:r}}=bt(i);return!!r&&r.url===xc.ThemeEmpty}(e))return;const{adParametersObject:t}=e;return Object(zo.a)(t)?{parsedParameters:Yp(t),adParametersObject:t}:void 0},Lg=["left-bottom","right-bottom"],Bg=["left-bottom","right-bottom","left-center","right-center"],xg=140,Fg=e=>!1!==e.abuse,Ug={isCloseAvailable:!1,isCloseDialogActive:!1},Hg=(e,t,i,r)=>{const n=e[t];let a=n;return i?a=Object(Od.a)(n,e=>e!==r):i||Object(jd.a)(n,r)||(a=[...n]).push(r),va({},e,{[t]:a})};let zg=0;const Wg=100;class Gg{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}disableCreativePackshot(){this.config.packshotSettings={isEnabled:!1}}constructor(e){var t;let{config:i,videoNode:r,videoWrapperNode:a,renderSkin:o}=e;ba(this,"visibilityRatio",void 0),ba(this,"slotSize",void 0),ba(this,"videoContentSize",void 0),ba(this,"videoSlotSize",void 0),ba(this,"wrapperNode",void 0),ba(this,"slotDocument",void 0),ba(this,"slotWindow",void 0),ba(this,"visibilitySlot",void 0),ba(this,"onReady",new Bd.a),ba(this,"onBeforeDestroy",new Bd.a),ba(this,"onDestroy",new Bd.a),ba(this,"onBeforeAdStart",new Bd.a),ba(this,"onAdStart",new Bd.a),ba(this,"adSlowStart",new pd.a(!1)),ba(this,"onAdMediaStart",new Bd.a),ba(this,"onAdMediaEnd",new Bd.a),ba(this,"onAdEnd",new Bd.a),ba(this,"onAdSkipped",new Bd.a),ba(this,"onClickThrough",new Bd.a),ba(this,"isFinished",void 0),ba(this,"config",void 0),ba(this,"videoNodeController",void 0),ba(this,"videoNode",void 0),ba(this,"desiredBitrate",void 0),ba(this,"autoplayAbilitySignal",new pd.a(ga({},Cp))),ba(this,"onAdStartRejected",new Bd.a),ba(this,"adContentSize",new pd.a(void 0,dr)),ba(this,"onAdStop",new Bd.a),ba(this,"onAdStartRequest",new Bd.a),ba(this,"onAdPodPlayAdMedia",new Bd.a),ba(this,"onAdPodStartRequest",new Bd.a),ba(this,"onAdPodStart",new Bd.a),ba(this,"onAdPodImpression",new Bd.a),ba(this,"onAdPodFirstQuartile",new Bd.a),ba(this,"onAdPodMidpoint",new Bd.a),ba(this,"onAdPodThirdQuartile",new Bd.a),ba(this,"onAdPodPause",new Bd.a),ba(this,"onAdPodResume",new Bd.a),ba(this,"onAdPodError",new Bd.a),ba(this,"onAdPodComplete",new Bd.a),ba(this,"onAdPodClose",new Bd.a),ba(this,"onAdInteraction",new Bd.a),ba(this,"adMediaState",new pd.a({name:"idle"},dr)),ba(this,"isPackshotPlaying",new pd.a(!1)),ba(this,"actionButtonParameters",new pd.a(void 0,dr)),ba(this,"actionButtonAnimationProgress",new pd.a(0)),ba(this,"abuseParameters",new pd.a(kp,dr)),ba(this,"adVolume",new pd.a(qo)),ba(this,"adPodDuration",new pd.a(SA)),ba(this,"adHasBeenUnmuted",new pd.a(!1)),ba(this,"adVolumeAvailability",new pd.a(rv)),ba(this,"adPodRemainingTime",new pd.a(LA)),ba(this,"skinAnimationProgress",new pd.a(0)),ba(this,"timeToSkip",new pd.a(Fv)),ba(this,"adSkippableState",new pd.a(BA)),ba(this,"playingState",new pd.a("idle",(e,t)=>"idle"===t?(Bo.c.error({error:new Lo.a({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),ba(this,"adPodCloseState",new pd.a(Ug,dr)),ba(this,"adTuneState",new pd.a(jp,dr)),ba(this,"combinedSkinControlsVisibility",new pd.a({},dr)),ba(this,"adSystemType",new pd.a(void 0)),ba(this,"socialAdvertising",new pd.a(!1)),ba(this,"abuseScreenStatus",new pd.a("hidden")),ba(this,"pauseByOpenAbuseScreen",new pd.a(!1)),ba(this,"adPodsCount",new pd.a(0)),ba(this,"playingAdPodIndex",new pd.a(0)),ba(this,"adPodCurrentSubtitles",new pd.a([])),ba(this,"skinContainer",void 0),ba(this,"retainLastMediaAfterPlayback",!1),ba(this,"renderSkin",void 0),ba(this,"skinControlsHideReasons",new pd.a(Object(dl.a)(Object(Ho.a)(Vl,e=>[e,[]])))),ba(this,"isNonLinearAdPlaying",new pd.a(!1)),ba(this,"isCreativeWithOwnControls",new pd.a(!1)),ba(this,"vastAdControlsSettings",new pd.a(void 0)),ba(this,"shouldHandleResize",!0),ba(this,"emitAdEnd",void 0),ba(this,"viewersList",[]),ba(this,"currentViewer",void 0),ba(this,"nativeControlsHideStyle",void 0),ba(this,"adType",void 0),ba(this,"showAdCounter",0),ba(this,"shouldBlurBeVisibleByApiLogic",new pd.a(!0)),ba(this,"adPodBackground",new pd.a(void 0)),ba(this,"adPodDestroyReasonObjects",[]),ba(this,"destroyBlur",Vo.a),ba(this,"adVideoIsBuffering",new pd.a(!1)),ba(this,"onAdInteractionWrapper",dg(()=>{this.onAdInteraction.dispatch(void 0)},iv)),ba(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),ba(this,"prepareSkin",Object(bs.a)(()=>{const e=this.skinContainer;v(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px"});const t=Ln(e);t||Bo.c.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:n}=this.renderSkin(null!==t&&void 0!==t?t:e,this);i.catch(e=>{Bo.c.error({error:new Lo.a(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)}),r.catch(e=>{Bo.c.error({error:new Lo.a(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.onDestroy.add(()=>{n(),Object(jo.a)(e)})})),ba(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?av:_d("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),r=Date.now();if(Bo.c.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const n=lr(window.document,a=>{a&&(Bo.c.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),n(),i&&this.resume())});this.onDestroy.add(n)}),ba(this,"clickThrough",e=>{this.currentViewer&&this.currentViewer.clickThrough(e)}),ba(this,"abuseVariantChooseHandler",e=>{if(!this.currentViewer)return void Bo.c.error({error:new Lo.a({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{reason:t,action:i}=Vp[e];this.sendAdTuneTracking({actionId:i,reasonId:t}),this.currentViewer.destroy({reason:"close",details:void 0}),Bo.c.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:Mo.b}),this.closeAbuseScreen()}),ba(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),Bo.c.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:Mo.b}),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseScreenStatus.dispatch("selection")}),ba(this,"abuseScreenCloseHandler",()=>{Bo.c.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:Mo.b}),this.closeAbuseScreen()}),ba(this,"handleAbuseScreenCloseByResumeError",()=>{Bo.c.error({error:new Lo.a({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseScreenStatus.dispatch("hidden")}),ba(this,"getCurrentViewerAssets",()=>{const e=this.currentViewer;if(!e)return void Bo.c.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:Mo.b});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?Yp(t):void 0;if(!i)return Bo.c.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:Mo.b}),{logo:void 0,domain:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const r=null===i||void 0===i?void 0:i.assets,n=null===r||void 0===r?void 0:r.button,{abuseUrl:a}=this.abuseParameters.getValue(),o={logo:null===r||void 0===r?void 0:r.logo,domain:null===i||void 0===i?void 0:i.domain,punyDomain:null===i||void 0===i?void 0:i.punyDomain,title:null===i||void 0===i?void 0:i.title,body:null===i||void 0===i?void 0:i.body,age:null===i||void 0===i?void 0:i.ageRestriction,buttonCaption:null===n||void 0===n?void 0:n.caption,lang:this.config.lang,targetUrl:null===i||void 0===i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),sendAdTuneTracking:a?e=>{Bo.c.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:Mo.b}),this.sendAdTuneTracking(e)}:void 0,clickThrough:e.isClickable()?()=>{Bo.c.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:Mo.b}),e.clickThrough()}:void 0,clickThroughButtonAsset:n?()=>{Bo.c.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:Mo.b}),e.clickThrough({id:n.key,url:n.href})}:void 0};return Bo.c.event({name:"GetCurrentViewerAssetsReturnAssets",data:o,probability:Mo.b}),o}),ba(this,"subscribeInteractionHandlers",()=>{if(!sp(this.wrapperNode))return Vo.a;const e=[],t=er(this.videoNode);return Object(Uo.a)(Uf,i=>{e.push(Object(Fd.a)({element:this.wrapperNode,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Object(Fd.a)({element:this.wrapperNode,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))}),()=>Object(Ad.a)(e)}),this.onDestroy.add(this.onBeforeDestroy),jn(window)&&Bf(),Mn(window)&&Lf(window);const s=void 0===r.volume||void 0===r.muted;s&&Bo.c.error({error:new Lo.a({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:d,errors:l}=Kn(i);this.config=d,this.isFakeVideoElementWithoutVolumeChangeSupport=s,this.wrapperNode=a,this.slotDocument=this.wrapperNode.ownerDocument,this.slotWindow=this.slotDocument.defaultView,this.skinContainer=this.slotDocument.createElement("div"),this.renderSkin=o,this.onDestroy.add(ov(this.wrapperNode,()=>{this.destroy(new Lo.a({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0}))})),void 0!==d.visibilitySlot&&Bo.c.event({name:"UsingVisibilitySlot",probability:Mo.a,data:{config:this.config}}),this.visibilitySlot=null!==(t=d.visibilitySlot)&&void 0!==t?t:a;const c=new Am(this.visibilitySlot,{numberOfMeasurementSteps:qA});this.visibilityRatio=c.totalVisibilityRatioValueSignal,this.videoContentSize=new pd.a(void 0,dr),this.videoContentSize.add(e=>{Object(xo.a)("videoContentSize changed to "+JSON.stringify(e))}),this.onAdStart.addOne(()=>{this.onDestroy.add(function(e,t){const i=()=>{const i=br(e);t(i)},r=[];return r.push(Object(Fd.a)({element:e,eventName:"resize",listener:i}),ri(i)),()=>{Object(Ad.a)(r)}}(r,e=>{this.videoContentSize.dispatch(e)})),this.videoContentSize.dispatch(br(r))});const u=new im(a);if(this.slotSize=u.onResize,this.slotSize.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),this.onDestroy.add(()=>{u.destroy()}),er(r)){const e=new im(r);this.onDestroy.add(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotSize;this.onDestroy.add(()=>{c.destroy(void 0)}),ae(l),this.videoNode=r,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const h=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),h())});this.onAdPodPlayAdMedia.add(e=>{const{abuseUrl:t}=e.mediaAd.vastAd;this.abuseParameters.dispatch({abuseUrl:t})}),++zg===Wg&&Bo.c.error({error:new Lo.a({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),Bo.c.event({name:"CreateAdDisplayController",probability:Mo.a,data:{config:this.config}}),this.desiredBitrate=i.desiredBitrate,this.videoNodeController=new jg(r),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const p=this.config.controlsSettings;this.onDestroy.add(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,showGuiForVpaid:n,controlsSettingsFromConfig:a,slotSize:o,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:l,vastAdControlsSettings:c}=e,u={};return _([r,o,s,d,l,c],(e,t,r,o,s,d)=>{let{width:l}=t;if(!("idle"!==e)||!(l>=xg)||s&&!n||r)return jl;const c={controlsVisibility:b(o,e=>!(e.length>0)&&void 0)};return Ui(d,a,c,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},ne(e=>{t(u=e)},e=>{for(const i of Vl)if(e[i]!==u[i])return void t(u=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:p,slotSize:this.slotSize,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{const{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external"),this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(t.vastAd));const i=Xi(t.vastAd);this.vastAdControlsSettings.dispatch(i),this.actionButtonParameters.dispatch(function(e){const t=Mg(e);if(!Object(zo.a)(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!Object(zo.a)(i)||!Object(zo.a)(r))return;const n=Mi(i);if(!n)return;const{domain:a,punyDomain:o}=r;return{domain:a,punyDomain:o,clickUrl:n,buttonPlacement:Aa(i),oldButtonStyle:ma(i),label:Hi(i)}}(t.vastAd)),e.playbackPosition.subscribeValueConditionOnce(e=>{let{duration:t,remainingTime:i}=e;return!!n(t)&&(!!n(i)&&t-i>=1)},()=>{const t=new lA({win:window,duration:jv,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{t.stop()}});t.start(),e.addDestroyHandler(()=>{t.stop()})}),e.packshotStartLatch.subscribe(()=>{this.isPackshotPlaying.dispatch(!0)})}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Object(xo.a)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Object(xo.a)("mark slow start, actual passed time=["+t+"]ms"),Bo.c.event({name:"AdSlowStart",probability:Mo.a,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},nv),this.onAdStart.addOne(()=>{i()}),this.onDestroy.add(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.onDestroy.add(()=>{this.isFinished=!0,this.playingState.dispatch("end"),Object(Uo.a)(this.viewersList,e=>{e.destroy({reason:"destroy",details:void 0})}),this.viewersList.length=0,this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.timeToSkip.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&Bo.c.error({error:new Lo.a({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),Object(jo.a)(this.nativeControlsHideStyle)}),this.onDestroy.add(_([this.vastAdControlsSettings,this.abuseParameters,this.abuseScreenStatus],fa,e=>this.adPodCloseState.dispatch(e))),this.adPodCloseState.add(e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})}),this.onAdPodPlayAdMedia.add(e=>{this.adPodCurrentSubtitles.dispatch([]);const t=tv(e.mediaAd.vastAd);let i;if(t)try{i=new ug(t)}catch(r){Bo.c.event({name:"SubtitleProviderInitializationError",data:{message:r.message},probability:Mo.a})}Rp||e.addDestroyHandler(_([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],(e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i}),e=>{let{remainingTime:t,duration:r,isPackshotPlaying:n}=e;const a=Math.max(0,r-t);if(n)this.adPodCurrentSubtitles.dispatch([]);else if(i){const e=i.findCuesByCurrentTime(a);this.adPodCurrentSubtitles.dispatch(e)}}))}),this.prepareSkin()}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new Lo.a({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),r=er(this.videoNode)?Si(this.videoNode):void 0;if(!1===r){const e=sp(this.wrapperNode)?Si(this.wrapperNode):void 0;return Bo.c.error({error:new Lo.a({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:e}})}),Promise.resolve()}if(!e.mediaAds.length)return Bo.c.error({error:new Lo.a({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&Bo.c.event({name:"CallShowAdMultipleTimes",probability:Mo.a,data:void 0});const{adBreak:a}=e.getFirstMediaAd(),o=null!==(t=a.adType)&&void 0!==t?t:"preroll";return this.adType=o,this.isFinished=!1,new Promise((t,r)=>{this.wrapperNode.appendChild(this.skinContainer),this.viewersList=Object(Ho.a)(e.mediaAds,e=>{e.vastAd.trackingEvents=W(e.vastAd.trackingEvents,this.config.trackingEvents);const t={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:function(e){let{playbackParameters:t,secureMode:i,vastAd:r,adBreak:a}=e;const o=Ui(Xi(r),t.controlsSettings),{skipDelay:s,eventName:d}=Wi({vastAd:r,secureMode:i});let l;void 0!==d&&Bo.c.event({name:d,probability:Mo.a,data:void 0}),!0===t.backgroundBlur?l="blur":r.backgroundColor?l={color:r.backgroundColor}:!0===r.backgroundBlur&&!1!==t.backgroundBlur&&(l="blur");const c=!1===t.packshotSettings.isEnabled,u=Object(zo.a)(r.adParametersObject)&&!c?zi(r.adParametersObject):void 0;let h,p;var A,m;let f;var v,g;let y;var b,_;h=!0===t.showGuiForVpaid||(Boolean(r.imhoParams)||Ct(r)),p="number"===typeof t.bufferFullTimeout?t.bufferFullTimeout:null!==(A=null===(m=r.playbackAdParameters)||void 0===m?void 0:m.bufferFullTimeout)&&void 0!==A?A:a.bufferFullTimeout,f=n(t.bufferEmptyLimit)?t.bufferEmptyLimit:null!==(v=null===(g=r.playbackAdParameters)||void 0===g?void 0:g.bufferEmptyLimit)&&void 0!==v?v:a.bufferEmptyLimit,y=n(t.videoTimeout)?t.videoTimeout:null!==(b=null===(_=r.playbackAdParameters)||void 0===_?void 0:_.videoTimeout)&&void 0!==b?b:a.videoTimeout;const O=n(t.vpaidTimeout)?t.vpaidTimeout:a.vpaidTimeout,S=r.adParametersObject?Mi(r.adParametersObject):void 0,T="string"===typeof t.clickThroughUrl||r.isClickable&&Object($d.a)(r.clickThrough)||Object($d.a)(S);return{controlsSettings:o,background:l,showGuiForVpaid:h,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:s,bufferFullTimeout:p,bufferEmptyLimit:f,videoTimeout:y,vpaidTimeout:O,clickThroughUrl:Object($d.a)(t.clickThroughUrl)?t.clickThroughUrl:Object($d.a)(r.clickThrough)?r.clickThrough:Object($d.a)(S)?S:"",isClickable:T,packshotParameters:u}}({playbackParameters:this.config,secureMode:e.adConfig.secureMode,vastAd:e.vastAd,adBreak:e.adBreak})},i="js"===e.contentType?new ev(t):new VA(t);return i.adVideoIsBuffering.add(e=>this.adVideoIsBuffering.dispatch(e)),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i}),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:o}),this.onAdPodStart.addOne(()=>{Bo.c.values({name:"AdStarted",probability:Mo.a,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(o).then(()=>t()).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:o}),r(e)}),this.onDestroy.add(this.subscribeInteractionHandlers())}).catch(e=>{Bo.c.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:o}),this.destroyBlur()})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i,r,n=0;if(e&&(n=e.getBufferingTime()),e&&(i=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(r=function(e,t){let{type:i,url:r}=e,{vastAd:n}=t;if("js"!==Ot({type:i}))return"video";if(!u(r))return"external";try{const{adFormatType:e}=xe(n.adParameters);return e}catch(a){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return _r({win:this.slotWindow,slotSize:this.slotSize.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilityRatio.getValue(),videoNode:t,bufferingTime:n,adBreakType:i,adFormatType:r})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=tp.NORMAL),null===(r=this.currentViewer)||void 0===r||r.resizeAd(e,t,i)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const r=Ki(t);r?i(r):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void Bo.c.error({error:new Lo.a({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():Bo.c.error({error:new Lo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i}=e;const{abuseUrl:r}=this.abuseParameters.getValue();r||Bo.c.error({error:new Lo.a({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),ht({eventName:"close",trackingEventDetails:void 0,trackingUrls:[Object($o.b)(r,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions()})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:hA}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:uA}trackEvent(e,t){var i;null===(i=this.currentViewer)||void 0===i||i.trackEvent(e,t)}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Object(Uo.a)(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.wrapperNode.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}destroy(e){this.onDestroy.dispatch(e),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll()}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(Hg(this.skinControlsHideReasons.getValue(),e,t,i))}areAllAdPodsCompleted(){return $l(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getCurrentViewerIndex()>0)return Object(xo.a)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return Object(xo.a)("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Object(xo.a)("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Object(xo.a)("autoplay=["+e+"] due to playingStateValue"),e}return Object(xo.a)("autoplay=true due to default"),!0}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?Object(jo.a)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Cn(this.wrapperNode,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&this.resume(),this.abuseScreenStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=Vo.a;this.onDestroy.add(()=>t()),this.onDestroy.add(this.adPodBackground.add(i=>{Object(zo.a)(i)&&Object($d.a)(i.color)?t=yi(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(i||(t=function(e){if(!er(e))return;const{parentElement:t}=e;if(t)return t;Bo.c.error({error:new Lo.a({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Object(xo.a)("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!Hs(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Object(xo.a)("BackgroundBlur is presented in AdBreak"),!Uv)return void Object(xo.a)("BackgroundBlur is NOT supported");const r=new ag({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},Bo.c.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:Mo.a}),this.onDestroy.add(_([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotSize],(e,t,r,n)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const a=n.width/n.height,o=r.width/r.height-a;return Math.abs(o)>og},e=>{r.setPlaying(e)})),this.onDestroy.add(()=>null===r||void 0===r?void 0:r.destroy())}playAdMedia(e,t){this.currentViewer=e,this.onAdPodStartRequest.dispatch(void 0),e.trackEvent("onCreativeInit",void 0);let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?Bo.c.error({error:new Lo.a({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Mo.d&&Bo.c.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i)},labels:{contentType:e.contentType}})}),this.onAdPodPlayAdMedia.dispatch(e);const r=e.playingState.getValue();"idle"!==r&&Bo.c.error({error:new Lo.a({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:r}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):Bo.c.error({error:new Lo.a({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const n=this.getAutoplay();n&&(this.config.autoplay=!0),e.addDestroyHandler(e=>{const i=Ki(e);i&&(this.trackError(i),Bo.c.error({error:i}),si("AdPod playing error",i),this.onAdPodError.dispatch(i)),this.currentViewer=void 0,t(e)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),Bo.c.error({error:new Lo.a({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(n)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this;if(!this.getIfIsNonLinear()){!0===t.loop&&(t.loop=!1,this.onBeforeDestroy.addOne(()=>{t.loop=!0}));const e=function(e){if(!er(e))return Vo.a;const{controls:t}=e,i=e.getAttribute("poster"),r={autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},n=Ti(e,{crossorigin:null}),a=yi(e,{objectFit:""}),{parentElement:o}=e;return Object(bs.a)(()=>{E(e,r),e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n(),a(),Di(e,()=>{e.load()}),o&&o!==e.parentElement&&Bo.c.error({error:new Lo.a({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(e);const i=ra(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!er(e))return Vo.a;const t=e.getAttribute("src")||e.src||null,i=Object(Ho.a)(Object(Os.a)(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return Object(bs.a)(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Object(Uo.a)(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),Object(Rl.a)(t,(e,t)=>{i.setAttribute(t,String(e))})}),Di(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(()=>{this.isLastAdPodRetainedMedia()||r()})}let i;const r=$l(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:a}=this.config;this.videoNode;if(r?(Object(xo.a)("autoplayAbility=positive for independentOnVideoElement ad"),i=Pp):"boolean"===typeof a?(Object(xo.a)("autoplayAbility=["+a+"] due to videoSlotCanAutoPlay"),i=a?Pp:Cp):er(this.videoNode)?(Object(xo.a)("start autoplay ability request"),i=await this.requestAutoplayAbility(),Object(xo.a)("autoplayAbility=["+JSON.stringify(i)+"]")):(Object(xo.a)("autoplayAbility=positive for fake video element"),i=Pp),this.isFinished)throw new Lo.a({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(i),i.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),i.requireMute&&this.videoNodeController.setMuted(!0);const o=Object(bs.a)(()=>{this.onReady.dispatch(void 0)}),s=Object(bs.a)(()=>{this.onAdStart.dispatch({adType:e})});return Object(Uo.a)(this.viewersList,(t,i)=>{var r;t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(o),t.isStarted.addOne(s),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:r,playingState:a,isStarted:o,isBuffering:s,callback:d}=e;const l=new cA,c=new pd.a(-1);return l.subscribe(()=>c.removeAll),o.addOne(()=>{const e=new lA({win:t,duration:i.getValue()*Ou,callback:e=>{const t=Bt(e,0,1);d(t)},onFinish:Vo.a});c.add(t=>{$(t)&&e.adjustPosition(t)}),l.subscribe(()=>{e.stop()}),l.subscribe(_([r,i],(e,t)=>$(e)&&n(t)?(t-e)/t:-1,e=>{c.dispatch(e)})),l.subscribe(_([c,a,s],(e,t,i)=>$(e)&&"play"===t&&!i,t=>{t?e.start():e.stop()}))}),()=>{l.dispatch(void 0)}}({win:null===(r=this.wrapperNode.ownerDocument)||void 0===r?void 0:r.defaultView,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===Np.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.addDestroyHandler(()=>{this.adPodRemainingTime.dispatch(LA),this.skinAnimationProgress.dispatch(0)}),t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:a}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!di(e.mediaAd.vastAd)))})(t)?t.isStarted.addOne(()=>{t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;const r=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return Fv;if(r>i-lg)return Fv;if(!$(t))return Fv;const n=i-t;return r<=n?0:r-n}({remainingTime:i,duration:t,skipDelay:a});this.timeToSkip.dispatch(r)})}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:Fv)})}),new Promise(t=>{this.playAdViewers(e,()=>{t([])})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=Object(Ho.a)(this.viewersList,(t,i)=>r=>{if(this.timeToSkip.dispatch(Fv),this.isFinished){const e=new Lo.a({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),r()}const n=this.getAdPodContainerSizeError(t);if(n)return t.mediaAd.trackError(n),this.onAdPodError.dispatch(n),this.adPodDestroyReasonObjects.push({reason:"error",details:n}),Object(yu.a)('You are using unplayable "slot" sizes, check passed element dimensions.'),r();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Yi(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),r()})});let r=-1;!function e(){const n=i[++r];void 0!==n?n(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const t=this.slotSize.getValue();if(mr(t,AA))return;if(mr(this.wrapperNode.getBoundingClientRect(),AA))return;const i=0===t.width||0===t.height,r="none"===bi(this.wrapperNode).display;let n;return n=i?r?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new Lo.a({code:n,details:{slotSize:t,config:this.config,adConfig:e.mediaAd.adConfig}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=ki(e),n=new Dp(e,{checkSoundEnabled:i,promise:r});return{promise:n.promise,stop:n.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});return this.onDestroy.add(i),new Promise(r=>{t.then(t=>{Bo.c.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:Mo.a}),r(t)}).catch(()=>{this.isFinished||Bo.c.error({error:new Lo.a({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{Object(xo.a)("RAA stopped by playingState=["+e+"]"),i(),r(Pp)})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){const{mediaAd:i}=t[r];i.trackEvent(e,this.getAdPlacementOptions(t[r]),void 0)}this.stop()}getIfIsNonLinear(){return $l(this.viewersList,e=>e.isNonLinear())}}class Yg extends hd.a{constructor(e){let{videoSlot:t,slot:i,mediaAds:r,playbackParameters:n,onPlayAd:a,renderSkin:o}=e;super(),_a(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{this.adDisplayController.pause()})),_a(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{this.adDisplayController.resume()})),_a(this,"isPlayAdCalled",!1),_a(this,"adDisplayController",void 0),_a(this,"onAllAdPodComplete",new Bd.a),_a(this,"videoSlot",void 0),_a(this,"slot",void 0),_a(this,"mediaAds",void 0),_a(this,"playbackParameters",void 0),_a(this,"onPlayAd",void 0),_a(this,"lastMediaRetained",!1),_a(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,clickThrough:this.clickThrough,getCurrentViewerAssets:this.getCurrentViewerAssets})),_a(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),_a(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),_a(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:this.lastMediaRetained}}),_a(this,"playAd",()=>{if(this.isPlayAdCalled){f(new Lo.a({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy("adComplete")}).catch(sd.a)}),_a(this,"stopAd",()=>{this.destroy("stopAd")}),_a(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),_a(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),_a(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?Fv:this.adDisplayController.timeToSkip.getValue()),_a(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),_a(this,"getAdPodAdTuneState",()=>this.adDisplayController.adTuneState.getValue()),_a(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?qo:this.adDisplayController.getVolume()),_a(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),_a(this,"sendAdTuneTracking",e=>{let{actionId:t,reasonId:i}=e;Bo.c.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:Mo.a}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})}),_a(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?rv:this.adDisplayController.getAdVolumeAvailability()),_a(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),_a(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),_a(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():this.mediaAds.getDuration()),_a(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),_a(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():Bo.c.error({error:new Lo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),_a(this,"clickThrough",e=>{this.adDisplayController.clickThrough(e)}),_a(this,"getCurrentViewerAssets",()=>this.adDisplayController.getCurrentViewerAssets()),_a(this,"subscribe",(e,t)=>{if("function"!==typeof t)return Vo.a;const i=i=>{try{t(i)}catch(r){Bo.c.error({error:new Lo.a({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Object(sd.a)(r)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add(()=>{i({})});case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add(e=>{let t;"string"===typeof e.code?t=e.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",Bo.c.error({error:new Lo.a({code:t,details:{error:e}})})),i({code:t})});case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy.add(r);case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case"AdVolumeChange":return this.adDisplayController.adVolume.add(()=>{i({})});case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case"AdPlayingStateChange":return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return Vo.a}}),this.videoSlot=t,this.slot=i,this.mediaAds=r,this.playbackParameters=n,this.onPlayAd=a,this.adDisplayController=new Gg({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:o}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.adDisplayController.onDestroy.add(()=>{this.adDisplayController.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained=this.adDisplayController.isLastAdPodRetainedMedia()}),this.addDestroyHandler(()=>{this.adDisplayController.destroy()})}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{f(new Lo.a({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const qg=un({isAbuseSupported:!1,abuseButtonClickHandler:Vo.a,abuseScreenStatus:"hidden",abuseScreenCloseHandler:Vo.a,abuseVariantChooseHandler:Vo.a,pauseByOpenAbuseScreen:!1}),Xg=e=>{let{adDisplayController:t}=e;const i=wn(t.pauseByOpenAbuseScreen),r=wn(t.abuseScreenStatus),{abuseParameters:n,playingState:a}=t,{abuseUrl:o}=wn(n);return mn(()=>{const e=a.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==r&&t.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[r]),{isAbuseSupported:Boolean(o),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseScreenStatus:r,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i}},Kg=()=>bn(qg),Qg=un({layoutVariant:"regular"}),Jg=e=>{let{adDisplayController:t}=e;const{controlsVariant:i}=t.config.controlsSettings;return{layoutVariant:"banner"===i?"banner":"regular"}},Zg=()=>bn(Qg),$g={full:"ABUSE_SCREEN_DESCRIPTION",short:"ABUSE_SCREEN_DESCRIPTION_SHORT"},ey=e=>{return e.replace(/(<([^>]+)>)/gi,"")},ty=un({socialAdvertising:!1}),iy=e=>{let{adDisplayController:t}=e;return{socialAdvertising:wn(t.socialAdvertising)}},ry=()=>bn(ty),ny=450;var ay=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{d:"M1 1l24 24M1 25L25 1",stroke:"#F2F2F2","stroke-width":"2"},[])])};const oy=e=>{let{className:t}=e;return Gr(ay,{className:t})};var sy=i(103),dy=i.n(sy);const ly=e=>{let{children:t,isActive:i=!0,onClick:r,className:n,buttonClassName:a,contentClassName:o}=e;return In(dy.a),Gr("div",{className:yf(sy.locals.Button,n,{[sy.locals.Button_active]:i}),onClick:r},Gr("div",{className:sy.locals.Button__clickable},Gr("div",{className:a},Gr("div",{className:yf(sy.locals.Button__content,o)},t))))};var cy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{d:"M5.8 6l.34.34a.48.48 0 000-.68L5.8 6zM.66 1.54l4.8 4.8.68-.68-4.8-4.8-.68.68zm4.8 4.12l-4.8 4.8.68.68 4.8-4.8-.68-.68z",fill:"#fff"},[])])};const uy=e=>{let{className:t}=e;return Gr(cy,{className:t})};var hy=i(75),py=i.n(hy);const Ay=e=>{let{onClick:t,size:i,text:r,className:n}=e;In(py.a);const a=yf(hy.locals.AbuseVariantButton,n,{[hy.locals.AbuseVariantButton_middle]:"middle"===i}),o=yf(hy.locals.AbuseVariantButton__content,{[hy.locals.AbuseVariantButton__content_middle]:"middle"===i}),s=yf({[hy.locals.AbuseVariantButton__icon_middle]:"middle"===i}),d=yn(e=>{e.stopPropagation(),t()},[]);return Gr(ly,{className:a,contentClassName:hy.locals.AbuseVariantButton__basecontent,onClick:d},Gr("div",{className:o},r,Gr(uy,{className:s})))};var my=i(57),fy=i.n(my);const vy=()=>{In(fy.a);const e=fv(),t=of(),i=Oa(t),{width:r,height:n}=t,{abuseVariantChooseHandler:a,abuseScreenCloseHandler:o}=Kg(),{socialAdvertising:s}=ry(),d=e("ABUSE_SCREEN_TITLE"),l=gn(()=>b(Vp,(e,t)=>()=>a(t)),[a]),c=function(e){let{translate:t,socialAdvertising:i,abuseScreenWidth:r}=e;return i?{notInterestedSocialAd:t("ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD"),politicalSocialAd:t("ABUSE_VARIANT_POLITICAL_SOCIAL_AD"),shockingContentSocialAd:t("ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD"),falseInfoSocialAd:t("ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD")}:{notInterested:t("ABUSE_VARIANT_NOT_INTERESTED"),annoying:t("ABUSE_VARIANT_ANNOYING"),spam:t(r<600?"ABUSE_VARIANT_SPAM_SHORT":"ABUSE_VARIANT_SPAM")}}({translate:e,socialAdvertising:s,abuseScreenWidth:r}),u=function(e){if(!(e<350))return e<450?"short":"full"}(n),h=void 0===u?void 0:e($g[u]),p=Boolean(h),A=r<700,m=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?360:i?t>=400?320:240:t>=500?280:t>=400?240:200}({hasDescription:p,abuseScreenWidth:r}),f=n>200,v=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?27:i&&t>=400?25:t>=500?19:17}({hasDescription:p,abuseScreenWidth:r}),g={marginBottom:Ta({isShortDescription:"short"===u,abuseScreenWidth:r}),fontSize:r<400?11:13,lineHeight:r<400?"15px":"21px"};return Gr("div",{className:my.locals.AbuseScreen},Gr("div",{className:yf(my.locals.AbuseScreen__content,{[my.locals.AbuseScreen__content_centered]:A}),style:{width:m,paddingBottom:A&&f?"5%":0}},f&&Gr("div",{className:yf({[my.locals.AbuseScreen__title_centered]:!p}),style:{fontSize:v,marginBottom:r<500?7:14},dangerouslySetInnerHTML:{__html:ey(d)}}),p&&Gr("div",{style:g},h),Gr("div",{className:my.locals.AbuseScreen__buttons},Object(Ho.a)(Object(ud.a)(c),e=>Gr(Ay,{key:e,className:my.locals.AbuseScreen__button,size:Sa({abuseScreenWidth:r,hasDescription:p}),text:c[e],onClick:l[e]})))),Gr("div",{onClick:o,className:yf(my.locals.AbuseScreen__crossContainer,{[my.locals.AbuseScreen__crossContainer_medium]:"middle"===i})},Gr(oy,{className:my.locals.AbuseScreen__cross})))},gy=un({}),yy=e=>{let{adDisplayController:t}=e;return wn(t.combinedSkinControlsVisibility)},by=()=>bn(gy),_y=un({playingState:"idle",play:Vo.a,pause:Vo.a,isStarted:!1,isSlowStart:!1}),Oy={"play-circle-click":"SkinPlayByCircleButton","play-tgo":"SkinTGOPlayByButton","pause-tgo":"SkinTGOPausedByButton"},Sy=e=>{let{adDisplayController:t}=e;const[i,r]=An(!1),n=wn(t.playingState),a=wn(t.adSlowStart);return mn(()=>{const e=t.onAdStart.addOne(()=>{r(!0)});return()=>{e()}},[]),{playingState:n,play:yn(e=>{var i;t.resume(),Bo.c.event({name:null!==(i=Oy[e])&&void 0!==i?i:"SkinPlayByButton",data:{reason:e}})},[]),pause:yn(e=>{var i;t.pause(),Bo.c.event({name:null!==(i=Oy[e])&&void 0!==i?i:"SkinPausedByButton",data:{reason:e}})},[]),isStarted:i,isSlowStart:a}},Ty=()=>bn(_y),Ey=un({isPackshotPlaying:!1}),wy=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:wn(t)}},Cy=()=>bn(Ey),Py=un({timeToSkip:Fv,skipCurrentAdPod:Vo.a}),Iy=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:wn(i),skipCurrentAdPod:yn(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():Bo.c.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},Dy=()=>bn(Py),Ny={volumeStatus:"unavailable",setMuted:Vo.a},Ry=un(Ny),ky=e=>{let{adDisplayController:t}=e;const[i,r]=An(Ny.volumeStatus);mn(()=>{const{adVolume:e,adVolumeAvailability:i,adHasBeenUnmuted:n}=t,a=Ea({adVolume:e.getValue(),adVolumeAvailability:i.getValue(),adHasBeenUnmuted:n.getValue()});return r(a),_([e,i,n],(e,t,i)=>Ea({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),r)},[]);return{volumeStatus:i,setMuted:e=>{t.setMuted(e)}}},Vy=()=>bn(Ry),jy="DISABLE"===Th("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0;var My=i(147),Ly=i.n(My),By=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const xy=e=>{let{className:t}=e;return In(Ly.a),Gr(By,{className:yf(My.locals.MuteIcon,t)})};var Fy=i(87),Uy=i.n(Fy);const Hy=e=>{let{isActive:t=!0,className:i,size:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["isActive","className","size"]);In(Uy.a);const a=yf(Fy.locals.SquareButton,i,{[Fy.locals.SquareButton_active]:t,[Fy.locals.SquareButton_middle]:"middle"===r});return Gr(ly,wa({},n,{isActive:t,className:a,buttonClassName:Fy.locals.SquareButton__basebutton,contentClassName:Fy.locals.SquareButton__basecontent}))};var zy=i(88),Wy=i.n(zy);const Gy=e=>{let{onClick:t,size:i}=e;return In(Wy.a),Gr(Hy,{className:zy.locals.MuteButton,onClick:t,size:i},Gr("div",{className:zy.locals.MuteButton__content},Gr("div",{className:yf(zy.locals.MuteButton__iconContainer,{[zy.locals.MuteButton__iconContainer_middle]:"middle"===i})},Gr(xy,{className:zy.locals.MuteButton__icon}))))};var Yy=i(148),qy=i.n(Yy),Xy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const Ky=e=>{let{className:t}=e;return In(qy.a),Gr(Xy,{className:yf(Yy.locals.UnmuteIcon,t)})};var Qy=i(61),Jy=i.n(Qy);const Zy=e=>{let{onClick:t,size:i,unmuteText:r}=e;return In(Jy.a),Gr(Hy,{className:Qy.locals.UnmuteButton,onClick:t,size:i},Gr("div",{className:Qy.locals.UnmuteButton__content},Gr("div",{className:yf(Qy.locals.UnmuteButton__iconContainer,{[Qy.locals.UnmuteButton__iconContainer_middle]:"middle"===i})},Gr(Ky,{className:Qy.locals.UnmuteButton__icon})),r&&Gr("div",{className:yf(Qy.locals.UnmuteButton__text,{[Qy.locals.UnmuteButton__text_middle]:"middle"===i,[Qy.locals.UnmuteButton__without_text]:!r})},r)))},$y=()=>{const{volumeStatus:e,setMuted:t}=Vy(),i=yn(()=>{t(!0)},[]),r=yn(()=>{t(!1)},[]),n=Oa(of());if("unmuted"===e)return Gr(Gy,{onClick:i,size:n});const{layoutVariant:a}=Zg();let o;return"banner"!==a&&("mutedStart"===e&&"middle"===n)&&"DISABLE"!==jy&&(o=_d("UNMUTE",vd)),Gr(Zy,{onClick:r,unmuteText:o,size:n})};var eb=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const tb=e=>{let{className:t}=e;return Gr(eb,{className:t})},ib=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:r}=e;if(!t)return Gr(tb,{className:i});const[n,a]=t;return Gr("div",{className:r},Gr("span",null,n),Gr("span",null,a))};var rb=i(104),nb=i.n(rb);const ab=e=>{let{isActive:t,onClick:i,countdownString:r}=e;In(nb.a);const n=yn(e=>{e.stopPropagation(),i()},[]);return Gr(Hy,{className:yf(rb.locals.SkipButtonSmall,{[rb.locals.SkipButtonSmall__disabled]:!t}),onClick:n,size:"small",isActive:t},Gr("div",{class:rb.locals.SkipButtonSmall__content},Gr(ib,{timeToSkipString:r,iconClassName:rb.locals.SkipButtonSmall__timeToSkipString__icon})))};var ob=i(76),sb=i.n(ob);const db=e=>{let{isActive:t,onClick:i,skipText:r,countdownString:n}=e;In(sb.a);const a=yn(e=>{e.stopPropagation(),i()},[]);return Gr(Hy,{className:ob.locals.SkipButtonWithText,onClick:a,size:"middle",isActive:t},Gr("div",{className:ob.locals.SkipButtonWithText__content},Gr("div",{className:ob.locals.SkipButtonWithText__text},r),Gr("div",{className:ob.locals.SkipButtonWithText__timeToSkipString},Gr(ib,{timeToSkipString:n,iconClassName:ob.locals.SkipButtonWithText__icon,digitsContainerClassName:ob.locals.SkipButtonWithText__digitsContainer}))))};var lb=i(82);const cb=2,ub=()=>{const e=of(),{skipCurrentAdPod:t,timeToSkip:i}=Dy(),r=fv(),n=Oa(e),a=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return Object(lb.a)(String(t),cb,"0")}(i),o=0===i;return"small"===n?Gr(ab,{onClick:t,countdownString:a,isActive:o}):Gr(db,{onClick:t,skipText:r("SKIP"),countdownString:a,isActive:o})},hb=un(0),pb=e=>{let{skinAnimationProgress:t}=e;return wn(t)},Ab=()=>bn(hb),mb=un({adPodsCount:0,playingAdPodIndex:0}),fb=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:wn(t),playingAdPodIndex:wn(i)}};var vb=i(149),gb=i.n(vb);const yb=()=>{In(gb.a);const{adPodsCount:e,playingAdPodIndex:t}=(()=>bn(mb))(),i=Ab();return Gr("div",{className:vb.locals.Timeline},Object(Ho.a)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(e),r=>Gr(Ef,r<t?{key:r,adAnimationProgress:1,currentNumber:r,count:e}:r===t?{key:r,adAnimationProgress:i,currentNumber:r,count:e}:{key:r,adAnimationProgress:0,currentNumber:r,count:e})))},bb=un([]),_b=e=>{let{adDisplayController:t}=e;return wn(t.adPodCurrentSubtitles)};var Ob=i(141),Sb=i.n(Ob);const Tb=()=>{In(Sb.a);const e=(()=>bn(bb))();return e.length>0?Gr("div",{className:Ob.locals.Subtitles__container},Object(Ho.a)(e,e=>{let{text:t}=e;return Gr("div",{className:Ob.locals.Subtitles__subtitle},t)})):null};var Eb=i(142),wb=i.n(Eb);const Cb=()=>{In(wb.a);const{timeToSkip:e}=Dy(),{playingState:t}=Ty(),i=by(),{volumeStatus:r}=Vy(),{isPackshotPlaying:n}=Cy(),{layoutVariant:a}=Zg(),o="banner"===a,s="idle"!==t&&"unavailable"!==r&&!1!==i.mute,d=e!==Fv&&!1!==i.skip,l=!o&&!1!==i.timeline&&!n;return Gr(qr,null,Gr("div",{className:Eb.locals.BottomControls__container},Gr(Tb,null),!o&&Gr("div",{className:Eb.locals.ButtonControls},s&&Gr($y,null),d&&Gr(ub,null))),l&&Gr(yb,null))};var Pb=i(150),Ib=i.n(Pb),Db=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};Object(Zs.a)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const Nb=e=>{let{className:t}=e;return In(Ib.a),Gr(Db,{className:yf(Pb.locals.SpinnerIcon__css_animated,t)})},Rb=Nb;var kb=i(151),Vb=i.n(kb);const jb=e=>{let{className:t}=e;return In(Vb.a),Gr(Rb,{className:yf(kb.locals.Spinner,t)})};var Mb=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),Gr("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const Lb=e=>{let{className:t}=e;return Gr(Mb,{className:t})};var Bb=i(89),xb=i.n(Bb);const Fb=e=>{let{onClick:t,size:i}=e;In(xb.a);const r=yf(Bb.locals.CirclePlayButton,{[Bb.locals.CirclePlayButton_middle]:"middle"===i}),n=yf(Bb.locals.CirclePlayButton__icon,{[Bb.locals.CirclePlayButton__icon_middle]:"middle"===i});return Gr(ly,{className:r,contentClassName:Bb.locals.CirclePlayButton__basecontent,onClick:t},Gr(Lb,{className:n}))},Ub=()=>{const e=Oa(of()),{play:t}=Ty(),i=yn(()=>{t("play-circle-click")},[]);return Gr(Fb,{size:e,onClick:i})};var Hb=i(152),zb=i.n(Hb);const Wb=()=>{In(zb.a);const{playingState:e,isStarted:t,isSlowStart:i}=Ty(),r=by(),{layoutVariant:n}=Zg(),a="pause"===e,o=a&&!1!==r.play,s="banner"===n?a&&!t:o,d=!s&&!a&&!t&&i&&!1!==r.loader;return Gr("div",{className:Hb.locals.CenterControls},s&&Gr(Ub,null),d&&Gr(jb,null))};const Gb=i(118).a||"Multiroll"===ys.c||"Test"===ys.c?Vt("ENABLE_YOUTUBE_LIKE_BUTTON",["ENABLE_ON_DESKTOP_SIZE","ENABLED_WITH_POSITIONING","DISABLE_NO_ANIMATION"]):void 0,Yb=un(SA),qb=e=>{let{adDisplayController:t}=e;return wn(t.adPodDuration)},Xb=()=>bn(Yb),Kb=(e,t)=>{const{width:i,height:r}=e,{fontSize:n,lineHeight:a=n,noFontSizeLimit:o}=t,s=Math.min(r+i/20,Math.sqrt(i*i+r*r)/2);if(o)return{fontSize:n*s+"px",lineHeight:a*s+"px"};const d=Math.max(n*s,9);return{fontSize:d+"px",lineHeight:Math.max(a/n*d,9)+"px"}},Qb=()=>Gr("svg",{width:"1em",height:"1em",style:{margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},viewBox:"14 14 38 38"},Gr("g",{"fill-rule":"nonzero",fill:"currentcolor"},Gr("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})));var Jb=i(113),Zb=i.n(Jb);const $b=e=>{const{children:t,style:i,onClick:r}=e;return In(Zb.a),Gr("button",{style:i,className:Jb.locals.ArrowButton,onClick:r},Gr("span",{className:Jb.locals.ArrowButton__content},t&&Gr("span",{className:Jb.locals.ArrowButton__textContent},t),Gr(Qb,null)))},e_={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},t_=un(void 0),i_=e=>wn(e),r_=()=>bn(t_),n_=un(Xo),a_=e=>wn(e),o_=()=>bn(n_);var s_=i(65),d_=i.n(s_);const l_=e=>{let{disableAnimation:t=!1}=e;In(d_.a);const{actionButtonParameters:i,clickThrough:r}=yv();if(!i)return null;const{oldButtonStyle:n,buttonPlacement:a,label:o}=i,s=Ab(),d=Xb(),l=d*s,{adjacentSize:c,innerSize:u,extraHorizontalSpace:h}=Ca(),p={height:h?u:c,width:h?c:u},A=p.width>451&&!Object(jd.a)(["left-center","right-center"],a.position)?70:"",m=t?void 0:function(e,t,i){return{[i]:$n({position:e,unit:"number",steps:[{duration:.06*t,values:[-100,5],easing:Zn(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:5},{duration:.02*t,values:[5,4.9],easing:Zn(.5,1,.5,60,.01)},{duration:.04*t,values:[4.9,5],easing:Zn(.5,100,.5,-100,.01)}]})+"%"}}(l,d,a.side);return Gr("div",{className:yf({[s_.locals.OldActionButton__wrapper]:!0,[s_.locals.OldActionButton__bannerPosition_right_center]:"right-center"===a.position,[s_.locals.OldActionButton__bannerPosition_left_center]:"left-center"===a.position,[s_.locals.OldActionButton__bannerPosition_left_bottom]:"left-bottom"===a.position}),style:p},Gr("div",{className:s_.locals.OldActionButton__body,style:{bottom:A}},Gr("div",{className:s_.locals.OldActionButton__context}),Gr("div",{className:s_.locals.OldActionButton__buttonContainer,style:m},Gr($b,{style:Pa({},Kb(p,o?e_.buttonWithText:e_.buttonWithoutText),n),onClick:r},o))))};var c_=i(153),u_=i.n(c_);const h_=e=>{let{children:t,className:i}=e;In(u_.a);const r=Ca(),n=gn(()=>(function(e){let{extraHorizontalSpace:t,adjacentSize:i}=e;return{height:t?"100%":i+"px",width:t?i+"px":"100%",marginTop:t?"0px":-i/2+"px",top:t?"0px":"50%",marginLeft:t?-i/2+"px":"0px",left:t?"50%":"0px"}})(r),[r]);return Gr("div",{className:yf(c_.locals.VideoAvatar,i),style:n},t)};var p_=i(105),A_=i.n(p_);const m_=e=>{let{clickThrough:t,actionButtonParameters:i}=e;const{clickUrl:r,domain:n,label:a,buttonPlacement:o}=i;In(A_.a);const s=yn(()=>{t({url:r})},[r]),d="ENABLED_WITH_POSITIONING"===Gb,l=Gr("div",{className:p_.locals.SkinActionButton},Gr(xv,{disableAnimation:d,domain:n,buttonLabel:a,onButtonClick:s}));return d?Gr(h_,{className:yf({[p_.locals.SkinActionButton__position_right_center]:"right-center"===o.position,[p_.locals.SkinActionButton__position_left_center]:"left-center"===o.position,[p_.locals.SkinActionButton__position_right_bottom]:"right-bottom"===o.position})},l):l},f_=()=>{const e=Xb(),t=of(),{actionButtonParameters:i,clickThrough:r}=yv(),{isPackshotPlaying:a}=Cy(),{layoutVariant:o}=Zg();if(!1===by().actionButton)return null;if(!i)return null;if(a)return null;if(!n(e))return null;const s="DISABLE_NO_ANIMATION"===Gb;return s||"banner"===o||t.width<ny||void 0===Gb?Gr(l_,{disableAnimation:s}):Gr(m_,{clickThrough:r,actionButtonParameters:i})};var v_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 10h-4v12h4V10zm8 0h-4v12h4V10z",fill:"#fff"},[])])};const g_=e=>{let{className:t}=e;return Gr(v_,{className:t})};var y_=i(114),b_=i.n(y_);const __=e=>{let{onClick:t,size:i}=e;In(b_.a);const r=yf(y_.locals.PauseButton__icon,{[y_.locals.PauseButton__icon_middle]:"middle"===i});return Gr(Hy,{className:y_.locals.PauseButton,onClick:t,size:i},Gr(g_,{className:r}))};var O_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const S_=e=>{let{className:t}=e;return Gr(O_,{className:t})};var T_=i(115),E_=i.n(T_);const w_=e=>{let{onClick:t,size:i}=e;In(E_.a);const r=yf(T_.locals.SquarePlayButton__icon,{[T_.locals.SquarePlayButton__icon_middle]:"middle"===i});return Gr(Hy,{className:T_.locals.SquarePlayButton,onClick:t,size:i},Gr(S_,{className:r}))},C_=()=>{const{playingState:e,play:t,pause:i}=Ty(),r=Oa(of()),n=yn(()=>{i("pause-tgo")},[]),a=yn(()=>{t("play-tgo")},[]);return"play"===e?Gr(__,{onClick:n,size:r}):Gr(w_,{onClick:a,size:r})};var P_=i(154),I_=i.n(P_);const D_=()=>{In(I_.a);const{playingState:e,isStarted:t}=Ty(),{volumeStatus:i}=Vy(),r="pause"===e&&t,n="play"===e,a=n||r,o=(n||r||"end"===e)&&"unavailable"!==i;return Gr("div",null,Gr("div",{className:P_.locals.TgoButtonControls},a&&Gr(C_,null),o&&Gr($y,null)))};var N_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("g",{filter:"url(#svg-abuse-jsx-inline-1RCLVi9)",fill:"#fff"},[Gr("rect",{x:"13.5",y:"8.25",width:"3",height:"3",rx:"1.5"},[]),Gr("rect",{x:"13.5",y:"13.5",width:"3",height:"3",rx:"1.5"},[]),Gr("rect",{x:"13.5",y:"18.75",width:"3",height:"3",rx:"1.5"},[])]),Gr("filter",{id:"svg-abuse-jsx-inline-1RCLVi9",x:"-16",y:"-16",width:"62",height:"62",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[Gr("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},[]),Gr("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Gr("feOffset",{},[]),Gr("feGaussianBlur",{stdDeviation:"8"},[]),Gr("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Gr("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"},[]),Gr("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Gr("feOffset",{},[]),Gr("feGaussianBlur",{stdDeviation:"4"},[]),Gr("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Gr("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"},[]),Gr("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Gr("feOffset",{},[]),Gr("feGaussianBlur",{stdDeviation:"2"},[]),Gr("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Gr("feBlend",{mode:"normal",in2:"effect2_dropShadow",result:"effect3_dropShadow"},[]),Gr("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Gr("feOffset",{},[]),Gr("feGaussianBlur",{stdDeviation:"1"},[]),Gr("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Gr("feBlend",{mode:"normal",in2:"effect3_dropShadow",result:"effect4_dropShadow"},[]),Gr("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Gr("feOffset",{dy:"1"},[]),Gr("feGaussianBlur",{stdDeviation:".5"},[]),Gr("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"},[]),Gr("feBlend",{mode:"normal",in2:"effect4_dropShadow",result:"effect5_dropShadow"},[]),Gr("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect5_dropShadow",result:"shape"},[])]),Gr("clipPath",{id:"svg-abuse-jsx-inline-3qWaf6Y"},[Gr("path",{d:"M0 0h30v30H0z"},[])])])};const R_=e=>{let{className:t}=e;return Gr(N_,{className:t})};var k_=i(116),V_=i.n(k_);const j_=e=>{let{size:t,onClick:i}=e;return In(V_.a),Gr("div",{className:yf(k_.locals.AbuseButton,{[k_.locals.AbuseButton_middle]:"middle"===t}),onClick:i},Gr(R_,{className:k_.locals.AbuseButton__icon}))},M_=un({adSystemType:void 0,openAdSystemWebsite:Vo.a}),L_=e=>{let{adDisplayController:t}=e;return{adSystemType:wn(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var B_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Gr("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[Gr("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},x_=i(106),F_=i.n(x_);const U_=e=>{let{size:t,adSystemType:i,onClick:r}=e;In(F_.a);const n=fv(),a="yandex"===i;return Gr("span",{className:yf(x_.locals.AdLabel,{[x_.locals.AdLabel_middle]:"middle"===t,[x_.locals.AdLabel_withIcon]:a}),title:n("YANDEX_DIRECT"),onClick:r},a?Gr(B_,{className:x_.locals.AdLabel_icon}):n("AD_TITLE"))};var H_=i(155),z_=i.n(H_);const W_=e=>{let{onClick:t}=e;In(z_.a);const i=fv()("SOCIAL_ADVERTISING_AD_LABEL");return Gr("a",{className:H_.locals.SocialAdvertisingAdLabel,onClick:t},i)},G_=()=>{const e=Oa(of()),{adSystemType:t,openAdSystemWebsite:i}=(()=>bn(M_))(),{socialAdvertising:r}=ry();return r?Gr(W_,{onClick:i}):void 0===t||"yandex"===t?null:Gr(U_,{size:e,adSystemType:t,onClick:i})};var Y_=i(156),q_=i.n(Y_);const X_=()=>{In(q_.a);const{playingState:e}=Ty(),t=by(),{isAbuseSupported:i,abuseButtonClickHandler:r}=Kg(),n=Oa(of()),a=!1!==t.adLabel&&"idle"!==e,o=Fg(t)&&i;return Gr("div",{className:Y_.locals.TopControls},a&&Gr(G_,null),o&&Gr(j_,{onClick:r,size:n}))},K_=()=>{const{abuseScreenStatus:e}=Kg(),{layoutVariant:t}=Zg();return"selection"===e?Gr(vy,null):Gr(qr,null,Gr("banner"===t?D_:X_,null),Gr(Cb,null),Gr(Wb,null),Gr(f_,null))},Q_=[e=>Gr(sf.Provider,{value:df(e.slotElement),children:e.children}),e=>Gr(_y.Provider,{value:Sy(e),children:e.children}),e=>Gr(mb.Provider,{value:fb(e.adDisplayController),children:e.children}),e=>Gr(hb.Provider,{value:pb(e.adDisplayController),children:e.children}),e=>Gr(Yb.Provider,{value:qb(e),children:e.children}),e=>Gr(nf.Provider,{value:af(e.adDisplayController.slotSize),children:e.children}),e=>Gr(n_.Provider,{value:a_(e.adDisplayController.videoSlotSize)},e.children),e=>Gr(t_.Provider,{value:i_(e.adDisplayController.videoContentSize)},e.children),e=>Gr(Py.Provider,{value:Iy(e),children:e.children}),e=>Gr(Av.Provider,{value:mv(e),children:e.children}),e=>Gr(gy.Provider,{value:yy(e),children:e.children}),e=>Gr(Ry.Provider,{value:ky(e),children:e.children}),e=>Gr(Qg.Provider,{value:Jg(e),children:e.children}),e=>Gr(qg.Provider,{value:Xg(e),children:e.children}),e=>Gr(M_.Provider,{value:L_(e),children:e.children}),e=>Gr(ty.Provider,{value:iy(e),children:e.children}),e=>Gr(vv.Provider,{value:gv(e.adDisplayController),children:e.children}),e=>Gr(Ey.Provider,{value:wy(e.adDisplayController),children:e.children}),e=>Gr(bb.Provider,{value:_b(e)},e.children)];const J_=(e=>(t,i)=>{const r=new Bd.a,n=new Bd.a,a=new Bd.a,o=new Promise((e,t)=>{r.addOne(()=>{r.removeAll(),n.removeAll(),e()}),n.addOne(e=>{r.removeAll(),n.removeAll(),t(e)})}),s=new Promise((e,t)=>{a.addOne(()=>{t()})}),d=Gr(qm,{onFirstRender:e=>{"success"===e.status?r.dispatch(void 0):n.dispatch(e.error)},onRuntimeError:()=>{a.dispatch(void 0)}},Gr(Xm,{components:Q_,componentsProps:{adDisplayController:i,slotElement:t}},e()));return Object(xo.a)("Skin: render skin"),cn(d,t),{firstRenderPromise:o,runtimeErrorPromise:s,clear:()=>{r.removeAll(),n.removeAll(),Object(xo.a)("Skin: destroy skin"),cn(null,t)}}})(()=>Gr(K_,null));var Z_=new WeakMap,$_=new WeakMap,eO=new WeakMap,tO=new WeakMap,iO=new WeakMap,rO=new WeakMap,nO=new WeakMap;class aO{constructor(e,t){var i=this;Z_.set(this,{writable:!0,value:void 0}),$_.set(this,{writable:!0,value:[]}),eO.set(this,{writable:!0,value:[]}),tO.set(this,{writable:!0,value:void 0}),iO.set(this,{writable:!0,value:void 0}),Da(this,"createPlaybackController",(function(e,t,r){void 0===r&&(r={}),Bo.c.event({name:"CreatePlaybackController",probability:Mo.a,data:{config:r}});const n=Ia(r,["autoplay"]),{config:a,errors:o}=Kn(n);ae(o);const s="VideoBannerAd"===ys.c||"Test"===ys.c,d=r.renderSkin,l=new Yg({videoSlot:e,slot:t,mediaAds:Na(i,tO),playbackParameters:a,onPlayAd:()=>Na(i,rO).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:J_}).getPublicInstance(),c=Object(Od.a)(Na(i,eO),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return Object(Uo.a)(c,e=>{let{handler:t}=e;return t({playbackController:l})}),l})),Da(this,"showAd",(function(e,t,r){void 0===r&&(r={}),Na(i,rO).call(i,"AdStoreShowAd");const n=i.createPlaybackController(e,t,r);Na(i,$_).push(n);const a=new Promise(e=>{n.subscribe("AdStopped",()=>{Ra(i,$_,Object(Od.a)(Na(i,$_),e=>e!==n)),e()})});return n.playAd(),a})),Da(this,"getAdDuration",()=>Na(this,tO).getDuration()),Da(this,"separateAdPods",()=>Object(Ho.a)(Na(this,tO).mediaAds,e=>{const t=new aO(new op([e]),Na(this,iO));return Object(Uo.a)(Na(this,eO),e=>{let{event:i,handler:r}=e;t.subscribe(i,r)}),t})),Da(this,"getAdSourceTypes",()=>Object(Od.a)(Object(Ho.a)(Na(this,tO).mediaAds,e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),Da(this,"setStatsRootFields",e=>{Bo.c.setRootFields(e)}),Da(this,"hasNotReplacedBroadcastAd",()=>Hs(Na(this,tO).mediaAds,e=>e.isNotReplacedBroadcastAd())),Da(this,"hasYandexCreative",()=>Hs(Na(this,tO).mediaAds,e=>e.getIsYandexCreative())),Da(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=Object(Ho.a)(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(Na(this,iO))),Da(this,"destroy",()=>{Object(Uo.a)(Na(this,$_),e=>{e.stopAd()}),Na(this,$_).length=0,Na(this,nO).call(this,"AdStoreDestroy"),Ra(this,Z_,void 0),Na(this,eO).length=0}),Da(this,"preload",e=>{let{preloadTimeout:t=Dl}=e,i=Ia(e,["preloadTimeout"]);if(Object(Zo.a)(Object(oc.a)(window)))return Promise.resolve();const r=Object(wd.a)(t).promise.then(()=>Na(this,nO).call(this,"Timeout"));if(void 0===Na(this,Z_)){const e=Object(Ho.a)(Na(this,tO).mediaAds,e=>e.preload(i));Ra(this,Z_,Promise.all(e).then(Vo.a))}return Promise.race([Na(this,Z_),r])}),Da(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=V(Na(this,tO).mediaAds,e=>e.getIfIsRequiredHtmlControls());Ra(this,tO,new op(i)),Object(Uo.a)(t,t=>{t.trackError(new Lo.a({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),Da(this,"preventPlaying",(e,t)=>{Object(Uo.a)(Na(this,tO).mediaAds,i=>{i.trackError(new Lo.a({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),Ra(this,tO,new op([]))}),Da(this,"getAdPodsCount",()=>Na(this,tO).mediaAds.length),Da(this,"subscribe",(e,t)=>(Na(this,eO).push({event:e,handler:t}),()=>{Ra(this,eO,Object(Od.a)(Na(this,eO),i=>{return!(i.event===e&&i.handler===t)}))})),rO.set(this,{writable:!0,value:e=>{Object(Uo.a)(Na(this,tO).mediaAds,t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),nO.set(this,{writable:!0,value:e=>{Object(Uo.a)(Na(this,tO).mediaAds,t=>{t.cancelPreloading(e)})}}),Ra(this,tO,e),Ra(this,iO,t)}}class oO extends hd.a{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:r,adPlacementOptions:n}=e;if(super(),ka(this,"whenVmapLoaded",void 0),ka(this,"adBreak",void 0),ka(this,"vmap",void 0),ka(this,"adConfig",void 0),ka(this,"adPlacementOptions",void 0),ka(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),ka(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),ka(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Lo.a({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new aO(t,i)}catch(e){throw si(e),Bo.c.errorToStats(e),e}}),ka(this,"getInPageBlock",()=>gi(this.getAdBreaks(),"inpage")[0]),ka(this,"getPrerollBlock",()=>gi(this.getAdBreaks(),"preroll")[0]),ka(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?function(e,t){return Object(eh.a)(e,e=>e.impId===t)}(this.getAdBreaks(),e):gi(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=r,this.adPlacementOptions=n,Object(xo.a)("AdLoader: create"),Bo.c.event({name:"CreateAdLoader",probability:Mo.a,data:{adConfig:t,adBreak:r}}),ac({secureMode:t.secureMode,url:void 0})){const e=yl();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:Gf})}i.then(e=>{this.vmap=e}).catch(e=>{Bo.c.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new Lo.a({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return vi({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}const sO={start:"preroll",end:"postroll"},dO=Object(ud.a)({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),lO="linear,nonlinear",cO="linear",uO="nonlinear",hO=0,pO=0,AO=0,mO={dark:"dark",light:"light"},fO={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},vO=e=>{const t=La("Collapse",e);return!0===La("Repeat",e)?"auto":!1===t?"manual":null},gO=e=>{if(!Object(zo.a)(e))return;const{preferableAdSize:t}=e;if(!Object(zo.a)(t))return;const{width:i,height:r}=t;return n(i)&&n(r)?{width:i,height:r}:void 0},yO=Object(ud.a)(tc),bO=e=>{if(!Object(zo.a)(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==yO.indexOf(t)?t:"Unsafe"},_O=async e=>{let{url:t,vmapLoadParams:i,timeout:r}=e;const a=Date.now();let o;Bo.c.event({name:"VmapLoadStart",data:i,probability:Mo.a});try{const e=!Object(Zo.a)(Object(oc.a)(window)),i="boolean"===typeof Nd?Nd:e;o=await re({url:t,data:null,timeout:r,withCredentials:i})}catch(l){const e=ql({thrownError:l,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw Bo.c.error({error:e}),e}const{responseStatus:s,responseText:d}=o;if(200!==s){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(d);if(n(e))throw new Lo.a({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:Qa({},i,{responseStatus:s,disabledPageId:e})});throw new Lo.a({code:"INVALID_VMAP_RESPONSE_STATUS",details:Qa({},i,{responseStatus:s,responseText:o.responseText})})}try{const e=Ka(i.config),{vmap:t,events:r,errors:n}=Ha({vmapXmlObject:o,vmapLoadParams:i,vmapAdBreaksConfig:e});return ae(n),Object(Uo.a)(r,e=>Bo.c.event(Qa({labels:void 0},e))),Bo.c.values({name:"VmapLoadSuccess",data:Qa({},i,{vmap:t}),probability:Mo.a,labels:{},values:{timeSpent:Date.now()-a}}),t}catch(l){throw Bo.c.errorToStats(l),l}},OO=3e3;var SO=i(107);const TO=()=>Object(SO.a)()/Ou,EO="adsdksessionwatchedtimesinceadmap",wO=0;class CO{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=TO}=e;if(!i)return;const n=Ja(i);n[t]=r();try{i.setItem(EO,JSON.stringify(n))}catch(a){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:r=TO}=e;if(!i)return wO;const a=Ja(i)[t];if(!n(a))return wO;const o=r();if(!n(o))return wO;const s=o-a;return n(s)?s:wO}({category:t,storage:this.storage})}}const PO="https://an.yandex.ru/vmap/",IO=e=>{const{category:t,startWatchedTime:i,vmapScenarioId:r}=e,n=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),a=ju(e);let o;try{o=new CO}catch(d){}let s=wO;return"number"===typeof t&&o&&(s=o.getWatchedTimeSinceAd({category:t})),Za({},a,n,{"vmap-scenario-id":void 0===r?void 0:String(r),wtime:"number"===typeof i?String(Math.floor(i)):void 0,"wtime-since-ad":String(Math.floor(s)),client_type:"html"})};class DO{constructor(){$a(this,"adBreaks",[]),$a(this,"isSingleVideoSession",!1)}static async load(e,t){const i=Ga(e),r=function(e){let{config:t,adPlacementOptions:i=Ko,win:r=window}=e;const{partnerId:n}=t;if(!n)throw new Lo.a({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const a=IO(t),o=h({url:Object($o.b)(""+PO+n,a),ignoreAbd:!0,options:i}),s=Object(oc.a)(r);return"function"===typeof s?s(Object($o.b)(o,{abd:"1"})):o}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:n}=i;let a=OO;n&&(a=n);const o={url:r,config:e,timeout:a};return await _O({url:r,vmapLoadParams:o,timeout:a})}}const NO={impId:hO,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},RO={adTagURI:"",adFoxParameters:void 0},kO=eo({adType:"preroll"},RO,NO),VO="0",jO=ro({adType:"inpage",replayMode:null,stick:!1},RO,NO),MO={repeatAfter:AO,maxRepeatCount:pO,repeatNumber:0,timeOffset:10},LO=no({adType:"midroll",broadcastReplace:!1},RO,MO,NO),BO=ao({adType:"overlay"},RO,MO,NO),xO=oo({adType:"postroll"},RO,NO),FO={inpage:jO,preroll:kO,midroll:LO,postroll:xO,overlay:BO},UO=Object(ud.a)(FO),HO=async function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===r&&(r=Ko);const{adConfig:n,adBreak:a,warnings:o}=function(e,t,i){const{vastBase64:r,adBreakType:n}=e,a=co(e,["vastBase64","adBreakType"]),o=[],s=qa(a),{config:{videoContentId:d},errors:l}=s,c=co(s.config,["videoContentId"]);o.push(...l);const u=lo({},c,{videoContentId:io(d)});let h,p;if(r&&(u.vast=S(r)),so(n)?p=n:t&&(o.push(new Lo.a({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),so(i)&&(p=i)),p){const e=Ka(a);h=lo({},FO[p],e)}return{adConfig:u,adBreak:h,warnings:o}}(e,t,i);ae(o);const{adFoxParameters:s}=n;if(s){const e=a||kO,t=new DO;return t.adBreaks=[e],new oO({adConfig:n,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:r})}if(a){const e=new DO;return e.adBreaks=[a],new oO({adConfig:n,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:r})}if(n.vmap){const e=(e=>{const t=j(e),{vmap:i,events:r,errors:n}=Ha({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ae(n),Object(Uo.a)(r,e=>Bo.c.event(to({labels:void 0},e))),i})(n.vmap);return new oO({adConfig:n,whenVmapLoaded:Promise.resolve(e),adPlacementOptions:r})}const d=DO.load(n,r),l=new oO({adConfig:n,whenVmapLoaded:d,adPlacementOptions:r});return d.catch(()=>{l.destroy()}),d.then(()=>l)},zO={width:16,height:9},WO={multiplier:1,isVertical:!1},GO={width:"",height:"",marginLeft:"",marginTop:""},YO=(e,t,i)=>{const r=e.ownerDocument.defaultView.IntersectionObserver;let n=Vo.a;const a=new Promise(a=>{const o=new r(e=>{let[{isIntersecting:t,intersectionRatio:i}]=e;(t||i>0)&&(n(),a())},{threshold:i,rootMargin:t+" 0px"});o.observe(e),n=()=>{o.disconnect()}});return{teardown:n,promise:a}},qO=40,XO=(e,t,i,r,n,a)=>{const o=e?r:t,s=e?i:n;return{width:o,height:s,top:(a.height-s)/2,left:(a.width-o)/2}},KO=e=>{const{image:t,boundingRectangle:{width:i,height:r},scaleForHorizontal:n=1,scaleForVertical:a=1,pixelRatio:o,stretch:s}=e,d=t.width,l=t.height,c=d/l,u=c>i/r,h=c>1?n:a,p=h*(i<d||s?i:d),A=h*(r<l||s?r:l),m=d*(A/l),f=l*(p/d);return{width:u?p:m,height:u?f:A,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:XO(u,p,A,m,f,{width:i,height:r}),coeff:d*l/(i*r*o),isHorizontal:c>1,smartCenters:t.smartCenters}},QO=e=>{let{size:t,images:i}=e;const{width:r,height:n}=t,a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],r=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),n=[];for(const a of i)if(a.width&&a.height&&a.url){const t=fo({},e,{pixelRatio:r,image:a});n.push(KO(t))}n.sort((e,t)=>e.coeff-t.coeff);for(const a of n)if(a.coeff>1)return a;return null!==(t=n[n.length-1])&&void 0!==t?t:{}}({boundingRectangle:{width:r,height:n},images:Object(Ho.a)(i,e=>{let[t,i,r,n]=e;return{url:t,width:parseInt(i,10),height:parseInt(r,10),smartCenters:n?n["smart-centers"]:[]}}),stretch:!0});if(Boolean(a))return a.url},JO=400,ZO=JO,$O="200%",eS="_displayController_"+Math.floor(1e3*Math.random());class tS{get displayController(){return Bo.c.warning({name:"GetDisplayControllerInPublicController",message:"AdSDK Warning: get displayController is deprecated, it will NOT be working in next versions"}),go(this)}set displayController(e){Bo.c.warning({name:"SetDisplayControllerInPublicController",message:"AdSDK Warning: set displayController is deprecated, it will NOT be working in next versions"}),vo(this,e)}constructor(e){yo(this,"onClickThrough",void 0),yo(this,"onStartError",void 0),yo(this,"onPlayStateChanged",void 0),yo(this,"onAdSkippableStateChange",void 0),yo(this,"onComplete",void 0),yo(this,"onFulfilled",void 0),yo(this,"onSlotVisible",void 0),yo(this,"onBeforeAdStart",void 0),yo(this,"onAdStartRejected",void 0),yo(this,"onAdStart",void 0),yo(this,"onAdEnd",void 0),yo(this,"onAdMediaStart",void 0),yo(this,"onAdMediaEnd",void 0),yo(this,"onAdSkipped",void 0),yo(this,"onAdImpression",void 0),yo(this,"onAdContentSizeChange",void 0),yo(this,"onAdRemainingTimeChange",void 0),yo(this,"adStarted",!1),yo(this,"paused",!0),vo(this,e),go(this).onBeforeAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(i){console.error(i)}}),go(this).onAdStartRejected.add(()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(e){console.error(e)}}),go(this).onAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(i){console.error(i)}}),go(this).onAdMediaStart.add(e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(i){console.error(i)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(i){console.error(i)}}),go(this).onAdMediaEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(i){console.error(i)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(i){console.error(i)}if("function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(i){console.error(i)}}),go(this).onAdEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(i){console.error(i)}}),go(this).onClickThrough.add(()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(e){console.error(e)}}),go(this).onAdSkipped.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(i){console.error(i)}}),go(this).onAdPodClose.add(()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(e){console.error(e)}});const t=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(e){console.error(e)}};go(this).onAdPodResume.add(t),go(this).onAdPodStart.add(t),go(this).onAdPodPause.add(()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(e){console.error(e)}}),go(this).adSkippableState.add(e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(t){console.error(t)}}),go(this).onAdPodImpression.add(()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(e){console.error(e)}}),go(this).adContentSize.add(()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(e){console.error(e)}}),go(this).adPodRemainingTime.add(()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(e){console.error(e)}})}getCurrentContentType(){const e=go(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=go(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===go(this).getVolume());const t=async()=>{go(this).setMuted(go(this).autoplayAbilitySignal.getValue().requireMute||e);try{await go(this).play()}catch(t){Bo.c.error({error:new Lo.a(t,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===go(this).getCurrentContentType()?go(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){go(this).pause()}skip(){Bo.c.event({name:"PublicControllerSkip",probability:Mo.a,data:{}}),go(this).skipAllViewers()}clickThrough(){go(this).clickThrough()}getPaused(){return go(this).getPaused()}getMuted(){return 0===go(this).getVolume()}getVolume(){return go(this).getVolume()}setVolume(e){go(this).setVolume(e)}getDuration(){return go(this).getDuration()}getAdWidth(){return go(this).getAdWidth()}getAdHeight(){return go(this).getAdHeight()}getCurrentTime(){return go(this).getCurrentTime()}getAdSkippableState(){return go(this).adSkippableState.getValue()}getAdContentSize(){return go(this).adContentSize.getValue()}setStatsRootFields(e){Bo.c.event({name:"UsingSetStatsRootFieldsInPublicController",probability:Mo.a,data:void 0}),Bo.c.setRootFields(e)}destroy(){go(this).destroy()}}class iS extends tS{constructor(e){super(e.displayController),this.params=e,bo(this,"play",e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e))),bo(this,"resume",()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume())),bo(this,"pause",()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()))}}let rS=!1;const nS={lock:()=>{rS=!0},unLock:()=>{rS=!1},isLocked:()=>rS},aS=((e,t)=>i=>{let r,n;const a=()=>{e(n),n=NaN},o=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return a(),n=t(e=>{n=NaN,r=i.call(this,e,...o)}),r};return o.cancel=a,o})(qv,Yv),oS={stickTo:"auto",stickyColorScheme:"dark"},sS=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class dS extends hd.a{constructor(){super(),_o(this,"initialState","Inline"),_o(this,"currentState",this.initialState),_o(this,"nextState",void 0),_o(this,"transitionWays",{Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"}),_o(this,"onStateChange",[]),_o(this,"subscribeForStateTransition",(e,t)=>this.subscribeForStateChange(i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler(()=>{this.onStateChange.length=0})}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=Object(Od.a)(this.onStateChange,t=>t!==e)}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var lS=i(110),cS=i.n(lS);const uS=ZA,hS=e=>{let{adWidth:t,adHeight:i,windowWidth:r,description:a,isAdaptiveCreative:o}=e;if(!a)return!1;if(o)return!0;const s=uS*(t/i);return!!n(s)&&s/r<.55},{locals:pS}=cS.a,AS=i(166);class mS extends hd.a{constructor(e){super(),this.params=e,Oo(this,"setDescription",Vo.a),Oo(this,"description",""),Oo(this,"withDisabledAnimation",e=>{this.setAnimationEnabled(!1),e(),function(e){e.offsetLeft}(this.params.stickyWrapper),this.setAnimationEnabled(!0)}),Oo(this,"waitForAnimationEnd",()=>{const e=Object(wd.a)(JO),t=e=>e.target===this.params.stickyWrapper&&("width"===e.propertyName||"transform"===e.propertyName);let i=Vo.a;const r=new Promise(e=>i=Object(Fd.a)({element:this.params.stickyWrapper,eventName:"transitionend",listener:i=>{t(i)&&e()}})),n=()=>{e.clear(),i()};return this.addDestroyHandler(n),Promise.race([e.promise,r]).then(n)}),this.render(),this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper,!0),sS(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__variant__flyroll,!0):this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__variant__covering,!0)}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=sS(this.params.stickyConfig.stickTo)||hS({adWidth:(null===e||void 0===e?void 0:e.width)||0,adHeight:(null===e||void 0===e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__additionalContent_enabled,t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;case"Attached":e=!0,t=!1;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__unAnimated,!0)}render(){const{stickyWrapper:e}=this.params,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler(()=>{Object(jo.a)(t),Object(jo.a)(i)})}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,pS.yaInpageAdditionalContent,!0),sS(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,pS.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleClassName(e,pS.yaInpageAdditionalContent_dark,!0);break;default:Object(Vo.a)()}e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,pS.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,pS.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(Object(Fd.a)({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,pS.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,pS.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(Object(Fd.a)({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,pS.yaInpageCross,!0),e.innerHTML=AS,this.addDestroyHandler(Object(Fd.a)({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:r}=e;return i?r.add(t):r.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.stickyWrapper,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__sticky,e),sS(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__sticky__covering,e),!sS(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:Object(Vo.a)()}}setAttachStateClassNames(e){this.toggleStickyWrapperClassName(pS.yaInPageStickyWrapper__detached,!e)}}const fS=320,vS=e=>{let{direction:t,offsets:i,getInpageCurrentRect:r,getViewDimensions:n,getStickyDimensions:a,getPlaceholderDimensions:o}=e;const s=i.x*-t.x,d=i.y*-t.y,l=r(),c=l.left,u=l.top,h=n(),p={x:(-1===t.x?0:h.width-l.width)-c+s,y:(-1===t.y?0:h.height-l.height)-u+d},A=a(),m=o(),f={x:A.width/m.width,y:A.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:f}},gS={covering:{x:0,y:0},flyroll:{x:32,y:24}};class yS{constructor(e){var t,i,r;this.params=e,r={horizontal:"right",vertical:"bottom"},(i="intrinsicStickPosition")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},()=>this.actualizeStickPosition())}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return sS(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:fS,height:uS}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=sS(this.params.stickyConfig.stickTo)?gS.flyroll:gS.covering,i={x:sS(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:r,scale:n,translation:a}=vS({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:r,transform:"translate("+a.x+"px, "+a.y+"px) scale("+n.x+", "+n.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return So({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getStickyWrapperDOMRect(),{width:a,height:o}=this.getViewDimensions(),s="bottom"===e.vertical?o-n+"px":"";return So({top:"top"===e.vertical?r+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?a-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=sS(this.params.stickyConfig.stickTo)?gS.flyroll:gS.covering,i="top"===e.vertical?t.y+"px":"",r="bottom"===e.vertical?t.y+"px":"",n="left"===e.horizontal?t.x+"px":"",a="right"===e.horizontal?t.x+"px":"",o=this.getStickyDimensions();return{top:i,right:a,bottom:r,left:n,width:sS(this.params.stickyConfig.stickTo)?o.width+"px":"100%",height:o.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getPlaceholderDOMRect(),{left:a,right:o,top:s,bottom:d,width:l,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-r+"px":"",bottom:"bottom"===e.vertical?n-d+"px":"",left:"left"===e.horizontal?a-t+"px":"",right:"right"===e.horizontal?i-o+"px":"",width:l+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const bS=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class _S{constructor(e){var t,i,r;this.elements=e,r=[],(i="storedStyles")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}save(){Object(Uo.a)(this.elements,e=>{this.storedStyles.push(this.extract(e))})}restore(){Object(Uo.a)(this.elements,(e,t)=>{v(e,this.storedStyles[t])}),this.storedStyles.length=0}extract(e){return Object(Td.a)(bS,(t,i)=>(t[i]=e.style[i],t),{})}}class OS extends hd.a{constructor(e){super(),this.params=e,Eo(this,"win",void 0),Eo(this,"stickyInpageLayout",void 0),Eo(this,"stickyFSA",void 0),Eo(this,"stickyPositioning",void 0),Eo(this,"stylesStore",void 0),Eo(this,"stickyConfig",void 0),Eo(this,"handleWindowResize",aS(()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),Eo(this,"setDescription",e=>this.stickyInpageLayout.setDescription(e)),Eo(this,"handleFromInlineToDetachTransition",()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation(()=>{v(this.params.stickyWrapper,To({position:"fixed"},this.stickyPositioning.getDetachedStateRect()))}),sS(this.stickyConfig.stickTo)||v(this.params.wrapper,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions())),this.stickyInpageLayout.handleClassNames()}),Eo(this,"handleFromDetachToStickyTransition",async()=>{sS(this.stickyConfig.stickTo)?v(this.params.stickyWrapper,this.stickyPositioning.getTransformStyles()):(v(this.params.stickyWrapper,this.stickyPositioning.getStickyStateRect()),v(this.params.wrapper,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>{v(this.params.stickyWrapper,To({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()))}),this.stickyInpageLayout.handleClassNames()}),Eo(this,"handleFromStickyToAttachTransition",async()=>{this.stickyInpageLayout.withDisabledAnimation(()=>{v(this.params.stickyWrapper,To({position:"absolute"},this.stickyPositioning.getAttachedStateRect()))}),this.stickyInpageLayout.handleClassNames()}),Eo(this,"handleFromAttachToInlineTransition",async()=>{this.stickyInpageLayout.handleClassNames(),sS(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation(()=>{v(this.params.stickyWrapper,this.stickyPositioning.getInlineStateRect())}),this.stickyInpageLayout.withDisabledAnimation(()=>{v(this.params.stickyWrapper,this.stickyPositioning.getTransformStyles())}),v(this.params.stickyWrapper,{transform:""})):(v(this.params.stickyWrapper,this.stickyPositioning.getInlineStateRect()),v(this.params.wrapper,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>this.stylesStore.restore())}),this.win=this.params.placeholder.ownerDocument.defaultView,this.stickyFSA=new dS,this.addDestroyHandler(()=>this.stickyFSA.destroy()),this.stickyConfig=To({},oS,y(this.params.stickyConfig)),this.stickyInpageLayout=new mS({stickyFSA:this.stickyFSA,stickyWrapper:this.params.stickyWrapper,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler(()=>this.stickyInpageLayout.destroy()),this.stickyPositioning=new yS({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.stickyWrapper.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.placeholder.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.stickyWrapper.getBoundingClientRect()}),this.stylesStore=new _S([this.params.stickyWrapper,this.params.wrapper]),this.addDestroyHandler(Object(Fd.a)({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}const SS=(e,t)=>"replayMode"in e?e.replayMode:t.replayMode,TS=e=>{let{win:t,inPageConfig:i,adBreak:r}=e;return!Fu(t)&&("boolean"===typeof i.stick?i.stick:r.stick)},ES=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();class wS extends hd.a{constructor(e){super(),this.params=e,Po(this,"overlapVisibility",new pd.a(!1)),Po(this,"recalculateElementOverlap",aS(()=>{if(this.isDestroyed)return;const e=!Co(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(ri(this.recalculateElementOverlap));const{promise:e,clear:t}=Object(wd.a)(0);e.then(this.recalculateElementOverlap).catch(sd.a),this.addDestroyHandler(t)}}const CS=[0,0];class PS extends hd.a{constructor(e){var t,i,r;super(),r=void 0,(i="visualVisibility")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const n=new Am(e,{considerDocumentVisibility:!1});this.addDestroyHandler(()=>n.destroy());const a=new pd.a(!1);n.totalVisibilityValueSignal.add(e=>a.dispatch(e));const o=new wS({element:e,points:[CS]});this.addDestroyHandler(()=>o.destroy()),this.visualVisibility=new pd.a(n.totalVisibilityValueSignal.getValue()&&o.overlapVisibility.getValue()),_([a,o.overlapVisibility],(e,t)=>e&&t,e=>this.visualVisibility.dispatch(e))}}class IS extends hd.a{constructor(e){var t;super(),this.params=e,Do(this,"publicController",void 0),Do(this,"displayController",void 0),Do(this,"displayControllerOnAdEndPromise",void 0),Do(this,"adLoader",void 0),Do(this,"replayMode",null),Do(this,"stickyInPageController",void 0),Do(this,"stickyConfig",void 0),Do(this,"pausedByContainerVisibility",!1),Do(this,"pausedByDocumentVisibility",!1),Do(this,"isCurrentlyInStickyState",!1),Do(this,"documentVisibility",new pd.a(!1)),Do(this,"isContainerSizeFixed",void 0),Do(this,"pauseByPublicMethodSignal",new pd.a(!1)),Do(this,"visibilitySlot",void 0),Do(this,"visibility",void 0),Do(this,"showAds",async e=>{const{layout:t}=this.params,[i]=e.mediaAds.slice(-1),{vastAd:r}=i,{clickThrough:n}=r,a=function(e,t){const{adParametersObject:i}=e;if(!Object(zo.a)(i))return;const r=zi(i),n=null===r||void 0===r?void 0:r.packshotImageUrl;if(n)return n;if(!Object(zo.a)(i))return;const a=xi(i.adParameters);return 0!==a.length?QO({size:t,images:a}):void 0}(r,this.params.layout.placeholderSize.getValue());a&&"manual"===this.replayMode&&(Object(xo.a)("InPage: packshot image found for manual mode ["+a+"]"),this.displayController.onAdPodThirdQuartile.addOne(()=>{p(a)}));try{if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.autoplayAbilitySignal.getValue().requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.addOne(()=>{this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")}),Object(xo.a)("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),Bo.c.event({name:"InPageWaitingForUserGesture",probability:Mo.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})):(Object(xo.a)("inPage: start to play ad"),this.displayController.play(!0).catch(e=>{Bo.c.error({error:new Lo.a(e,{code:"InPageOnReadyPlayError"})})}),Bo.c.event({name:"InPageAutoplay",probability:Mo.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if("manual"===this.replayMode){t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),Object(xo.a)("inPage: ad played. show packshot"),a?(v(t.packshotContainer,{backgroundImage:"url("+a+")"}),Bo.c.event({name:"InPagePackshotBackgroundImage",data:{vastAd:r}})):this.displayController.isLastAdPodRetainedMedia()?(t.videoSlot.muted=!0,t.videoSlot.loop=!0,t.videoSlot.style.objectFit="cover",this.displayController.videoNodeController.play(),Bo.c.event({name:"InPagePackshotBackgroundLoopedVideo",data:{vastAd:r}})):Bo.c.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:r}});const e=new Nf({container:t.packshotContainer,containerSize:t.videoSlotContainerSize,buttonText:r.adParametersObject&&Hi(r.adParametersObject)||_d("LEARN_MORE",this.params.adConfig.lang),descriptionText:r.description,duration:1/0,onButtonClick:()=>{window.open(n,"_blank")}});this.addDestroyHandler(()=>{e.destroy({reason:"stopAd",details:void 0})})}else Object(xo.a)("inPage: finish playing ad"),this.isCurrentlyInStickyState&&await this.turnOffStickyMode({animated:!0}),this.destroy(void 0)}catch(o){this.destroy(o)}}),Do(this,"handleDocumentVisibilityChange",e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(Object(xo.a)("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,Bo.c.event({name:"InPageDocumentVisibilityResume",probability:Mo.a,data:{}})):(Object(xo.a)("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,Bo.c.event({name:"InPageDocumentVisibilityPause",probability:Mo.a,data:{}}))}),Do(this,"handleVisibilityChange",e=>{this.documentVisibility.getValue()&&(e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(Object(xo.a)("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):!this.isCurrentlyInStickyState&&this.pausedByContainerVisibility&&this.displayController.getPaused()&&(Object(xo.a)("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),Bo.c.event({name:"InPageElementVisibilityResume",probability:Mo.a,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(Object(xo.a)("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isCurrentlyInStickyState||this.pausedByContainerVisibility||this.displayController.getPaused()||(Object(xo.a)("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),Bo.c.event({name:"InPageElementVisibilityPause",probability:Mo.a,data:{}})))}),Do(this,"onceWhenCanShowInpage",()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(e){console.error(e)}}),Do(this,"handleStickyInpageCrossClick",()=>{this.stickyInPageController&&(Object(xo.a)("inPage: handle cross click"),Bo.c.event({name:"InPageStickyCrossClick",probability:Mo.a,data:{}}),this.turnOffStickyMode({animated:!0}),this.visibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))}),Do(this,"makeStickAction",async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(t){Bo.c.error({error:new Lo.a(t,{code:"InPageOnStickError"})})}}),Do(this,"handlePauseByMethodCall",e=>{e&&this.isCurrentlyInStickyState&&(Object(xo.a)("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))}),Object(xo.a)("inPage: run constructor"),this.addDestroyHandler(e=>{Object(xo.a)("inPage: destroy error=["+e+"]")});const{layout:i,adConfig:r,initialContainerRect:n}=e,{shadowRootContainerElement:a,placeholderElement:o,placeholderSize:s,videoSlotContainerSize:d}=i;this.isContainerSizeFixed=n.height>0,Object(xo.a)("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(n)+"]"),this.isContainerSizeFixed?(v(o,{height:"100%"}),v(a,{height:"100%"})):(Object(xo.a)("inPage: adjust to default ad size"),wo({placeholderElement:o,placeholderWidth:s.getValue().width,adContentSize:zO}));const l=new Gg({config:r,videoNode:i.videoSlot,videoWrapperNode:i.slot,renderSkin:J_});this.displayController=l,this.subscribeDisplayControllerEvents(l),this.visibilitySlot=null!==(t=l.config.visibilitySlot)&&void 0!==t?t:o;const c=new PS(this.visibilitySlot);if(this.visibility=c.visualVisibility,this.addDestroyHandler(()=>c.destroy()),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=r;e&&this.addDestroyHandler(_([d,l.adContentSize],(t,i)=>(function(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return WO;if(void 0===i.width&&void 0===i.height)return WO;const{innerSize:n,adjacentSize:a,extraHorizontalSpace:o}=yr({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=n/(a/(o?t.width:t.height)),d=n/(1-r);return{multiplier:Math.min(s,d)/n,isVertical:o}})({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e}),e=>{const t=d.getValue();Object(xo.a)("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(t)+"] adContentSize=["+JSON.stringify(l.adContentSize.getValue())+"]");const r=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:r,multiplier:n}}=e;if(1===n||!t||!i)return;const a=r?t:i,o=r?i:t,s=o*n,d=-1*(o*(n-1))/2;return{width:r?a:s,height:r?s:a,marginLeft:r?0:d,marginTop:r?d:0}}({slotSize:t,videoEarsCompensation:e}),n=r?b(r,e=>e+"px"):GO;v(i.videoSlot,n)}))}else{const e=e=>{wo({placeholderElement:o,placeholderWidth:s.getValue().width,adContentSize:e})};e(l.adContentSize.getValue()),this.addDestroyHandler(l.adContentSize.add(e))}this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(Object(IA.a)(i.containerDocument)),this.addDestroyHandler(lr(i.containerDocument,e=>this.documentVisibility.dispatch(e))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler(()=>{this.pauseByPublicMethodSignal.removeAll()}),this.publicController=new iS({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController}),i.makeVisible(),Object(xo.a)("inPage: call constructor callback"),this.processInPage().catch(e=>this.destroy(e))}async processInPage(){const{adConfig:e,layout:t}=this.params,i=this.waitForShowing();Object(xo.a)("inPage: wait for loadVmap");const r=await this.loadVmap();this.replayMode=SS(e,r),"manual"===this.replayMode&&(this.displayController.enableRetainLastMediaAfterPlayback(),this.displayController.disableCreativePackshot()),TS({win:window,inPageConfig:e,adBreak:r})&&(Object(xo.a)("inPage: initialize sticky"),this.stickyConfig=Io({stickTo:r.stickTo,stickyColorScheme:r.stickyColorScheme},y(Va(e))),this.stickyInPageController=new OS({placeholder:t.placeholderElement,stickyWrapper:t.stickyWrapperElement,wrapper:t.wrapperElement,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough(),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler(()=>{this.turnOffStickyMode({animated:!1})})),Object(xo.a)("inPage: wait for loadAd");const n=await this.loadAd(r);qs&&(Object(xo.a)("inPage: wait for warming up"),await Promise.race([this.waitForWarmingUpPosition(),i])),Object(xo.a)("inPage: warm up ad"),await this.warmAdUp(n),Object(xo.a)("inPage: wait till visible"),await i,Object(xo.a)("inPage: visibility reached"),this.onceWhenCanShowInpage();let a=this.showAds(n);"auto"===this.replayMode&&this.displayController.onAdEnd.add(async()=>{if(!this.displayController.areAllAdPodsCompleted())return Object(xo.a)("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy(void 0);Object(xo.a)("inPage: all AdPods has been completed"),await a,this.isDestroyed||(Object(xo.a)("inPage: play ad again"),Bo.c.event({name:"InPageReplayAdAutomatically",probability:Mo.a,data:{}}),a=this.showAds(n))})}subscribeDisplayControllerEvents(e){e.onDestroy.add(e=>this.destroy(e)),e.onAdPodStart.addOne(async()=>{const{visibility:e}=this;e.add(function(e,t,i,r){function n(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!==typeof i&&(r=i,i=!1);let a=null;const o=function(){const o=arguments;r=r||this,i&&null===a&&e.apply(r,o),n(),a=window.setTimeout((function(){i||e.apply(r,o),a=null}),t)};return o.cancel=n,o}(e=>{Object(xo.a)("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)},ZO));const t=e.getValue();Object(xo.a)("handle AdPodStart with visualVisibilityValue=["+t+"] visibility=["+this.displayController.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(t)}),e.onAdStop.add(()=>{this.displayController.destroy()}),e.onAdMediaStart.add(e=>{let{viewer:t}=e;this.stickyInPageController&&this.stickyInPageController.setDescription(t.mediaAd.vastAd.description)})}async loadVmap(){const{adConfig:e}=this.params,t=Boolean(e.partnerId&&void 0!==e.category);t&&Bo.c.error({error:new Lo.a({code:"INPAGE_LOAD_VMAP",details:e})}),this.adLoader=await HO(Io({},e,{adBreakType:t?void 0:"inpage"}),void 0,void 0,this.displayController.getAdPlacementOptions()),this.addDestroyHandler(()=>{this.adLoader.destroy()});const i=this.adLoader.getInPageBlock();if(i)return i;throw new Lo.a({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:e}})}async waitForShowing(){const{layout:e}=this.params,t=mo(e.shadowRootContainerElement,this.visibilitySlot,hm);this.addDestroyHandler(t.unsubscribe),await t.promise}async loadAd(e){const t=await this.adLoader.load(e);return t.mediaAds.length>1&&Bo.c.event({name:"InPageHasMultipleMediaAds",probability:Mo.a,data:{mediaAdsCount:t.mediaAds.length}}),t}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(Vo.a),await this.displayController.prepareToPlayAd(e)}async waitForWarmingUpPosition(){if(!qs)return;const{promise:e,teardown:t}=YO(this.params.layout.shadowRootContainerElement,$O,0);return this.addDestroyHandler(t),e}async warmAdUp(e){const{layout:t}=this.params;Bo.c.event({name:"InPageWarmUpStart",probability:Mo.a,data:{relativeCoordinates:Or(t.videoSlot),verticalScroll:Object(xs.a)(()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop)}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},r=this.changeStickyState({willBeSticky:!1,animated:t});return ld(r)?r.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isCurrentlyInStickyState!==t&&((!t||!nS.isLocked())&&(!t||!this.displayController.getPaused())))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:r}=this;if(!r)return;const n=()=>{const e=this.stickyConfig.stickTo;Bo.c.event({name:"InPageChangeStickyState",probability:Mo.a,data:{willBeSticky:t,stickTo:e}});const n=!t;if(this.displayController.setSkinControlHideReason("timeline",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",n,"INPAGE_STICKY_RETAINS_CONTROL"),Object(xo.a)("inPage: change sticky state, willBeSticky=>"+t),t)return nS.lock(),this.isCurrentlyInStickyState=!0,this.displayController.setBlurDisplay(!1),i?r.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};nS.unLock(),this.isCurrentlyInStickyState=!1;const t=i?r.unSticky():void 0;return t?t.then(e).catch(sd.a):e(),t}};return i?this.makeStickAction(n):n()}}const DS=function(e){void 0===e&&(e=window);try{const t=e.document;return!!Boolean(t.body.attachShadow)&&Oi(function(e,t){try{if(Object(Ys.a)(e.attachShadow))return e.attachShadow(t);if(Object(Ys.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(Ys.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(t.createElement("div"),{mode:"open"}))}catch(t){return!1}},{locals:NS}=cS.a,RS=e=>{const t=No(e);return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=zf,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(NS.InPageLayout__videoSlot),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(t),t};class kS extends hd.a{constructor(e){super(),this.shadowRootContainerElement=e,Ro(this,"containerWindow",void 0),Ro(this,"containerDocument",void 0),Ro(this,"placeholderElement",void 0),Ro(this,"placeholderSize",void 0),Ro(this,"videoSlotContainerSize",void 0),Ro(this,"wrapperElement",void 0),Ro(this,"stickyWrapperElement",void 0),Ro(this,"videoSlotContainer",void 0),Ro(this,"slot",void 0),Ro(this,"packshotContainer",void 0),Ro(this,"videoSlot",void 0),this.containerWindow=Object(xs.a)(()=>e.ownerDocument.defaultView,e=>{Bo.c.error({error:new Lo.a(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})})||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.className=NS.yaInPagePlaceholderElement,this.placeholderElement=t;const i=this.containerDocument.createElement("div");Wv(i,{width:"100%",height:"100%"}),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(NS.yaInPageWrapper),this.wrapperElement=r,this.stickyWrapperElement.appendChild(this.wrapperElement),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(NS.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer),this.slot=this.containerDocument.createElement("div"),this.slot.classList.add(NS.InPageLayout__slot),this.wrapperElement.appendChild(this.slot),this.packshotContainer=this.containerDocument.createElement("div"),this.packshotContainer.classList.add(NS.InPageLayout__packshotContainer),this.wrapperElement.appendChild(this.packshotContainer),this.videoSlot=RS(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.shadowRootContainerElement.appendChild(this.placeholderElement);const n=Cn(this.shadowRootContainerElement,cS.a.toString());this.addDestroyHandler(()=>{Object(jo.a)(n)});const a=new im(t);this.placeholderSize=a.onResize,this.addDestroyHandler(()=>a.destroy());const o=new im(this.videoSlotContainer);this.videoSlotContainerSize=o.onResize,this.addDestroyHandler(()=>o.destroy())}makeVisible(){Wv(this.placeholderElement,{visibility:"visible"})}setPackshotContainerVisibility(e){Wv(this.packshotContainer,{display:e?"block":"none"})}setSlotVisibility(e){Wv(this.slot,{display:e?"block":"none"})}}const VS=e=>"undefined"===e,jS=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:a,win:o=window}=e;const s=Object(xs.a)(()=>o.document.querySelectorAll(""+i)),d={insertAfter:null,insertInto:null,win:o};if(!s||0===s.length||!Object($s.a)(i)||!i||VS(i))return d.insertInto=function(e,t){return void 0===t&&(t=window),"string"===typeof e?t.document.getElementById(e):e}(t,o),d;const l=a||0;if(!r(parseInt(""+l,10))&&!/^\d+%$/.test(""+l)&&!/^\d+$/.test(""+l))throw new Lo.a({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:a,insertAfter:i}});const c=s.length;if(0===c)return d;const u=s[((e,t)=>{let i=Object($s.a)(e)?parseInt(e,10):e;if(Object($s.a)(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else n(i)&&(i-=1);return i=Bt(i,0,t-1)})(l,c)];return d.insertAfter=u,d},MS=e=>{let{insertAfter:t,insertInto:i}=e;return null!==t&&void 0!==t?t:i},LS=Object(Ys.a)(window.WeakSet)?new window.WeakSet:[],BS={place(e){const t=MS(e);return Object(Sd.a)(LS)?LS.push(t):LS.add(t)},free(e){const t=MS(e);return Object(Sd.a)(LS)?LS.splice(LS.indexOf(t),1):LS.delete(t)},isFree(e){const t=MS(e);return Object(Sd.a)(LS)?-1===LS.indexOf(t):!1===LS.has(t)}},xS=(e,t)=>{Object(xo.a)("inPage: normalizeInPageConfig");const i=(e=>{if(!Object(zo.a)(e))throw new Lo.a({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Ui(q(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&c(e.vastUrl)&&(i=Object($o.b)(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:r}=e;if(void 0!==r&&(!$(r)||r>=1))throw new Lo.a({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:r}});return ko({},e,{controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!==r&&void 0!==r?r:0})})(t),{insertPosition:r,insertAfter:n}=i;VS(n)&&Bo.c.event({name:"InPageInsertAfterIsSerializedUndefined",data:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}}),Object(xo.a)("inPage: prepareGetOrCreateContainerElementParams");const a=jS({insertPosition:r,insertAfter:n,containerElementOrId:e});if(!(e=>Boolean(e.insertAfter||e.insertInto))(a))throw new Lo.a({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});if(!BS.isFree(a))throw new Lo.a({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});BS.place(a);const o=(e=>{let{insertAfter:t,insertInto:i,win:r=window}=e;if(void 0===t||null===t)return i;const n=r.document.createElement("div");return t.parentNode.insertBefore(n,t.nextSibling)})(a),s=o.getBoundingClientRect();if(0===s.width)throw new Lo.a({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:n,insertPosition:r,containerRect:s}});const d=o.ownerDocument.defaultView,l=Ln(o);DS(d)&&!l&&Bo.c.error({error:new Lo.a({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:Object(xs.a)(()=>o.outerHTML)}})});const u=l||o;Object(xo.a)("inPage: create InPageLayout");const h=new kS(u);return h.addDestroyHandler(()=>{BS.free(a)}),{layout:h,adConfig:i,initialContainerRect:s,containerElementByParams:o}};!function(e,t){nt({videoAd:{loadedModules:{[e]:t},modules:{[gs.a]:{[e]:t}}}},"ya")}("InPage",{addInPageVideo:(e,t,i)=>{Object(xo.a)("inPage: add inpage video");const r="function"===typeof i?Object(Fo.a)(i,"INPAGE_CALLBACK_ERROR"):Vo.a;let n;try{n=xS(e,t)}catch(a){return Object(xo.a)("inPage: prepareInPageParameters error=["+a+"]"),f(a),void r(a)}Bo.c.event({name:"AddInPageVideo",probability:Mo.a,data:{adConfig:t,containerElementOrId:String(e),containerRect:n.initialContainerRect}});try{const e=new IS(n);Object(xo.a)("inPage: call public callback"),r(e.publicController),e.addDestroyHandler(e=>{Object(jo.a)(n.containerElementByParams),n.layout.destroy(),e&&(f(e),r(e))})}catch(a){Object(xo.a)("inPage: create InPage error=["+a+"]"),Bo.c.error({error:new Lo.a(a,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),r(a)}}})}]);